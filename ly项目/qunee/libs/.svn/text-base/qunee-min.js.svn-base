window.Q=function(t,i,e){"use strict";function n(t,i,e){if(t.hasChildren()){var r=t._g0||t.getChildren();if(r){r=r._jl||r;for(var o=0,s=r.length;s>o;o++)if(i.call(e,r[o])===!1||n(r[o],i,e)===!1)return!1;return!0}}}function r(t){if(!t.hasChildren())return t instanceof Aa?t:null;for(var i,e=t._g0._jl,n=e.length-1;n>=0;){if(i=e[n],i=r(i))return i;n--}return null}function o(t,i,e,n){return n?s(t,i,e):h(t,i,e)}function s(t,i,e){t=t._jl||t;for(var n,r=0,o=t.length;o>r;r++)if(n=t[r],n.hasChildren()&&!s(n.children,i,e)||i.call(e,n)===!1)return!1;return!0}function h(t,i,e){t=t._jl||t;for(var n,r=0,o=t.length;o>r;r++)if(n=t[r],i.call(e,n)===!1||n.hasChildren()&&!h(n.children,i,e))return!1;return!0}function a(t,i,e,n){return n?l(t,i,e):_(t,i,e)}function l(t,i,e){t=t._jl||t;for(var n,r=t.length,o=r-1;o>=0;o--)if(n=t[o],n.hasChildren()&&!l(n.children,i,e)||i.call(e,n)===!1)return!1;return!0}function _(t,i,e){t=t._jl||t;for(var n,r=t.length,o=r-1;o>=0;o--)if(n=t[o],i.call(e,n)===!1||n.hasChildren()&&!_(n.children,i,e))return!1;return!0}function u(t,i,e){for(var n,r=(t._jl||t).slice(0);r.length;){n=r[0],r=r.splice(1);var o=i.call(e,n);if(o===!1)return!1;if(n.hasChildren()){var s=n.children;s=s._jl||s,r=r.concat(s)}}return!0}function c(t,i,e){for(var n,r=(t._jl||t).slice(0);r.length;){n=r[r.length-1],r=r.splice(0,r.length-1);var o=i.call(e,n);if(o===!1)return!1;if(n.hasChildren()){var s=n.children;s=s._jl||s,r=r.concat(s)}}return!0}function d(t,i){function e(t,e){for(var n=t.length,r=e.length,o=n+r,s=new Array(o),h=0,a=0,l=0;o>l;)s[l++]=h===n?e[a++]:a===r||i(t[h],e[a])<=0?t[h++]:e[a++];return s}function n(t){var i=t.length,r=Math.ceil(i/2);return 1>=i?t:e(n(t.slice(0,r)),n(t.slice(r)))}return n(t)}function f(t,i,e,n){t instanceof qo&&(t=t._jl);for(var r=0,o=(t._jl||t).length;o>r;r++){var s=i.call(e,t[r],r,n);if(s===!1)return!1}return!0}function v(t,i,e){for(var n=t instanceof qo,r=t._jl||t,o=0,s=r.length;s>o;o++){var h=r[o];i.call(e,h)&&(n?t.remove(h):t.splice(o,1),o--,s--)}}function g(t,i,e,n){t instanceof qo&&(t=t._jl);for(var r=(t._jl||t).length-1;r>=0;r--){var o=i.call(e,t[r],r,n);if(o===!1)return!1}return!0}function E(t){if(t.clone instanceof Function)return t.clone(!0);var i,e=[];return f(t,function(t){i=t&&t.clone instanceof Function?t.clone():t,e.push(i)},this),e}function m(t,i,n){n===e||0>n?t.push(i):t.splice(n,0,i)}function p(t,i){var e=t.indexOf(i);return 0>e||e>=t.length?!1:t.splice(e,1)}function y(t,i){var e=!1;return f(t,function(t){return i==t?(e=!0,!1):void 0}),e}function T(t,i){var e=t;for(var n in i)if(i.__lookupGetter__){var r=i.__lookupGetter__(n),o=i.__lookupSetter__(n);r||o?(r&&e.__defineGetter__(n,r),o&&e.__defineSetter__(n,o)):e[n]=i[n]}else e[n]=i[n];return e}function w(t,i,e){if(!(t instanceof Function))throw new Error("subclass must be type of Function");var n=null;"object"==typeof i&&(n=i,i=t,t=function(){i.apply(this,arguments)});var r=t.prototype,o=function(){};return o.prototype=i.prototype,t.prototype=new o,t.superclass=i.prototype,t.superclass.constructor=i,T(t.prototype,r),n&&T(t.prototype,n),e&&T(t.prototype,e),t.prototype.class=t,t}function O(t,i,e){return A(t,i,"constructor",e)}function A(t,i,e,n){var r=i.superclass;if(r){var o=r[e];return o?o.apply(t,n):void 0}}function b(t,i,e,n){if("constructor"==e)return L(t,i,n);if(i.super_ instanceof Function){var r=i.super_.prototype[e];return r instanceof Function?r.apply(t,n):void 0}}function L(t,i,e){return i.super_ instanceof Function?i.super_.apply(t,e):void 0}function x(t,i){return t.super_=i,t.prototype=Object.create(i.prototype,{super_:{value:i,enumerable:!1},constructor:{value:t,enumerable:!1}}),t}function S(t,i,e){if(!(t instanceof Function)&&t instanceof Object){i=t.super;var n;return t.hasOwnProperty("constructor")?(n=t.constructor,delete t.constructor):n=i?function(){i.apply(this,arguments)}:function(){},S(n,i,t)}if(i&&!(i instanceof Function)&&i instanceof Object)return S(t,i.super,i);if(i&&x(t,i),e){var r=t.prototype;for(var o in e)r[o]=e[o]}return t}function I(t,i,n,r,o){if(r)return void Object.defineProperty(t,i,{value:n,enumerable:!0});var s={configurable:!0,enumerable:!0},h="$"+i;n!==e&&(t[h]=n),s.get=function(){return this[h]},s.set=function(t){var e=this[h];if(e==t)return!1;var n=new cs(this,i,t,e);return this.beforeEvent(n)?(this[h]=t,o&&o.call(this,t,e),this.onEvent(n),!0):!1},Object.defineProperty(t,i,s)}function C(t,i){for(var e=0,n=i.length;n>e;e++){var r=i[e];I(t,r.name||r,r.defaultValue||r.value,r.readOnly,r.onSetting)}}function R(t,i,e){return i instanceof Object?t=t.bind(i):i&&!e&&(e=parseInt(i)),i&&!e&&(e=parseInt(i)),e?setTimeout(t,e):setTimeout(t)}function D(i,e){return e&&(i=i.bind(e)),t.requestAnimationFrame(i)}function P(t,i){return t.className=i,t}function N(t,i){if(!t.hasOwnProperty("classList")){var e=t.getAttribute("class");if(!e)return P(t,i);for(var n=e.split(" "),r=0,o=n.length;o>r;r++)if(n[r]==i)return;return e+=" "+i,P(t,e)}t.classList.add(i)}function M(t,i){if(!t.hasOwnProperty("classList")){var e=t.getAttribute("class");if(!e||!e.indexOf(i))return;for(var n="",r=e.split(" "),o=0,s=r.length;s>o;o++)r[o]!=i&&(n+=r[o]+" ");return P(t,n)}t.classList.remove(i)}function k(t){return!isNaN(t)&&t instanceof Number||"number"==typeof t}function B(t){return t!==e&&(t instanceof String||"string"==typeof t)}function G(t){return t!==e&&(t instanceof Boolean||"boolean"==typeof t)}function z(t){return Array.isArray(t)}function F(i){i||(i=t.event),i.preventDefault?i.preventDefault():i.returnValue=!1}function $(i){i||(i=t.event),i.stopPropagation?i.stopPropagation():i.cancelBubble||(i.cancelBubble=!0)}function j(t){F(t),$(t)}function Y(t){return Math.floor(Math.random()*t)}function H(){return Math.random()>=.5}function U(t){var i=!0;for(var e in t){i=!1;break}return i}function W(t){if(t&&t>0&&1>t){var i=Math.floor(16777215*Math.random());return"rgba("+(i>>16&255)+","+(i>>8&255)+","+(255&i)+","+t.toFixed(2)+")"}return V(Math.floor(16777215*Math.random()))}function q(t){return t>0?Math.floor(t):Math.ceil(t)}function X(t){return t>0?Math.ceil(t):Math.floor(t)}function V(t){return 16777216>t?"#"+("000000"+t.toString(16)).slice(-6):"rgba("+(t>>16&255)+","+(t>>8&255)+","+(255&t)+","+((t>>24&255)/255).toFixed(2)+")"}function K(t,i,e){"object"!=typeof e||e.hasOwnProperty("enumerable")||(e.enumerable=!0),Object.defineProperty(t,i,e)}function Z(t,i){for(var e in i)if("_"!=e[0]){var n=i[e];"object"!=typeof n||n.hasOwnProperty("enumerable")||(n.enumerable=!0)}Object.defineProperties(t,i)}function J(i,e){e||(e=t);for(var n=i.split("."),r=0,o=n.length;o>r;r++){var s=n[r];e=e[s]}return e}function Q(t){return t instanceof MouseEvent||t instanceof Object&&t.touches!==e}function ti(i){t.console&&console.log(i)}function ii(i){t.console&&console.trace(i)}function ei(i){t.console&&console.error(i)}function ni(t,i,e){var n,r,o;0==t._ml?(n=-1,o=0,r=i):0==t._mo?(n=0,o=1,r=e):(n=-1/t._ml,r=(t._ml-n)*i+t._mn,o=1);var s=new Jo;return s._ml=n,s._mn=r,s._mo=o,s._mk=i,s._mi=e,s._kt=Math.atan2(n,o),s._moos=Math.cos(s._kt),s._sin=Math.sin(s._kt),s}function ri(t,i,e,n,r){var o,s;i>n?o=-1:n>i&&(o=1),e>r?s=-1:r>e&&(s=1);var h,a;if(!o)return a=0>s?t.y:t.bottom,{x:i,y:a};if(!s)return h=0>o?t.x:t.right,{x:h,y:e};var l=(e-r)/(i-n),_=e-l*i,u=0>o?i-t.x:i-t.right,c=0>s?e-t.y:e-t.bottom;return Math.abs(l)>=Math.abs(c/u)?(a=0>s?t.y:t.bottom,h=(a-_)/l):(h=0>o?t.x:t.right,a=l*h+_),{x:h,y:a}}function oi(t,i,e,n,r,o,s,h){return 0>=s||0>=h||0>=e||0>=n?!1:(s+=r,h+=o,e+=t,n+=i,(r>s||s>t)&&(o>h||h>i)&&(t>e||e>r)&&(i>n||n>o))}function si(t,i,e,n,r,o){return r>=t&&t+e>=r&&o>=i&&i+n>=o}function hi(t,i,e,n,r,o,s,h,a){return a&&(t-=a,i-=a,e+=a+a,n+=a+a),r>=t&&o>=i&&t+e>=r+s&&i+n>=o+h}function ai(t,i,e,n,r,o,s,h){var a=t;a+=e;var l=i;l+=n;var _=r;_+=s;var u=o;return u+=h,r>t&&(t=r),o>i&&(i=o),a>_&&(a=_),l>u&&(l=u),a-=t,l-=i,0>a||0>l?null:new ts(t,i,a,l)}function li(t,i,n){if(B(t)&&(t=es.fromString(t)),!t)return{x:0,y:0};if(t.x!==e)return{x:t.x,y:t.y};var r,o,s=t.horizontalPosition,h=t.verticalPosition;switch(s){case ns:r=0;break;case os:r=i;break;default:r=i/2}switch(h){case ss:o=0;break;case as:o=n;break;default:o=n/2}return{x:r,y:o}}function _i(t,i,e){t.children.add(i,e),t.onChildAdd(i,e)}function ui(t,i){t._g0&&(t._g0.remove(i),t.onChildRemove(i))}function ci(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,i){return i.toUpperCase()})}function di(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function fi(t,i){var e=t.style;if(!e)return!1;var n,r;for(n in i)i.hasOwnProperty(n)&&(r=Ss(n))&&(e[r]=i[n]);return t}function vi(t){var i,e,n="";for(i in t)t.hasOwnProperty(i)&&(e=Ss(i))&&(n+=di(e)+":"+t[i]+";");return n?n.substring(0,n.length-1):n}function gi(t,i,e){(i=Ss(i))&&(t.style[i]=e)}function Ei(t,i){return Ls?(i&&!B(i)&&(i=vi(i)),Ls.insertRule?void Ls.insertRule(t+"{"+i+"}",0):void(Ls.addRule&&Ls.addRule(t,i,0))):!1}function mi(i,e){i.touches&&(i=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i.touches[0]);var n=e.getBoundingClientRect(),r=i.clientX||0,o=i.clientY||0;return Yo&&Go&&(t.pageXOffset&&r==i.pageX&&(r-=t.pageXOffset),t.pageYOffset&&o==i.pageY&&(o-=t.pageYOffset)),{x:r-n.left,y:o-n.top}}function pi(t,i,e){this._lq=t,this._scope=e,this._handler=i,this._dragPoints=new Ti,this._install()}function yi(t){return zo&&t.metaKey||!zo&&t.ctrlKey}function Ti(){this.points=[]}function wi(t,i,e,n,r){Ai(t,function(n){if(i){var r=n.responseXML;if(!r)return void(e||sh)("'"+t+"' XML format error.");i(r)}},e,n,r)}function Oi(t,i,e,n,r){Ai(t,function(n){if(i){var r,o=n.responseText;if(!o)return(e||sh)("'"+t+"' JSON format error."),r=new Error("'"+t+"' JSON format error."),i(o,r);try{o=JSON.parse(o)}catch(s){(e||sh)(s),r=s}i(o,r)}},e,n,r)}function Ai(t,i,e,n,r){(e===!1||n===!1)&&(r=!1);try{var o=new XMLHttpRequest,s=encodeURI(t);if(r!==!1){var h;h=s.indexOf("?")>0?"&":"?",s+=h+"__time="+Date.now()}o.open("GET",s),o.onreadystatechange=function(){return 4==o.readyState?o.status&&200!=o.status?void(e||sh)("'"+t+"' load error"):void(i&&i(o)):void 0},o.send(n)}catch(a){(e||sh)("'"+t+"' load error",a)}}function oi(t,i,e,n,r,o,s,h){return 0>=s||0>=h||0>=e||0>=n?!1:(s+=r,h+=o,e+=t,n+=i,(r>s||s>t)&&(o>h||h>i)&&(t>e||e>r)&&(i>n||n>o))}function hi(t,i,e,n,r,o,s,h){return r>=t&&o>=i&&t+e>=r+s&&i+n>=o+h}function bi(t,i,e){return t instanceof Object&&t.x?xi(t,i,0,0):Li(t,i,e,0,0)}function Li(t,i,e,n,r){var o=Math.sin(e),s=Math.cos(e),h=t-n,a=i-r;return t=h*s-a*o+n,i=h*o+a*s+r,new Ko(t,i,e)}function xi(t,i,e,n){e=e||0,n=n||0;var r=Math.sin(i),o=Math.cos(i),s=t.x-e,h=t.y-n;return t.x=s*o-h*r+e,t.y=s*r+h*o+n,t}function Si(t,i,e){return Ii(t,i,e,0,0)}function Ii(t,i,e,n,r){var o=Li(t.x,t.y,i,n,r),s=Li(t.x+t.width,t.y,i,n,r),h=Li(t.x+t.width,t.y+t.height,i,n,r),a=Li(t.x,t.y+t.height,i,n,r);return e?e.clear():e=new ts,e.addPoint(o),e.addPoint(s),e.addPoint(h),e.addPoint(a),e}function Ci(t,i){var e=this.ratio||1;this.style.width=t+"px",this.style.height=i+"px",this.width=t*e,this.height=i*e}function Ri(t){var i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return lh/i}function Di(t,e,n){var r=i.createElement("canvas");if(r.g=r.getContext("2d"),t!==!0&&!n)return t&&e&&(r.width=t,r.height=e),r;var o=r.g;return o.ratio=r.ratio=Ri(o),r.setSize=Ci,o._kx=function(){this.canvas.width=this.canvas.width},t&&e&&r.setSize(t,e),r}function Pi(t,i){return _h||(_h=Di()),t&&i&&(_h.width=t,_h.height=i),_h.g}function Ni(t,i,e){return(e||Wo.FONT_STYLE)+" "+(i||Wo.FONT_SIZE)+"px "+(t||Wo.FONT_FAMILY)}function Mi(t,i,e,n,r,o,s,h,a,l){if(t.save(),t.translate(e,n),uh&&ch>s){var _=s/ch;t.scale(_,_),s=ch,l=null}a||(a=Wo.LINE_HEIGHT),s||(s=Wo.FONT_SIZE),a*=s,t.font=l||Ni(o,s,h),t.textAlign=r,t.textBaseline="middle";for(var u=a/2,c=i.split("\n"),d=0,f=c.length;f>d;d++){var v=c[d];t.fillText(v,0,u),u+=a}t.restore()}function ki(t,i,e,n,r,o){if(!t)return{width:0,height:0};if(i||(i=Wo.FONT_SIZE),uh&&ch>i){var s=i/ch,h=ki(t,ch,e,n,r);return h.width*=s,h.height*=s,h}var a=Pi();a.font=o||Ni(e,i,n),r||(r=Wo.LINE_HEIGHT);for(var l=i*r,_=0,u=0,c=t.split("\n"),d=0,f=c.length;f>d;d++){var v=c[d];_=Math.max(a.measureText(v).width,_),u+=l}return{width:_,height:u}}function Bi(t,i,e,n,r){var o;if(Ro)try{o=t.getImageData(i,e,n,r)}catch(s){}else o=t.getImageData(i,e,n,r);return o}function Gi(t){return Math.log(t+Math.sqrt(t*t+1))}function zi(t,i){i=i||t(1);var e=1/i,n=.5*e,r=Math.min(1,i/100);return function(o){if(0>=o)return 0;if(o>=i)return 1;for(var s=o*e,h=0;h++<10;){var a=t(s),l=o-a;if(Math.abs(l)<=r)return s;s+=l*n}return s}}function Fi(t,i,e){var n=1-t,r=n*n*i[0]+2*n*t*i[2]+t*t*i[4],o=n*n*i[1]+2*n*t*i[3]+t*t*i[5];if(e){var s=(i[0]+i[4]-2*i[2])*t+i[2]-i[0],h=(i[1]+i[5]-2*i[3])*t+i[3]-i[1];return{x:r,y:o,rotate:Math.atan2(h,s)}}return{t:t,x:r,y:o}}function $i(t,i,e){var n=t-2*i+e;return 0!=n?(t-i)/n:-1}function ji(t,i){i.add(t[4],t[5]);var e=$i(t[0],t[2],t[4]);if(e>0&&1>e){var n=Fi(e,t);i.add(n.x,n.y)}var r=$i(t[1],t[3],t[5]);if(r>0&&1>r){var n=Fi(r,t);i.add(n.x,n.y)}return i}function Yi(t,i){return Math.abs(t-i)<1e-7}function Hi(t){if(Yi(t[1],t[3])&&(Yi(t[0],t[2])||Yi(t[1],t[5]))){var i=t[0],e=t[1],n=t[4],r=t[5],o=Math.sqrt(dh(i,e,n,r));return function(t){return o*t}}var s=t[0],h=t[2],a=t[4],l=s-2*h+a,_=2*h-2*s;s=t[1],h=t[3],a=t[5];var u=s-2*h+a,c=2*h-2*s,d=4*(l*l+u*u),f=4*(l*_+u*c),v=_*_+c*c,o=4*d*v-f*f,g=1/o,E=.125*Math.pow(d,-1.5),m=2*Math.sqrt(d),p=(o*Gi(f/Math.sqrt(o))+2*Math.sqrt(d)*f*Math.sqrt(v))*E;return function(t){var i=f+2*t*d,e=i/Math.sqrt(o),n=i*i*g;return(o*Math.log(e+Math.sqrt(n+1))+m*i*Math.sqrt(v+t*f+t*t*d))*E-p}}function Ui(t,i,e){var n=1-t,r=i[0],o=i[2],s=i[4],h=i[6],a=r*n*n*n+3*o*t*n*n+3*s*t*t*n+h*t*t*t;if(e)var l=3*t*t*h+(6*t-9*t*t)*s+(9*t*t-12*t+3)*o+(-3*t*t+6*t-3)*r;r=i[1],o=i[3],s=i[5],h=i[7];var _=r*n*n*n+3*o*t*n*n+3*s*t*t*n+h*t*t*t;if(e){var u=3*t*t*h+(6*t-9*t*t)*s+(9*t*t-12*t+3)*o+(-3*t*t+6*t-3)*r;return{x:a,y:_,rotate:Math.atan2(u,l)}}return{x:a,y:_}}function Wi(t,i,e,n){var r=-t+3*i-3*e+n;if(0==r)return[(t-i)/(2*e-4*i+2*t)];var o=2*t-4*i+2*e,s=i-t,h=o*o-4*r*s;return 0>h?void 0:0==h?[-o/(2*r)]:(h=Math.sqrt(h),[(h-o)/(2*r),(-h-o)/(2*r)])}function qi(t,i){i.add(t[6],t[7]);var e=Wi(t[0],t[2],t[4],t[6]);if(e)for(var n=0;n<e.length;n++){var r=e[n];if(!(0>=r||r>=1)){var o=Ui(r,t);i.add(o.x,o.y)}}if(e=Wi(t[1],t[3],t[5],t[7]))for(var n=0;n<e.length;n++){var r=e[n];if(!(0>=r||r>=1)){var o=Ui(r,t);i.add(o.x,o.y)}}}function Xi(t){var i={x:t[0],y:t[1]},e={x:t[2],y:t[3]},n={x:t[4],y:t[5]},r={x:t[6],y:t[7]},o=i.x-0,s=i.y-0,h=e.x-0,a=e.y-0,l=n.x-0,_=n.y-0,u=r.x-0,c=r.y-0,d=3*(-o+3*h-3*l+u),f=6*(o-2*h+l),v=3*(-o+h),g=3*(-s+3*a-3*_+c),E=6*(s-2*a+_),m=3*(-s+a),p=function(t){var i=d*t*t+f*t+v,e=g*t*t+E*t+m;return Math.sqrt(i*i+e*e)},y=(p(0)+4*p(.5)+p(1))/6;return y}function Vi(t,i){function e(t,i,e,n){var r=-t+3*i-3*e+n,o=2*t-4*i+2*e,s=i-t;return function(t){return 3*(r*t*t+o*t+s)}}function n(t,i){var e=r(t),n=o(t);return Math.sqrt(e*e+n*n)*i}var r=e(t[0],t[2],t[4],t[6]),o=e(t[1],t[3],t[5],t[7]);i=i||100;var s=1/i;return function(t){if(!t)return 0;for(var i,e=0,r=0;;){if(i=e+s,i>=t)return r+=n(e,i-e);r+=n(e,s),e=i}}}function Ki(t,i,e){return dh(i,e,t.cx,t.cy)<=t._squareR+fh}function Zi(t,i,e,n){return e=e||Ji(t,i),new Qi((t.x+i.x)/2,(t.y+i.y)/2,e/2,t,i,null,n)}function Ji(t,i){return Zo(t.x,t.y,i.x,i.y)}function Qi(t,i,e,n,r,o,s){this.cx=t,this.cy=i,this.r=e,this._squareR=e*e,this.p1=n,this.p2=r,this.p3=o,this._otherPoint=s}function te(t,i,e,n){this.cx=t,this.cy=i,this.width=e,this.height=n}function ie(t){var i=t[0],e=t[1],n=t[2],r=Qi._moreateCircle(i,e,n);return ne(t,i,e,n,r)}function ee(t,i){i=i||re(t);for(var e,n=i.width/i.height,r=[],o=t.length,s=0;o>s;s++)e=t[s],r.push({x:e.x,y:e.y*n});var h=ie(r);return h?new te(h.cx,h.cy/n,2*h.r,2*h.r/n):void 0}function ne(t,i,e,n,r){for(var o,s,h=t.length,a=r._squareR,l=0;h>l;l++)if(o=t[l],o!=i&&o!=e&&o!=n){var _=dh(r.cx,r.cy,o.x,o.y);_-fh>a&&(a=_,s=o)}if(!s)return r;var u,c=Qi._moreateCircle(s,i,e),d=Qi._moreateCircle(s,i,n),f=Qi._moreateCircle(s,n,e);return Ki(c,n.x,n.y)&&(u=c),Ki(d,e.x,e.y)&&(!u||u.r>d.r)&&(u=d),Ki(f,i.x,i.y)&&(!u||u.r>f.r)&&(u=f),i=u.p1,e=u.p2,n=u.p3||u._otherPoint,ne(t,i,e,n,u)}function re(t){for(var i,e=t.length,n=new ts,r=0;e>r;r++)i=t[r],n.add(i.x,i.y);return n}function oe(t,i,e,n,r){this._6i&&this.validate();var o=r?this.getBounds(r):this.bounds,s=e/o.width,h=t-s*o.x,a=n/o.height,l=i-a*o.y,_=this._gz,u=[];return f(_,function(t){var i=t.clone(),e=i.points;if(e&&e.length){for(var n=e.length,r=[],o=0;n>o;o++){var _=e[o];o++;var c=e[o];_=s*_+h,c=a*c+l,r.push(_),r.push(c)}i.points=r}u.push(i)},this),new Uh(u)}function se(t,i,e,n,r,o){if(r=r||0,e=e||0,!r&&!o)return!1;if(!n){var s=this.getBounds(r);if(!s.intersectsPoint(t,i,e))return!1}var h=Math.round(2*e)||1,a=Pi(h,h),l=(a.canvas,-t+e),_=-i+e;if(a.setTransform(1,0,0,1,l,_),!a.isPointInStroke){this._lh(a),r&&a.stroke(),o&&a.fill();var u=Bi(a,0,0,h,h);if(!u)return!1;u=u.data;for(var c=u.length/4;c>0;){if(u[4*c-1]>Hh)return!0;--c}return!1}return a.lineWidth=(r||0)+2*e,this._lh(a),r&&a.isPointInStroke(e,e)?!0:o?a.isPointInPath(e,e):!1}function he(t,i,e){if(!this._ja)return null;var n=this._gz;if(n.length<2)return null;e===!1&&(t+=this._ja);var r=n[0];if(0>=t)return Sr(r.points[0],r.points[1],n[1].points[0],n[1].points[1],t,i);if(t>=this._ja){r=n[n.length-1];var o,s,h=r.points,a=h.length,l=h[a-2],_=h[a-1];if(a>=4)o=h[a-4],s=h[a-3];else{r=n[n.length-2];var u=r.lastPoint;o=u.x,s=u.y}return Sr(l,_,l+l-o,_+_-s,t-this._ja,i)}for(var c,d=0,f=1,a=n.length;a>f;f++)if(c=n[f],c._ja){if(!(d+c._ja<t)){var v,u=r.lastPoint;if(c.type==$h){var g=c.points;v=ae(t-d,c,u.x,u.y,g[0],g[1],g[2],g[3],c._r)}else{if(!c._lf)return Sr(u.x,u.y,c.points[0],c.points[1],t-d,i);var E=zi(c._lf,c._ja)(t-d),g=c.points;v=c.type==Fh&&6==g.length?Ui(E,[u.x,u.y].concat(g),!0):Fi(E,[u.x,u.y].concat(g),!0)}return i&&(v.x-=i*Math.sin(v.rotate||0),v.y+=i*Math.cos(v.rotate||0)),v}d+=c._ja,r=c}else r=c}function ae(t,i,e,n,r,o,s,h){if(t<=i._l1)return Sr(e,n,r,o,t,t);if(t>=i._ja)return t-=i._ja,Sr(i._p2x,i._p2y,s,h,t,t);if(t-=i._l1,i._o){var a=t/i._r;i._CCW&&(a=-a);var l=Li(i._p1x,i._p1y,a,i._o.x,i._o.y);return l.rotate+=i._ml1||0,l.rotate+=Math.PI,l}return Sr(i._p1x,i._p1y,i._p2x,i._p2y,t,t)}function ni(t,i,e){var n,r,o;0==t._ml?(n=-1,o=0,r=i):0==t._mo?(n=0,o=1,r=e):(n=-1/t._ml,r=(t._ml-n)*i+t._mn,o=1);var s=new Jo;return s._ml=n,s._mn=r,s._mo=o,s._mk=i,s._mi=e,s}function le(t){return t%=2*Math.PI,0>t&&(t+=2*Math.PI),t}function _e(t,i,e,n,r,o,s,h){var a=Zo(i,e,n,r),l=Zo(n,r,o,s);if(!a||!l)return t._d=0,t._r=0,t._l1=a,t._l2=l,t._ja=0;var _=ce(n,r,i,e),u=ce(n,r,o,s);t._ml1=_,t._ml2=u;var c=_-u;c=le(c),c>Math.PI&&(c=2*Math.PI-c,t._CCW=!0);var d=Math.PI-c,f=Math.tan(c/2),v=h/f,g=Math.min(a,l);v>g&&(v=g,h=f*v);var E,m=n+Math.cos(_)*v,p=r+Math.sin(_)*v,y=n+Math.cos(u)*v,T=r+Math.sin(u)*v,w=new Jo(i,e,n,r),O=new Jo(n,r,o,s),A=ni(w,m,p),b=ni(O,y,T),L=A._3s(b),x=Math.atan2(p-L.y,m-L.x),S=Math.atan2(T-L.y,y-L.x);E=t._CCW?S:x;for(var I,C=0;4>C;){var R=C*Xo;if(le(R-E)<=d){var D,P;if(I?I++:I=1,0==C?(D=L.x+h,P=L.y):1==C?(D=L.x,P=L.y+h):2==C?(D=L.x-h,P=L.y):(D=L.x,P=L.y-h),t["$boundaryPoint"+I]={x:D,y:P},2==I)break}C++}return t._p1x=m,t._p1y=p,t._p2x=y,t._p2y=T,t._o=L,t._d=v,t._r=h,t._l1=a-v,t._l2=l-v,t._ja=t._l1+d*h}function ue(t,i,e,n,r,o,s){var h=ce(e,n,t,i),a=ce(e,n,r,o),l=h-a;return s?l:(0>l&&(l=-l),l>Math.PI&&(l-=Math.PI),l)}function ce(t,i,e,n){return Math.atan2(n-i,e-t)}function de(t){var i=gh.exec(t);if(i)return i[1];var e=t.lastIndexOf(".");return e>=0&&e<t.length-1?t.substring(e+1):void 0}function fe(t){if(!t)return null;if(t instanceof Uh)return Oh;if(t.draw instanceof Function)return wh;if(B(t)){var i=de(t);if(i){if(!Ro&&Eh.test(i))return Th;if(mh.test(i))return yh}return ph}}function ve(t,i,e){if(this._lr=fe(t),!this._lr)throw new Error("the image format is not supported",t);this._lf=t,this._mn3=i,this._9j=e,this.width=i||Wo.IMAGE_WIDTH,this.height=e||Wo.IMAGE_HEIGHT,this._jd={}}function ge(t,i,e,n){return i?(xh[t]=new ve(i,e,n),t):void delete xh[t]}function Ee(t){if(t._l3)return t._l3;var i=B(t);if(!i&&!t.name)return t._l3=new ve(t);var e=t.name||t;return e in xh?xh[e]:xh[e]=new ve(t)}function me(t){return t in xh}function pe(t,i,e){e=e||{};var n=t.getBounds(e.lineWidth);if(!n.width||!n.height)return!1;var r=i.getContext("2d"),o=i.ratio||1,s=e.scaleMode||"full.uniform",h=/full/i.test(s),a=/uniform/i.test(s),l=1,_=1;if(h){var u=i.width,c=i.height,d=e.padding,f=0,v=0;if(d){var g,E,m,p;k(d)?g=E=m=p=d:(g=d.top||0,E=d.bottom||0,m=d.left||0,p=d.right||0),u-=m+p,c-=g+E,f+=m,v+=g}l=u/n.width,_=c/n.height,a&&(l>_?(f+=(u-_*n.width)/2,l=_):_>l&&(v+=(c-l*n.height)/2,_=l)),(f||v)&&r.translate(f,v)}r.translate(-n.x*l,-n.y*_),t.draw(r,o,e,l,_,!0)}function ye(t,i,e){var n=Ee(t);return n?(n.validate(),(n._lr==Th||n._6y())&&n._mn6(function(t){t.source&&(this.width=this.width,pe(t.source,this,e))},i),void pe(n,i,e)):(hh.error("draw image error - "+t),!1)}function Te(t,i,n,r){var o=t.length;if(o&&!(0>o)){r=r||1;for(var s,h,a,l=[],_=0;_++<o;)if(s=t.getLocation(_,0),s&&Zo(i,n,s.x,s.y)<=r){h=_,a=s.rotate;break}if(h!==e){for(var s,u,c,d=0,_=0,f=t._gz.length;f>_;_++){if(s=t._gz[_],!u&&(d+=s._ja||0,d>h))if(u=!0,s.type==Gh||s.type==jh)l.push(new Yh(Gh,[i,n]));else{var v=Math.max(10,s._ja/6),g=v*Math.sin(a),E=v*Math.cos(a);if(s.type==Fh){var m=s.points[0],p=s.points[1];if(c){var y=new Jo(i,n,i+E,n+g),T=y._3s(new Jo(c.lastPoint.x,c.lastPoint.y,s.points[0],s.points[1]));T.x!==e&&(m=T.x,p=T.y)}l.push(new Yh(Fh,[m,p,i-E,n-g,i,n]))}else l.push(new Yh(zh,[i-E,n-g,i,n]));if(s.points)if(s.type==Fh){s.points[0]=i+E,s.points[1]=n+g;var y=new Jo(i,n,i+E,n+g),T=y._3s(new Jo(s.points[2],s.points[3],s.points[4],s.points[5]));T.x!==e&&(s.points[2]=T.x,s.points[3]=T.y)}else if(s.type==zh){s.type=Fh,s.points=[i+E,n+g].concat(s.points);var y=new Jo(i,n,i+E,n+g),T=y._3s(new Jo(s.points[2],s.points[3],s.points[4],s.points[5]));T.x!==e&&(s.points[2]=T.x,s.points[3]=T.y)}else s.type==Gh&&(s.type=zh,s.points=[i+E,n+g].concat(s.points),_==f-1&&(s.invalidTerminal=!0))}l.push(s),c=s}return l}}}function we(t){var i=t.width,e=t.height,n=Bi(t.g,0,0,i,e);return n?Ae(n.data,i,e):void 0}function Oe(t,i,e){this._13(t,i,e)}function Ae(t,i,e){return new Oe(t,i,e)}function be(t){if("#"==t[0]){if(t=t.substring(1),3==t.length)t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2];else if(6!=t.length)return;return t=parseInt(t,16),[t>>16&255,t>>8&255,255&t]}if(/^rgb/i.test(t)){var i=t.indexOf("("),e=t.indexOf(")");if(0>i||i>e)return;if(t=t.substring(i+1,e),t=t.split(","),t.length<3)return;var n=parseInt(t[0]),r=parseInt(t[1]),o=parseInt(t[2]),s=3==t.length?255:parseInt(t[3]);return[n,r,o,s]}}function Le(t,i,e){return e||(e=Wo.BLEND_MODE),e==ah.BLEND_MODE_MULTIPLY?t*i:e==ah.BLEND_MODE_DARKEN?Math.min(t,i):e==ah.BLEND_MODE_COLOR_BURN?1-(1-i)/t:e==ah.BLEND_MODE_LINEAR_BURN?t+i-1:e==ah.BLEND_MODE_LIGHTEN?Math.max(t,i):e==ah.BLEND_MODE_SCREEN?t+i-t*i:i}function xe(t,i,e){var n=be(i);if(!n)return void hh.error("color error, ["+i+"]");var r=Bi(t.g,0,0,t.width,t.height);if(r){var o=r.data;if(e instanceof Function)o=e(t,o,n)||o;else{var s=n[0]/255,h=n[1]/255,a=n[2]/255;if(e==ah.BLEND_MODE_GRAY)for(var l=0,_=o.length;_>l;l+=4){var u=77*o[l]+151*o[l+1]+28*o[l+2]>>8;o[l]=u*s|0,o[l+1]=u*h|0,o[l+2]=u*a|0}else for(var l=0,_=o.length;_>l;l+=4)o[l]=255*Le(s,o[l]/255,e)|0,o[l+1]=255*Le(h,o[l+1]/255,e)|0,o[l+2]=255*Le(a,o[l+2]/255,e)|0}var t=Di(t.width,t.height);return t.g.putImageData(r,0,0),t}}function Se(t,i,e,n){return 1>e&&(e=1),Ie(t-e,i-e,2*e,2*e,n)}function Ie(t,i,e,n,r){e=Math.round(e)||1,n=Math.round(n)||1;var o=Pi(e,n);o.setTransform(1,0,0,1,-t,-i),r.draw(o);var s=Bi(o,0,0,e,n);if(!s)return!1;s=s.data;for(var h=s.length/4;h-->0;)if(s[4*h-1]>Hh)return!0;return!1}function Ce(t,i,e,n,r,o){t-=r.$x,i-=r.$y;var s=r._g6.intersection(t,i,e,n);if(!s)return!1;t=s.x*o,i=s.y*o,e=s.width*o,n=s.height*o,e=Math.round(e)||1,n=Math.round(n)||1;var h=Pi(),a=h.canvas;a.width<e||a.height<n?(a.width=e,a.height=n):(h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,e,n)),h.setTransform(1,0,0,1,-t-r.$x*o,-i-r.$y*o),h.scale(o,o),r._jg(h,1);var l=Bi(h,0,0,e,n);if(!l)return!1;l=l.data;for(var _=l.length/4;_-->0;)if(l[4*_-1]>Hh)return!0;return!1}function Re(t,i,e,n,r,o,s,h,a){if(si(t,i,e,n,h,a))return null;var l,_,u,c=new Yh(Gh,[t+e-r,i]),d=new Yh(zh,[t+e,i,t+e,i+o]),f=new Yh(Gh,[t+e,i+n-o]),v=new Yh(zh,[t+e,i+n,t+e-r,i+n]),g=new Yh(Gh,[t+r,i+n]),E=new Yh(zh,[t,i+n,t,i+n-o]),m=new Yh(Gh,[t,i+o]),p=new Yh(zh,[t,i,t+r,i]),y=(new Yh(jh),[c,d,f,v,g,E,m,p]),T=new ts(t+r,i+o,e-r-r,n-o-o);t>h?(l=ns,u=5):h>t+e?(l=os,u=1):(l=rs,u=0),i>a?(_=ss,l==ns&&(u=7)):a>i+n?(_=as,l==os?u=3:l==rs&&(u=4)):(_=hs,l==ns?u=6:l==os&&(u=2));var w=Be(u,t,i,e,n,r,o,s,h,a,T),O=w[0],A=w[1],b=new Uh,L=b._gz;L.push(new Yh(Bh,[O.x,O.y])),L.push(new Yh(Gh,[h,a])),L.push(new Yh(Gh,[A.x,A.y])),A._lw&&(L.push(A._lw),A._lwNO++);for(var x=A._lwNO%8,S=O._lwNO;;)if(L.push(y[x]),++x,x%=8,x==S)break;return O._lw&&L.push(O._lw),b.closePath(),b}function De(t,i,n,r,o,s,h,a,l,_,u,c,d,f){var v=new Jo(c,d,n,r),g=new Jo(i[0],i[1],i[4],i[5]),E=g._3s(v,u),m=E[0],p=E[1];if(m._rest!==e){m._lwNO=(t-1)%8,p._lwNO=(t+1)%8;var y=m._rest;7==t?(m.y=s+_+Math.min(f.height,y),p.x=o+l+Math.min(f.width,y)):5==t?(m.x=o+l+Math.min(f.width,y),p.y=s+a-_-Math.min(f.height,y)):3==t?(m.y=s+a-_-Math.min(f.height,y),p.x=o+h-l-Math.min(f.width,y)):1==t&&(m.x=o+h-l-Math.min(f.width,y),p.y=s+_+Math.min(f.height,y))}else{v._m9(v._mk,v._mi,m.x,m.y),m=v._$d(i),v._m9(v._mk,v._mi,p.x,p.y),p=v._$d(i);var T=Ge(i,[m,p]),w=T[0],O=T[2];m._lwNO=t,p._lwNO=t,m._lw=new Yh(zh,w.slice(2)),p._lw=new Yh(zh,O.slice(2))}return[m,p]}function Pe(t,i,e,n,r,o,s,h,a,l){var _,u;if(a-h>=i+o)_={y:e,x:a-h},_._lwNO=0;else{_={y:e+s,x:Math.max(i,a-h)};var c=[i,e+s,i,e,i+o,e],d=new Jo(a,l,_.x,_.y);if(_=d._$d(c)){z(_)&&(_=_[0].t>_[1].t?_[0]:_[1]);var f=Ge(c,[_]);f=f[0],f&&(_._lw=new Yh(zh,f.slice(2))),_._lwNO=7}else _={y:e,x:i+o},_._lwNO=0}if(i+n-o>=a+h)u={y:e,x:a+h},u._lwNO=0;else{u={y:e+s,x:Math.min(i+n,a+h)};var v=[i+n-o,e,i+n,e,i+n,e+s],d=new Jo(a,l,u.x,u.y);if(u=d._$d(v)){z(u)&&(u=u[0].t<u[1].t?u[0]:u[1]);var f=Ge(v,[u]);f&&f[f.length-1]&&(u._lw=new Yh(zh,f[f.length-1].slice(2))),u._lwNO=1}else u={y:e,x:i+n-o},u._lwNO=0}return[_,u]}function Ne(t,i,e,n,r,o,s,h,a,l){var _,u;if(l-h>=e+s)_={x:i+n,y:l-h},_._lwNO=2;else{_={x:i+n-o,y:Math.max(e,l-h)};var c=[i+n-o,e,i+n,e,i+n,e+s],d=new Jo(a,l,_.x,_.y);if(_=d._$d(c)){z(_)&&(_=_[0].t>_[1].t?_[0]:_[1]);var f=Ge(c,[_]);f=f[0],f&&(_._lw=new Yh(zh,f.slice(2))),_._lwNO=1}else _={x:i+n,y:e+s},_._lwNO=2}if(e+r-s>=l+h)u={x:i+n,y:l+h},u._lwNO=2;else{u={x:i+n-o,y:Math.min(e+r,l+h)};var v=[i+n,e+r-s,i+n,e+r,i+n-o,e+r],d=new Jo(a,l,u.x,u.y);if(u=d._$d(v)){z(u)&&(u=u[0].t<u[1].t?u[0]:u[1]);var f=Ge(v,[u]);f[1]&&(u._lw=new Yh(zh,f[1].slice(2))),u._lwNO=3}else u={x:i+n,y:e+r-s},u._lwNO=2}return[_,u]}function Me(t,i,e,n,r,o,s,h,a,l){var _,u;if(a-h>=i+o)u={y:e+r,x:a-h},u._lwNO=4;else{u={y:e+r-s,x:Math.max(i,a-h)};var c=[i+o,e+r,i,e+r,i,e+r-s],d=new Jo(a,l,u.x,u.y);if(u=d._$d(c)){z(u)&&(u=u[0].t<u[1].t?u[0]:u[1]);var f=Ge(c,[u]);f=f[f.length-1],f&&(u._lw=new Yh(zh,f.slice(2))),u._lwNO=5}else u={y:e+r,x:i+o},u._lwNO=4}if(i+n-o>=a+h)_={y:e+r,x:a+h},_._lwNO=4;else{_={y:e+r-s,x:Math.min(i+n,a+h)};var v=[i+n,e+r-s,i+n,e+r,i+n-o,e+r],d=new Jo(a,l,_.x,_.y);if(_=d._$d(v)){z(_)&&(_=_[0].t>_[1].t?_[0]:_[1]);var f=Ge(v,[_]);f[0]&&(_._lw=new Yh(zh,f[0].slice(2))),_._lwNO=3}else _={y:e+r,x:i+n-o},_._lwNO=4}return[_,u]}function ke(t,i,e,n,r,o,s,h,a,l){var _,u;if(l-h>=e+s)u={x:i,y:l-h},u._lwNO=6;else{u={x:i+o,y:Math.max(e,l-h)};var c=[i,e+s,i,e,i+o,e],d=new Jo(a,l,u.x,u.y);if(u=d._$d(c)){z(u)&&(u=u[0].t<u[1].t?u[0]:u[1]);var f=Ge(c,[u]);f=f[f.length-1],f&&(u._lw=new Yh(zh,f.slice(2)))}else u={x:i,y:e+s};u._lwNO=7}if(e+r-s>=l+h)_={x:i,y:l+h},_._lwNO=6;else{_={x:i+o,y:Math.min(e+r,l+h)};var v=[i+o,e+r,i,e+r,i,e+r-s],d=new Jo(a,l,_.x,_.y);if(_=d._$d(v)){z(_)&&(_=_[0].t>_[1].t?_[0]:_[1]);var f=Ge(v,[_]);f[0]&&(_._lw=new Yh(zh,f[0].slice(2))),_._lwNO=5}else _={x:i,y:e+r-s},_._lwNO=6}return[_,u]}function Be(t,i,e,n,r,o,s,h,a,l,_){var u=h/2;switch(t){case 7:var c=[i,e+s,i,e,i+o,e],d=i+o,f=e+s;return De(t,c,d,f,i,e,n,r,o,s,h,a,l,_);case 5:return c=[i+o,e+r,i,e+r,i,e+r-s],d=i+o,f=e+r-s,De(t,c,d,f,i,e,n,r,o,s,h,a,l,_);case 3:return c=[i+n,e+r-s,i+n,e+r,i+n-o,e+r],d=i+n-o,f=e+r-s,De(t,c,d,f,i,e,n,r,o,s,h,a,l,_);case 1:return c=[i+n-o,e,i+n,e,i+n,e+s],d=i+n-o,f=e+s,De(t,c,d,f,i,e,n,r,o,s,h,a,l,_);case 0:return Pe(t,i,e,n,r,o,s,u,a,l,_);case 2:return Ne(t,i,e,n,r,o,s,u,a,l,_);case 4:return Me(t,i,e,n,r,o,s,u,a,l,_);case 6:return ke(t,i,e,n,r,o,s,u,a,l,_)}}function Ge(t,i){for(var n,r,o,s,h,a,l=t[0],_=t[1],u=t[2],c=t[3],d=t[4],f=t[5],v=[],g=0;g<i.length;g++)h=i[g],a=h.t,0!=a&&1!=a?(n=l+(u-l)*a,r=_+(c-_)*a,o=u+(d-u)*a,s=c+(f-c)*a,v.push([l,_,n,r,h.x,h.y]),l=h.x,_=h.y,u=o,c=s):v.push(null);return o!==e&&v.push([h.x,h.y,o,s,d,f]),v}function ze(t){return this.$layoutByAnchorPoint&&this._mlj&&(t.x-=this._mlj.x,t.y-=this._mlj.y),this.$rotate&&xi(t,this.$rotate),t.x+=this.$offsetX||0,t.y+=this.$offsetY||0,this.$rotatable&&this.$_hostRotate?xi(t,this.$_hostRotate):t}function Fe(t){return this.$rotatable&&this.$_hostRotate&&xi(t,-this.$_hostRotate),t.x-=this.$offsetX||0,t.y-=this.$offsetY||0,this.$rotate&&xi(t,-this.$rotate),this.$layoutByAnchorPoint&&this._mlj&&(t.x+=this._mlj.x,t.y+=this._mlj.y),t}function $e(){var t=this.$invalidateSize;this.$invalidateSize&&(this.$invalidateSize=!1,this.$invalidateAnchorPoint=!0,this._7y.setByRect(this._jo),this.$padding&&this._7y.grow(this.$padding),this.$border&&this._7y.grow(this.$border));var i=this._$u();if(i)var e=this.showPointer&&this.$pointerWidth;return this.$invalidateAnchorPoint&&this.$layoutByAnchorPoint&&(this.$invalidateAnchorPoint=!1,e&&(t=!0),this._mlj=li(this.$anchorPosition,this._7y.width,this._7y.height),this._mlj.x+=this._7y.x,this._mlj.y+=this._7y.y),i?(t&&(this._mnackgroundGradientInvalidateFlag=!0,je.call(this,e)),this._mnackgroundGradientInvalidateFlag&&(this._mnackgroundGradientInvalidateFlag=!1,this._mnackgroundGradient=this.backgroundGradient&&this._liShape&&this._liShape.bounds?Sh.prototype.generatorGradient.call(this.backgroundGradient,this._liShape.bounds):null),t):(this.__m0Pointer=!1,t)}function je(t){var i=this._7y.x+this.$border/2,e=this._7y.y+this.$border/2,n=this._7y.width-this.$border,r=this._7y.height-this.$border,o=0,s=0;if(this.$borderRadius&&(k(this.$borderRadius)?o=s=this.$borderRadius:(o=this.$borderRadius.x||0,s=this.$borderRadius.y||0),o=Math.min(o,n/2),s=Math.min(s,r/2)),t&&(this._pointerX=this._mlj.x-this.$offsetX+this.$pointerX,this._pointerY=this._mlj.y-this.$offsetY+this.$pointerY,!this._7y.intersectsPoint(this._pointerX,this._pointerY))){var h=new qh(i,e,n,r,o,s,this.$pointerWidth,this._pointerX,this._pointerY);return this._liShape=h._lw,this._liShape.bounds.set(i,e,n,r),void(this.__m0Pointer=!0)}this._liShape&&this._liShape.clear(),this._liShape=La.getRect(i,e,n,r,o,s,this._liShape),this._liShape.bounds.set(i,e,n,r)}function Ye(t,i,e,n){return n&&(t.width<0||t.height<0)?(t.x=i,t.y=e,void(t.width=t.height=0)):(i<t.x?(t.width+=t.x-i,t.x=i):i>t.x+t.width&&(t.width=i-t.x),void(e<t.y?(t.height+=t.y-e,t.y=e):e>t.y+t.height&&(t.height=e-t.y)))}function He(t,i,n){var r,o=t.position,s=t.layoutByPath===e?this.layoutByPath:t.layoutByPath;return this.$data instanceof Uh&&s?(r=vh._mn1(o,this.$data,this.lineWidth,i,n),r.x*=this._ju,r.y*=this._jv):(r=li(o,this._7y.width,this._7y.height),r.x+=this._7y.x,r.y+=this._7y.y),ze.call(this,r)}function Ue(t,i){if(i)if(i._7y.isEmpty())t.$x=i.$x,t.$y=i.$y;else{var e=He.call(i,t);t.$x=e.x,t.$y=e.y,t._hostRotate=e.rotate}else t.$x=0,t.$y=0;t.$invalidateRotate&&Kh.call(t)}function We(t){if(t.lineDash===e){var i,n;if(t.setLineDash)i=t.getLineDash,n=t.setLineDash;else{var r;if(t.mozDash!==e)r="mozDash";else{if(t.webkitLineDash===e)return!1;r="webkitLineDash"}n=function(t){this[r]=t},i=function(){return this[r]}}K(t,"lineDash",{get:function(){return i.call(this)},set:function(t){n.call(this,t)}})}if(t.lineDashOffset===e){var o;
if(t.mozDashOffset!==e)o="mozDashOffset";else{if(t.webkitLineDashOffset===e)return;o="webkitLineDashOffset"}K(t,"lineDashOffset",{get:function(){return this[o]},set:function(t){this[o]=t}})}}function qe(t,i,e,n,r){var o,s,h,a,l,_,u,c,d=function(t){return function(i){t(i)}},f=function(){s=null,h=null,a=l,l=null,_=null},v=function(t){o=t,u||(u=Di()),u.width=o.width,u.height=o.height,i.width=o.width,i.height=o.height},g=function(t){E(),f(),s=t.transparencyGiven?t.transparencyIndex:null,h=10*t.delayTime,l=t.disposalMethod},E=function(){if(_){var t=_.getImageData(0,0,o.width,o.height),e={data:t,_pixels:Ae(t.data,o.width,o.height),delay:h};r.call(i,e)}},m=function(t){_||(_=u.getContext("2d"));var i=t.lctFlag?t.lct:o.gct,e=_.getImageData(t.leftPos,t.topPos,t.width,t.height);t.pixels.forEach(function(t,n){s!==t?(e.data[4*n+0]=i[t][0],e.data[4*n+1]=i[t][1],e.data[4*n+2]=i[t][2],e.data[4*n+3]=255):(2===a||3===a)&&(e.data[4*n+3]=0)}),_.clearRect(0,0,o.width,o.height),_.putImageData(e,t.leftPos,t.topPos)},p=function(){},y={hdr:d(v),gce:d(g),com:d(p),app:{NETSCAPE:d(p)},img:d(m,!0),eof:function(){E(),e.call(i)}},T=new XMLHttpRequest;Ro||T.overrideMimeType("text/plain; charset=x-user-defined"),T.onload=function(){c=new ia(T.responseText);try{na(c,y)}catch(t){n.call(i,"parse")}},T.onerror=function(){n.call(i,"xhr")},T.open("GET",t,!0),T.send()}function Xe(t){var i=Di(!0);return We(i.g),i.onselectstart=function(){return!1},t.appendChild(i),i.className=sa,i}function d(t,i){function e(t,e){for(var n=t.length,r=e.length,o=n+r,s=new Array(o),h=0,a=0,l=0;o>l;)s[l++]=h===n?e[a++]:a===r||i(t[h],e[a])<=0?t[h++]:e[a++];return s}function n(t){var i=t.length,r=Math.ceil(i/2);return 1>=i?t:e(n(t.slice(0,r)),n(t.slice(r)))}return n(t)}function Ve(t){t.width=t.width}function Ke(t){ca||(ca="imageSmoothingEnabled"in CanvasRenderingContext2D.prototype?"imageSmoothingEnabled":"mozImageSmoothingEnabled"in CanvasRenderingContext2D.prototype?"mozImageSmoothingEnabled":"msImageSmoothingEnabled"in CanvasRenderingContext2D.prototype?"msImageSmoothingEnabled":"webkitImageSmoothingEnabled"in CanvasRenderingContext2D.prototype?"webkitImageSmoothingEnabled":"imageSmoothingEnabled"),t[ca]=!1}function Ze(t,i,e,n,r){n=X(i+n)-(i=q(i)),r=X(e+r)-(e=q(e)),t.clearRect(i,e,n,r),t.rect(i,e,n,r)}function q(t){return Math.floor(t)}function X(t){return Math.ceil(t)}function Je(t){var i=[];return t.forEach(function(t){i.push(-t)}),i}function Qe(t){return t%=ga,0>t&&(t+=ga),t}function tn(t,i,e,n,r,o,s,h){var a=((t*n-i*e)*(r-s)-(t-e)*(r*h-o*s))/((t-e)*(o-h)-(i-n)*(r-s)),l=((t*n-i*e)*(o-h)-(i-n)*(r*h-o*s))/((t-e)*(o-h)-(i-n)*(r-s));if(isNaN(a)||isNaN(l))return!1;if(t>=e){if(!(a>=e&&t>=a))return!1}else if(!(a>=t&&e>=a))return!1;if(i>=n){if(!(l>=n&&i>=l))return!1}else if(!(l>=i&&n>=l))return!1;if(r>=s){if(!(a>=s&&r>=a))return!1}else if(!(a>=r&&s>=a))return!1;if(o>=h){if(!(l>=h&&o>=l))return!1}else if(!(l>=o&&h>=l))return!1;return!0}function en(t,i){for(var e=0,n=t.length;n>e;){for(var r=t[e],o=t[(e+1)%n],s=0;4>s;){var h=i[s],a=i[(s+1)%n];if(tn(r[0],r[1],o[0],o[1],h[0],h[1],a[0],a[1]))return!0;s++}e++}return!1}function nn(t,i,e,n){return[t*n-i*e,t*e+i*n]}function rn(t){return t.parent?(t=t.parent,t._e9?t._e9:t instanceof xa&&t._gh===!1?t:null):null}function on(t,i,e){if(e=e||i.toAgent,e==t)return!1;var n=t.getEdgeBundle(e);return n||(n=new Wl(t,e),t._linkedNodes[e.id]=n),n._iw(i,t)}function sn(t,i,e){if(e=e||i.toAgent,e==t)return!1;var n=t.getEdgeBundle(e);return n?n._d9(i,t):void 0}function hn(t,i,n){return n===e&&(n=i.toAgent),n!=t?(t._7w||(t._7w=new qo),t._7w.add(i)===!1?!1:void t._93++):void 0}function an(t,i,e){return t._7w&&t._7w.remove(i)!==!1?(t._93--,void sn(t,i,e)):!1}function ln(t,i){return i.fromAgent!=t?(t._9f||(t._9f=new qo),t._9f.add(i)===!1?!1:void t._mlv++):void 0}function _n(t,i){return t._9f&&t._9f.remove(i)!==!1?(t._mlv--,void sn(i.fromAgent,i,t)):!1}function un(t,i){if(i===e&&(i=t instanceof Oa),i){if(t.isInvalid())return null;var n=un(t.from,!1);if(t.isLooped())return n;for(var r=un(t.to,!1);null!=n&&null!=r;){if(n==r)return n;if(n.isDescendantOf(r))return r;if(r.isDescendantOf(n))return n;n=un(n,!1),r=un(r,!1)}return null}for(var o=t.parent;null!=o;){if(o._ie())return o;o=o.parent}return null}function cn(t,i,e){t._ie()&&t.hasChildren()&&t.children.forEach(function(t){t instanceof Aa&&i.add(t)&&cn(t,i,e)},this),t.hasFollowers()&&t._e5.forEach(function(t){(null==e||e.accept(t))&&i.add(t)&&cn(t,i,e)})}function dn(t,i){i.parent?i.parent.setChildIndex(i,i.parent.childrenCount-1):t.roots.setIndex(i,t.roots.length-1)}function fn(t,i){if(i instanceof Oa)return void(i.isInvalid()||gn(t,i));for(dn(t,i);i=i.parent;)dn(t,i)}function vn(t,i){if(i instanceof Oa)return void(i.isInvalid()||gn(t,i));for(dn(t,i);i=i.parent;)dn(t,i)}function gn(t,i){var e=i.fromAgent;if(i.isLooped())dn(t,e);else{var n=i.toAgent;dn(t,e),dn(t,n)}}function En(t,i){return t._93++,t._fo?(i._ip=t._ia,t._ia._it=i,void(t._ia=i)):(t._fo=i,void(t._ia=i))}function mn(t,i){t._93--,t._ia==i&&(t._ia=i._ip),i._ip?i._ip._it=i._it:t._fo=i._it,i._it&&(i._it._ip=i._ip),i._ip=null,i._it=null,sn(t,i,i.$to)}function pn(t,i){return t._mlv++,t._im?(i._k7=t._jn,t._jn._k9=i,void(t._jn=i)):(t._im=i,void(t._jn=i))}function yn(t,i){t._mlv--,t._jn==i&&(t._jn=i._k7),i._k7?i._k7._k9=i._k9:t._im=i._k9,i._k9&&(i._k9._k7=i._k7),i._k7=null,i._k9=null}function Tn(t,i){return i=i||new qo,t.forEachEdge(function(t){i.add({id:t.id,edge:t,fromAgent:t.$from._e9,toAgent:t.$to._e9})}),t.forEachChild(function(t){t instanceof Aa&&Tn(t,i)}),i}function wn(t,i,e){return An(t,i,e)===!1?!1:On(t,i,e)}function On(t,i,e){if(t._fo)for(var n=t._fo;n;){if(i.call(e,n)===!1)return!1;n=n._it}}function An(t,i,e){if(t._im)for(var n=t._im;n;){if(i.call(e,n)===!1)return!1;n=n._k9}}function bn(t,i,n,r,o,s,h){return s||h?(s=s||0,h=h===e?s:h||0,s=Math.min(s,r/2),h=Math.min(h,o/2),t.moveTo(i+s,n),t.lineTo(i+r-s,n),t.quadTo(i+r,n,i+r,n+h),t.lineTo(i+r,n+o-h),t.quadTo(i+r,n+o,i+r-s,n+o),t.lineTo(i+s,n+o),t.quadTo(i,n+o,i,n+o-h),t.lineTo(i,n+h),t.quadTo(i,n,i+s,n),t.closePath(),t):(t.moveTo(i,n),t.lineTo(i+r,n),t.lineTo(i+r,n+o),t.lineTo(i,n+o),t.closePath(),t)}function Ln(t,i){var e=i.r||1,n=i.cx||0,r=i.cy||0,o=e*Math.tan(Math.PI/8),s=e*Math.sin(Math.PI/4);t.moveTo(n+e,r),t.quadTo(n+e,r+o,n+s,r+s),t.quadTo(n+o,r+e,n,r+e),t.quadTo(n-o,r+e,n-s,r+s),t.quadTo(n-e,r+o,n-e,r),t.quadTo(n-e,r-o,n-s,r-s),t.quadTo(n-o,r-e,n,r-e),t.quadTo(n+o,r-e,n+s,r-s),t.quadTo(n+e,r-o,n+e,r)}function xn(t,i,e,n,r){i instanceof te&&(n=i.width,r=i.height,e=i.cy-r/2,i=i.cx-n/2);var o=.5522848,s=n/2*o,h=r/2*o,a=i+n,l=e+r,_=i+n/2,u=e+r/2;return t.moveTo(i,u),t.curveTo(i,u-h,_-s,e,_,e),t.curveTo(_+s,e,a,u-h,a,u),t.curveTo(a,u+h,_+s,l,_,l),t.curveTo(_-s,l,i,u+h,i,u),t}function Sn(t,i,e,n,r){var o=2*n,s=2*r,h=i+n/2,a=e+r/2;return t.moveTo(h-o/4,a-s/12),t.lineTo(i+.306*n,e+.579*r),t.lineTo(h-o/6,a+s/4),t.lineTo(i+n/2,e+.733*r),t.lineTo(h+o/6,a+s/4),t.lineTo(i+.693*n,e+.579*r),t.lineTo(h+o/4,a-s/12),t.lineTo(i+.611*n,e+.332*r),t.lineTo(h+0,a-s/4),t.lineTo(i+.388*n,e+.332*r),t.closePath(),t}function In(t,i,e,n,r){return t.moveTo(i,e),t.lineTo(i+n,e+r/2),t.lineTo(i,e+r),t.closePath(),t}function Cn(t,i,e,n,r){return t.moveTo(i,e+r/2),t.lineTo(i+n/2,e),t.lineTo(i+n,e+r/2),t.lineTo(i+n/2,e+r),t.closePath(),t}function Rn(t,i,e,n,r,o){return t.moveTo(i,e),t.lineTo(i+n,e+r/2),t.lineTo(i,e+r),o||(t.lineTo(i+.25*n,e+r/2),t.closePath()),t}function Dn(t,i,e,n,r){if(!t||3>t)throw new Error("edge number must greater than 2");t=0|t,n=n||50,r=r||0,i=i||0,e=e||0;for(var o,s,h=0,a=2*Math.PI/t,l=new Uh;t>h;)o=i+n*Math.cos(r),s=e+n*Math.sin(r),h?l.lineTo(o,s):l.moveTo(o,s),++h,r+=a;return l.closePath(),l}function Pn(){var t=new Uh;return t.moveTo(75,40),t.curveTo(75,37,70,25,50,25),t.curveTo(20,25,20,62.5,20,62.5),t.curveTo(20,80,40,102,75,120),t.curveTo(110,102,130,80,130,62.5),t.curveTo(130,62.5,130,25,100,25),t.curveTo(85,25,75,37,75,40),t}function Nn(){var t=new Uh;return t.moveTo(20,0),t.lineTo(80,0),t.lineTo(100,100),t.lineTo(0,100),t.closePath(),t}function Mn(){var t=new Uh;return t.moveTo(100,0),t.lineTo(100,80),t.lineTo(0,100),t.lineTo(0,20),t.closePath(),t}function kn(){var t=new Uh;return t.moveTo(20,0),t.lineTo(100,0),t.lineTo(80,100),t.lineTo(0,100),t.closePath(),t}function Bn(){var t=new Uh;return t.moveTo(43,23),t.lineTo(28,10),t.lineTo(37,2),t.lineTo(63,31),t.lineTo(37,59),t.lineTo(28,52),t.lineTo(44,38),t.lineTo(3,38),t.lineTo(3,23),t.closePath(),t}function Gn(){var t=new Uh;return t.moveTo(1,8),t.lineTo(7,2),t.lineTo(32,26),t.lineTo(7,50),t.lineTo(1,44),t.lineTo(18,26),t.closePath(),t.moveTo(27,8),t.lineTo(33,2),t.lineTo(57,26),t.lineTo(33,50),t.lineTo(27,44),t.lineTo(44,26),t.closePath(),t}function zn(){var t=new Uh;return t.moveTo(0,15),t.lineTo(23,15),t.lineTo(23,1),t.lineTo(47,23),t.lineTo(23,43),t.lineTo(23,29),t.lineTo(0,29),t.closePath(),t}function Fn(){var t=new Uh;return t.moveTo(0,21),t.lineTo(30,21),t.lineTo(19,0),t.lineTo(25,0),t.lineTo(47,25),t.lineTo(25,48),t.lineTo(19,48),t.lineTo(30,28),t.lineTo(0,28),t.closePath(),t}function $n(){var t=new Uh;return t.moveTo(0,0),t.lineTo(34,24),t.lineTo(0,48),t.lineTo(14,24),t.closePath(),t}function jn(){var t=new Uh;return t.moveTo(20,0),t.lineTo(34,14),t.lineTo(20,28),t.lineTo(22,18),t.lineTo(1,25),t.lineTo(10,14),t.lineTo(1,3),t.lineTo(22,10),t.closePath(),t}function Yn(){var t=new Uh;return t.moveTo(4,18),t.lineTo(45,18),t.lineTo(37,4),t.lineTo(83,25),t.lineTo(37,46),t.lineTo(45,32),t.lineTo(4,32),t.closePath(),t}function Hn(){var t=new Uh;return t.moveTo(17,11),t.lineTo(27,11),t.lineTo(42,27),t.lineTo(27,42),t.lineTo(17,42),t.lineTo(28,30),t.lineTo(4,30),t.lineTo(4,23),t.lineTo(28,23),t.closePath(),t}function Un(){La.register(ah.SHAPE_CIRCLE,xn(new Uh,0,0,100,100)),La.register(ah.SHAPE_RECT,bn(new Uh,0,0,100,100)),La.register(ah.SHAPE_ROUNDRECT,bn(new Uh,0,0,100,100,20,20)),La.register(ah.SHAPE_STAR,Sn(new Uh,0,0,100,100)),La.register(ah.SHAPE_TRIANGLE,In(new Uh,0,0,100,100)),La.register(ah.SHAPE_PENTAGON,Dn(5)),La.register(ah.SHAPE_HEXAGON,Dn(6)),La.register(ah.SHAPE_DIAMOND,Cn(new Uh,0,0,100,100)),La.register(ah.SHAPE_HEART,Pn()),La.register(ah.SHAPE_TRAPEZIUM,Nn()),La.register(ah.SHAPE_RHOMBUS,Mn()),La.register(ah.SHAPE_PARALLELOGRAM,kn());var t=new Uh;t.moveTo(20,0),t.lineTo(40,0),t.lineTo(40,20),t.lineTo(60,20),t.lineTo(60,40),t.lineTo(40,40),t.lineTo(40,60),t.lineTo(20,60),t.lineTo(20,40),t.lineTo(0,40),t.lineTo(0,20),t.lineTo(20,20),t.closePath(),La.register(ah.SHAPE_CROSS,t),La.register(ah.SHAPE_ARROW_STANDARD,Rn(new Uh,0,0,100,100)),La.register(ah.SHAPE_ARROW_1,Bn()),La.register(ah.SHAPE_ARROW_2,Gn()),La.register(ah.SHAPE_ARROW_3,zn()),La.register(ah.SHAPE_ARROW_4,Fn()),La.register(ah.SHAPE_ARROW_5,$n()),La.register(ah.SHAPE_ARROW_6,jn()),La.register(ah.SHAPE_ARROW_7,Yn()),La.register(ah.SHAPE_ARROW_8,Hn()),La.register(ah.SHAPE_ARROW_OPEN,Rn(new Uh,0,0,100,100,!0))}function Wn(){O(this,Wn,arguments),this.busLayout=!0}function qn(){O(this,qn),this._$v=new ms}function Xn(){if(this._gh===!0){var t=this._7w,i=this._9f;if(t)for(t=t._jl;t.length;){var e=t[0];an(this,e,e.toAgent)}if(i)for(i=i._jl;i.length;){var e=i[0];_n(this,e,e.fromAgent)}return void this.forEachChild(function(t){t._ie()&&Xn.call(t)})}var n=Tn(this);n.forEach(function(t){t=t.edge;var i=t.$from,e=t.$to,n=i.isDescendantOf(this),r=e.isDescendantOf(this);n&&!r?(hn(this,t),on(this,t)):r&&!n&&(ln(this,t),on(t.fromAgent,t,this))},this)}function Vn(){O(this,Vn,arguments),this.$image=null}function Kn(t,i,e,n){return t[i]=e,n?{get:function(){return this[i]},set:function(t){if(t!==this[i]){this[i]=t,!this._mlm,this._1c=!0;for(var e=n.length;--e>=0;)this[n[e]]=!0}}}:{get:function(){return this[i]},set:function(t){t!==this[i]&&(this[i]=t)}}}function Zn(t,i){var e={},n={};for(var r in i){var o=i[r];o.validateFlags&&o.validateFlags.forEach(function(t,i,e){e[i]="$invalidate"+t,n[t]=!0}),e[r]=Kn(t,"$"+r,o.value,o.validateFlags)}for(var s in n)t["$invalidate"+s]=!0;Object.defineProperties(t,e)}function Jn(t,i,e,n){if(Array.isArray(i))for(var r=i.length;--r>=0;)Jn(t,i[r],e,n);else{var o=i.target;if(o){if(o instanceof Sa||(o=t[o]),!o)return}else o=t;if(n||(n=t.getProperty(i.property,e)),i.bindingProperty&&(o[i.bindingProperty]=n),i.callback){var s=i.callback;s instanceof Function||(s=t[s]),s instanceof Function&&s.call(t,n,o)}}}function Qn(){Ia.forEach(function(t){this[t]={}},this)}function tr(t,i,e,n){return n==ah.PROPERTY_TYPE_ACCESSOR?void(t[e]=i):n==ah.PROPERTY_TYPE_CLIENT?void t.set(e,i):n==ah.PROPERTY_TYPE_STYLE?void t.setStyle(e,i):!1}function ir(){O(this,ir,arguments)}function er(){O(this,er,arguments)}function nr(t,i,e,n){var r=rr(t,i,e,n),o=[];if(ar(t))or(r,i,e,o,n.getStyle(Ca.EDGE_EXTEND));else{mr(t,i,e,o,r,n);var s=sr(t,n),h=s?dr(t,r,i,e,n.getStyle(Ca.EDGE_SPLIT_PERCENT)):n.getStyle(Ca.EDGE_SPLIT_VALUE);0==h&&(r=!r)}return o}function rr(t,i,e){if(null!=t){if(t==ah.EDGE_TYPE_ELBOW_HORIZONTAL||t==ah.EDGE_TYPE_ORTHOGONAL_HORIZONTAL||t==ah.EDGE_TYPE_HORIZONTAL_VERTICAL||t==ah.EDGE_TYPE_EXTEND_LEFT||t==ah.EDGE_TYPE_EXTEND_RIGHT)return!0;if(t==ah.EDGE_TYPE_ELBOW_VERTICAL||t==ah.EDGE_TYPE_ORTHOGONAL_VERTICAL||t==ah.EDGE_TYPE_VERTICAL_HORIZONTAL||t==ah.EDGE_TYPE_EXTEND_TOP||t==ah.EDGE_TYPE_EXTEND_BOTTOM)return!1}var n=ur(i,e),r=cr(i,e);return n>=r}function or(t,i,e,n,r){t?Or(i,e,n,r):Ar(i,e,n,r)}function sr(t,i){return i.getStyle(Ca.EDGE_SPLIT_BY_PERCENT)}function hr(t){return null!=t&&(t==ah.EDGE_TYPE_EXTEND_TOP||t==ah.EDGE_TYPE_EXTEND_LEFT||t==ah.EDGE_TYPE_EXTEND_BOTTOM||t==ah.EDGE_TYPE_EXTEND_RIGHT)}function ar(t){return t&&(t==ah.EDGE_TYPE_ELBOW||t==ah.EDGE_TYPE_ELBOW_HORIZONTAL||t==ah.EDGE_TYPE_ELBOW_VERTICAL)}function lr(t,i,e,n,r){if(t==ah.EDGE_TYPE_HORIZONTAL_VERTICAL||t==ah.EDGE_TYPE_VERTICAL_HORIZONTAL)return new Ko(n.x+n.width/2,n.y+n.height/2);var o;if(hr(t)){var s=Math.min(e.y,n.y),h=Math.min(e.x,n.x),a=Math.max(e.bottom,n.bottom),l=Math.max(e.right,n.right);if(o=r.getStyle(Ca.EDGE_EXTEND),t==ah.EDGE_TYPE_EXTEND_TOP)return new Ko((h+l)/2,s-o);if(t==ah.EDGE_TYPE_EXTEND_LEFT)return new Ko(h-o,(s+a)/2);if(t==ah.EDGE_TYPE_EXTEND_BOTTOM)return new Ko((h+l)/2,a+o);if(t==ah.EDGE_TYPE_EXTEND_RIGHT)return new Ko(l+o,(s+a)/2)}var _=sr(t,r);if(o=_?dr(t,i,e,n,r.getStyle(Ca.EDGE_SPLIT_PERCENT)):r.getStyle(Ca.EDGE_SPLIT_VALUE),o==Number.NEGATIVE_INFINITY||o==Number.POSITIVE_INFINITY)return new Ko(n.x+n.width/2,n.y+n.height/2);if(0==o)return new Ko(e.x+e.width/2,e.y+e.height/2);if(i){var u=e.x+e.right<n.x+n.right;return new Ko(gr(u,o,e.x,e.width),e.y+e.height/2)}var c=e.y+e.bottom<n.y+n.bottom;return new Ko(e.x+e.width/2,gr(c,o,e.y,e.height))}function _r(t,i,e,n){var r=Math.max(i,n)-Math.min(t,e);return r-(i-t+n-e)}function ur(t,i){var e=Math.max(t.x+t.width,i.x+i.width)-Math.min(t.x,i.x);return e-t.width-i.width}function cr(t,i){var e=Math.max(t.y+t.height,i.y+i.height)-Math.min(t.y,i.y);return e-t.height-i.height}function dr(t,i,e,n,r){var o=fr(r,i,e,n,null);return o*r}function fr(t,i,e,n){return i?vr(t,e.x,e.right,n.x,n.right):vr(t,e.y,e.bottom,n.y,n.bottom)}function vr(t,i,e,n,r){var o=_r(i,e,n,r),s=n+r>i+e;if(o>0){if(1==t)return o+(r-n)/2;if(t>=0&&1>t)return o;if(0>t)return s?n-i:e-r}return Math.abs(s&&t>0||!s&&0>t?e-r:i-n)}function gr(t,i,e,n){return t==i>0?e+n+Math.abs(i):e-Math.abs(i)}function Er(t,i){var e=t.length;if(!(3>e)){var n=i.getStyle(Ca.EDGE_CORNER);if(n!=ah.EDGE_CORNER_NONE){var r=i.getStyle(Ca.EDGE_CORNER_RADIUS),o=0,s=0;r&&(k(r)?o=s=r:(o=r.x||0,s=r.y||0));for(var h,a,l,_,u=t[0],c=t[1],d=null,f=2;e>f;f++){var v=t[f],g=c.x-u.x,E=c.y-u.y,y=v.x-c.x,T=v.y-c.y,w=!g||g>-fh&&fh>g,O=!E||E>-fh&&fh>E,A=!y||y>-fh&&fh>y,b=!T||T>-fh&&fh>T,L=O;(w&&b||O&&A)&&(L?(h=Math.min(2==f?Math.abs(g):Math.abs(g)/2,o),a=Math.min(f==e-1?Math.abs(T):Math.abs(T)/2,s),l=new Ko(c.x-(g>0?h:-h),c.y),_=new Ko(c.x,c.y+(T>0?a:-a))):(h=Math.min(f==e-1?Math.abs(y):Math.abs(y)/2,o),a=Math.min(2==f?Math.abs(E):Math.abs(E)/2,s),l=new Ko(c.x,c.y-(E>0?a:-a)),_=new Ko(c.x+(y>0?h:-h),c.y)),p(t,c),f--,e--,(l.x!=u.x||l.y!=u.y)&&(m(t,l,f),f++,e++),n==ah.EDGE_CORNER_BEVEL?(m(t,_,f),f++,e++):n==ah.EDGE_CORNER_ROUND&&(m(t,[c,_],f),f++,e++)),u=c,c=v}null!=d&&_.x==c.x&&_.y==c.y&&p(t,c)}}}function mr(t,i,e,n,r,o){var s=o.getStyle(Ca.EDGE_CONTROL_POINT),h=null==s;if(null!=s){var a=(new ts).union(i).union(e);a.intersects(s)||(r=pr(s.x,s.y,a.y,a.x,a.bottom,a.right))}else s=lr(t,r,i,e,o);r?wr(i,e,s,n,h):Tr(i,e,s,n,h)}function pr(t,i,e,n,r,o){return e>i&&e-i>n-t&&e-i>t-o||i>r&&i-r>n-t&&i-r>t-o?!1:!0}function yr(t,i,e){return i>=t.x&&i<=t.right&&e>=t.y&&e<=t.bottom}function Tr(t,i,e,n,r){var o=Math.max(t.y,i.y),s=Math.min(t.y+t.height,i.y+i.height),h=null!=e?e.y:s+(o-s)/2,a=t.x+t.width/2,l=i.x+i.width/2;if(0==r&&null!=e&&(e.x>=t.x&&e.x<=t.x+t.width&&(a=e.x),e.x>=i.x&&e.x<=i.x+i.width&&(l=e.x)),yr(i,a,h)||yr(t,a,h)||n.push(new Ko(a,h)),yr(i,l,h)||yr(t,l,h)||n.push(new Ko(l,h)),0==n.length)if(null!=e)yr(i,e.x,h)||yr(t,e.x,h)||n.push(new Ko(e.x,h));else{var _=Math.max(t.x,i.x),u=Math.min(t.x+t.width,i.x+i.width);n.push(new Ko(_+(u-_)/2,h))}}function wr(t,i,e,n,r){var o=Math.max(t.x,i.x),s=Math.min(t.x+t.width,i.x+i.width),h=null!=e?e.x:s+(o-s)/2,a=t.y+t.height/2,l=i.y+i.height/2;if(0==r&&null!=e&&(e.y>=t.y&&e.y<=t.y+t.height&&(a=e.y),e.y>=i.y&&e.y<=i.y+i.height&&(l=e.y)),yr(i,h,a)||yr(t,h,a)||n.push(new Ko(h,a)),yr(i,h,l)||yr(t,h,l)||n.push(new Ko(h,l)),0==n.length)if(null!=e)yr(i,h,e.y)||yr(t,h,e.y)||n.push(new Ko(h,e.y));else{var _=Math.max(t.y,i.y),u=Math.min(t.y+t.height,i.y+i.height);n.push(new Ko(h,_+(u-_)/2))}}function Or(t,i,e,n){var r=i.x+i.width<t.x,o=t.x+t.width<i.x,s=r?t.x:t.x+t.width,h=t.y+t.height/2,a=o?i.x:i.x+i.width,l=i.y+i.height/2,_=n,u=r?-_:_,c=new Ko(s+u,h);u=o?-_:_;var d=new Ko(a+u,l);if(r==o){var f=r?Math.min(s,a)-n:Math.max(s,a)+n;e.push(new Ko(f,h)),e.push(new Ko(f,l))}else if(c.x<d.x==r){var v=h+(l-h)/2;e.push(c),e.push(new Ko(c.x,v)),e.push(new Ko(d.x,v)),e.push(d)}else e.push(c),e.push(d)}function Ar(t,i,e,n){var r=i.y+i.height<t.y,o=t.y+t.height<i.y,s=t.x+t.width/2,h=r?t.y:t.y+t.height,a=i.x+i.width/2,l=o?i.y:i.y+i.height,_=n,u=r?-_:_,c=new Ko(s,h+u);u=o?-_:_;var d=new Ko(a,l+u);if(r==o){var f=r?Math.min(h,l)-n:Math.max(h,l)+n;e.push(new Ko(s,f)),e.push(new Ko(a,f))}else if(c.y<d.y==r){var v=s+(a-s)/2;e.push(c),e.push(new Ko(v,c.y)),e.push(new Ko(v,d.y)),e.push(d)}else e.push(c),e.push(d)}function br(t){return t==ah.EDGE_TYPE_ORTHOGONAL||t==ah.EDGE_TYPE_ORTHOGONAL_HORIZONTAL||t==ah.EDGE_TYPE_HORIZONTAL_VERTICAL||t==ah.EDGE_TYPE_ORTHOGONAL_VERTICAL||t==ah.EDGE_TYPE_VERTICAL_HORIZONTAL||t==ah.EDGE_TYPE_EXTEND_TOP||t==ah.EDGE_TYPE_EXTEND_LEFT||t==ah.EDGE_TYPE_EXTEND_BOTTOM||t==ah.EDGE_TYPE_EXTEND_RIGHT||t==ah.EDGE_TYPE_ELBOW||t==ah.EDGE_TYPE_ELBOW_HORIZONTAL||t==ah.EDGE_TYPE_ELBOW_VERTICAL}function Lr(t,i){var e,n;i&&i.width&&i.height?(e=i.width,n=i.height):e=n=isNaN(i)?Wo.ARROW_SIZE:i;var r=La.getShape(t,-e,-n/2,e,n);return r||(r=new Uh,r.moveTo(-e,-n/2),r.lineTo(0,0),r.lineTo(-e,n/2)),r}function xr(t,i){var e=Math.sin(i),n=Math.cos(i),r=t.x,o=t.y;return t.x=r*n-o*e,t.y=r*e+o*n,t}function Sr(t,i,e,n,r,o){var s=Math.atan2(n-i,e-t),h=new Ko(r,o);return h.rotate=s,xr(h,s),h.x+=t,h.y+=i,h}function Ir(t,i,n,r,o){i=ri(r,i.x,i.y,n.x,n.y),n=ri(o,n.x,n.y,i.x,i.y);var s=Math.PI/2+Math.atan2(n.y-i.y,n.x-i.x),h=t*Math.cos(s),a=t*Math.sin(s),l=n.x-i.x,_=n.y-i.y,u=i.x+.25*l,c=i.y+.25*_,d=i.x+.75*l,f=i.y+.75*_;return[new Yh(Fh,[u+h,c+a,d+h,f+a,e,e])]}function Cr(t,i,n){if(m(t,new Yh(Bh,[i.x,i.y]),0),n){if(t.length>1){var r=t[t.length-1];if(zh==r.type&&(r.invalidTerminal||r.points[2]===e||null===r.points[2]))return r.points[2]=n.x,r.points[3]=n.y,void(r.invalidTerminal=!0);if(Fh==r.type&&(r.invalidTerminal||r.points[4]===e||null===r.points[4]))return r.points[4]=n.x,r.points[5]=n.y,void(r.invalidTerminal=!0)}t.push(new Yh(Gh,[n.x,n.y]))}}function Rr(t,i,e,n,r,o,s,h){return i.hasPathSegments()?void(e._gz=i._9t.toDatas()):n==r?void t.drawLoopedEdge(e,n,o,s):void t.drawEdge(e,n,r,o,s,h)}function Dr(t,i,e,n,r){var o=n==r,s=t.graph.getUI(n),h=o?s:t.graph.getUI(r);if(s&&h){var a=i.edgeType,l=s.bodyBounds.clone(),_=o?l:h.bodyBounds.clone(),u=t.getStyle(Ca.EDGE_FROM_OFFSET),c=t.getStyle(Ca.EDGE_TO_OFFSET);u&&(l.x+=u.x||0,l.y+=u.y||0),c&&(_.x+=c.x||0,_.y+=c.y||0);var d=i.hasPathSegments();if(!o&&!a&&!d){var f=n.busLayout,v=r.busLayout;if(f!=v){var g,E,m,p,y=i.angle;f?(g=s,E=l,m=h,p=_):(g=h,E=_,m=s,p=l);var T=Gr(E,g,f,m,p,y);if(T&&2==T.length){var w=T[0],O=T[1];return e.moveTo(w.x,w.y),O.x==w.x&&O.y==w.y&&(O.y+=.01),e.lineTo(O.x,O.y),void(e._6i=!0)}}}Rr(t,i,e,s,h,a,l,_),(!o||d)&&Pr(t,i,e,s,h,a,l,_),e._6i=!0}}function Pr(t,i,n,r,o,s,h,a){var l=h.center,_=a.center,u=t.fromAtEdge,c=t.toAtEdge;if(!u&&!c)return void Cr(n._gz,l,_);var d=n._gz;if(d.length){if(u){var f=d[0],v=f.firstPoint;h.contains(v.x,v.y)&&(f.type==Fh?(l=v,v={x:f.points[2],y:f.points[3]},f.points=f.points.slice(2),f.type=zh):f.type==zh&&(l=v,v={x:f.points[0],y:f.points[1]},f.points=f.points.slice(2),f.type=Gh)),Nr(r,h,v,l,e,e)}if(c){var g,E=d[d.length-1],m=E.lastPoint,p=E.points.length,y=m.x===e||m.y===e;p>=4&&(y||a.contains(m.x,m.y))&&(y||(_=m),g=!0,m={x:E.points[p-4],y:E.points[p-3]},a.contains(m.x,m.y)&&(_=m,p>=6?(m={x:E.points[p-6],y:E.points[p-5]},E.points=E.points.slice(0,4),E.type=zh):1==d.length?(m={x:l.x,y:l.y},E.points=E.points.slice(0,2),E.type=Gh):(E=d[d.length-2],m=E.lastPoint))),Nr(o,a,m,_,e,e),g&&(p=E.points.length,E.points[p-2]=_.x,E.points[p-1]=_.y,_=null)}}else{var T=Math.atan2(_.y-l.y,_.x-l.x),w=Math.cos(T),O=Math.sin(T);u&&Nr(r,h,_,l,w,O),c&&Nr(o,a,l,_,-w,-O)}Cr(n._gz,l,_)}function Nr(t,i,n,r,o,s){if(o===e){var h=Math.atan2(n.y-r.y,n.x-r.x);o=Math.cos(h),s=Math.sin(h)}for(n={x:n.x,y:n.y},i.contains(n.x,n.y)||(n=ri(i,r.x,r.y,n.x,n.y));;){if(!i.contains(n.x,n.y))return r;if(t.hitTest(n.x-o,n.y-s,Wo.LOOKING_EDGE_ENDPOINT_TOLERANCE)){r.x=n.x-o/2,r.y=n.y-s/2;break}n.x-=o,n.y-=s}return r}function Mr(t,i,e,n,r,o,s,h){if(i.hasPathSegments())return i._9t;var a=i.edgeType;if(br(a)){var l=nr(a,e,n,t,r,o);if(!l||!l.length)return null;m(l,s,0),l.push(h),a!=ah.EDGE_TYPE_ELBOW&&Er(l,t);for(var _=[],u=l.length,c=1;u-1>c;c++){var d=l[c];_.push(z(d)?new Yh(zh,[d[0].x,d[0].y,d[1].x,d[1].y]):new Yh(Gh,[d.x,d.y]))}return _}if(i.$bundleEnabled){var f=t._1x();if(!f)return;return Ir(f,s,h,e,n)}}function kr(t,i,e){var n=t.getStyle(Ca.EDGE_LOOPED_EXTAND),r=t._1x(),o=n+.2*r,s=i.x+i.width-o,h=i.y,a=i.x+i.width,l=i.y+o;n+=r;var _=.707,u=-.707,c=i.x+i.width,d=i.y,f=c+_*n,v=d+u*n,g={x:s,y:h},E={x:f,y:v},m={x:a,y:l},p=g.x,y=E.x,T=m.x,w=g.y,O=E.y,A=m.y,b=((A-w)*(O*O-w*w+y*y-p*p)+(O-w)*(w*w-A*A+p*p-T*T))/(2*(y-p)*(A-w)-2*(T-p)*(O-w)),L=((T-p)*(y*y-p*p+O*O-w*w)+(y-p)*(p*p-T*T+w*w-A*A))/(2*(O-w)*(T-p)-2*(A-w)*(y-p)),o=Math.sqrt((p-b)*(p-b)+(w-L)*(w-L)),x=Math.atan2(g.y-L,g.x-b),S=Math.atan2(m.y-L,m.x-b),I=S-x;return 0>I&&(I+=2*Math.PI),Br(b,L,x,I,o,o,!0,e)}function Br(t,i,e,n,r,o,s,h){var a,l,_,u,c,d,f,v,g,E,m;if(Math.abs(n)>2*Math.PI&&(n=2*Math.PI),c=Math.ceil(Math.abs(n)/(Math.PI/4)),a=n/c,l=a,_=e,c>0){d=t+Math.cos(_)*r,f=i+Math.sin(_)*o,moveTo?h.moveTo(d,f):h.lineTo(d,f);for(var p=0;c>p;p++)_+=l,u=_-l/2,v=t+Math.cos(_)*r,g=i+Math.sin(_)*o,E=t+Math.cos(u)*(r/Math.cos(l/2)),m=i+Math.sin(u)*(o/Math.cos(l/2)),h.quadTo(E,m,v,g)}}function Gr(t,i,n,r,o,s){var h=o.cx,a=o.cy,l=h<t.x,_=h>t.right,u=a<t.y,c=a>t.bottom,d=t.cx,f=t.cy,v=l||_,g=u||c,E=s===e||null===s;E&&(s=Math.atan2(a-f,h-d),v||g||(s+=Math.PI));var m=Math.cos(s),p=Math.sin(s),y=Fr(i,t,{x:h,y:a},-m,-p);y||(s=Math.atan2(a-f,h-d),v||g||(s+=Math.PI),m=Math.cos(s),p=Math.sin(s),y=Fr(i,t,{x:h,y:a},-m,-p)||{x:d,y:f});var T=Fr(r,o,{x:y.x,y:y.y},-y.perX||m,-y.perY||p,!1)||{x:h,y:a};return n?[y,T]:[T,y]}function zr(t,i,e,n,r,o){var s=i<t.x,h=i>t.right,a=e<t.y,l=e>t.bottom;if(s&&n>0){var _=t.x-i,u=e+_*r/n;if(u>=t.y&&u<=t.bottom)return{x:t.x,y:u,perX:n,perY:r}}if(h&&0>n){var _=t.right-i,u=e+_*r/n;if(u>=t.y&&u<=t.bottom)return{x:t.right,y:u,perX:n,perY:r}}if(a&&r>0){var c=t.y-e,d=i+c*n/r;if(d>=t.x&&d<=t.right)return{x:d,y:t.y,perX:n,perY:r}}if(l&&0>r){var c=t.bottom-e,d=i+c*n/r;if(d>=t.x&&d<=t.right)return{x:d,y:t.bottom,perX:n,perY:r}}return o!==!1?zr(t,i,e,-n,-r,!1):void 0}function Fr(t,i,e,n,r,o){if(!i.contains(e.x,e.y)){if(e=zr(i,e.x,e.y,n,r,o),!e)return;return $r(t,i,e,e.perX,e.perY)}return o===!1?$r(t,i,e,n,r):$r(t,i,{x:e.x,y:e.y,perX:n,perY:r},n,r)||$r(t,i,e,-n,-r)}function $r(t,i,e,n,r){for(;;){if(!i.contains(e.x,e.y))return;if(t.hitTest(e.x+n,e.y+r))break;e.x+=n,e.y+=r}return e}function jr(t){return me(t)?t:t.match(/.(gif|jpg|jpeg|png)$/gi)?t:(t=J(t),t instanceof Object&&t.draw?t:void 0)}function Yr(t){for(var i=t.parent;i;){if(i.enableSubNetwork)return i;i=i.parent}return null}function Hr(){O(this,Hr,arguments)}function Ur(t,e,n,r,o,s,h){var a=i.createElement("div");a.className="Q-Graph-Nav-Button",fi(a,Xa),e&&fi(a,e);var l=i.createElement("img");return s&&(Yo&&(l.ontouchstart=s),Ms||(l.onclick=s)),l.name=h,l.src=n,fi(l,Va),o&&fi(l,o),r&&gi(l,"transform","rotate(180deg)"),a._img=l,a.appendChild(l),t.appendChild(a),a}function Wr(t,e){this._navPane=i.createElement("div"),this._navPane.className="Q-Graph-Nav",fi(this._navPane,{"background-color":"rgba(0, 0, 0, 0)",overflow:"hidden","user-select":"none",position:"relative"}),this._top=Ur(this._navPane,{width:"100%"},Wo.NAVIGATION_IMAGE_TOP,!1,null,e,"top"),this._left=Ur(this._navPane,{height:"100%"},Wo.NAVIGATION_IMAGE_LEFT,!1,Ka,e,"left"),this._right=Ur(this._navPane,{height:"100%",right:"0px"},Wo.NAVIGATION_IMAGE_LEFT,!0,Ka,e,"right"),this._mnottom=Ur(this._navPane,{width:"100%",bottom:"0px"},Wo.NAVIGATION_IMAGE_TOP,!0,null,e,"bottom"),t.appendChild(this._navPane)}function qr(t,i){if(!Wo.NAVIGATION_IMAGE_LEFT){var e=Di(20,40),n=e.g;n.scale(n.ratio,n.ratio),n.moveTo(16,4),n.lineTo(4,20),n.lineTo(16,36),n.lineWidth=3,n.lineCap="round",n.lineJoin="round",n.strokeStyle="#FFF",n.shadowColor="#888",n.shadowBlur=5,n.stroke(),Wo.NAVIGATION_IMAGE_LEFT=e.toDataURL();var r=Di(e.height,e.width,!1);r.g.translate(r.width,0),r.g.rotate(Math.PI/2),r.g.drawImage(e,0,0),Wo.NAVIGATION_IMAGE_TOP=r.toDataURL()}this._mnaseCanvas=t;var o=function(i){j(i);var e,n,r=i.target,o=r.name;if("left"==o)e=1;else if("right"==o)e=-1;else if("top"==o)n=1;else{if("bottom"!=o)return;n=-1}Yo&&(r.className="hover",setTimeout(function(){r.className=""},100)),j(i),t._km._mle(e,n)};Wr.call(this,i,o),this._37(i.clientWidth,i.clientHeight)}function Xr(t,i){this._mnaseCanvas=t,this.init(i,t)}function Vr(){O(this,Vr,arguments)}function Kr(t,i){this._mnaseCanvas=t,this._jb=Xe(i),this.g=this._jb.g,this._9z=new qo}function Zr(t){var i=t.selectionModel,e=[];return t.graphModel.forEach(function(i){t.isVisible(i)&&t.isSelectable(i)&&e.push(i)}),i.set(e)}function Jr(t,i,e){var n=t.bounds;e=e||n,i=i||1;var r=null;r&&e.width*e.height*i*i>r&&(i=Math.sqrt(r/e.width/e.height));var o=Di();We(o.g),o.width=e.width*i,o.height=e.height*i,t._8h._g2(o.g,i,e);var s=null;try{s=o.toDataURL("image/png")}catch(h){hh.error(h)}return{canvas:o,data:s,width:o.width,height:o.height}}function Qr(t){this.graph=t,this.topCanvas=t.topCanvas}function to(t,i){this.interactions=t,this.defaultCursor=i||"default"}function io(){O(this,io,arguments)}function eo(t,i){if(!t)return i;var n={};for(var r in t)n[r]=t[r];for(var r in i)n[r]===e&&(n[r]=i[r]);return n}function no(){O(this,no,arguments)}function ro(){O(this,ro,arguments)}function oo(){O(this,oo,arguments)}function so(){O(this,so,arguments)}function ho(i,e,n){i+=t.pageXOffset,e+=t.pageYOffset;var r=n.getBoundingClientRect();return{x:i+r.left,y:e+r.top}}function ao(t,i,e){var n=t.offsetWidth,r=t.offsetHeight;t.style.left=i-n/2+"px",t.style.top=e-r/2+"px"}function lo(t){var e=i.createElement("canvas"),n=e.getContext("2d"),r=getComputedStyle(t,null),o=r.font;o||(o=r.fontStyle+" "+r.fontSize+" "+r.fontFamily),n.font=o;var s=t.value,h=s.split("\n"),a=parseInt(r.fontSize),l=0,_=0;return hh.forEach(h,function(t){var i=n.measureText(t).width;i>l&&(l=i),_+=1.2*a}),{width:l,height:_}}function _o(t,e){if("number"==typeof t.selectionStart&&"number"==typeof t.selectionEnd){var n=t.value,r=t.selectionStart;t.value=n.slice(0,r)+e+n.slice(t.selectionEnd),t.selectionEnd=t.selectionStart=r+e.length}else if("undefined"!=typeof i.selection){var o=i.selection.createRange();o.text=e,o.collapse(!1),o.select()}}function uo(i){if(Ro){var e=t.scrollX||t.pageXOffset,n=t.scrollY||t.pageYOffset;return i.select(),void t.scrollTo(e,n)}i.select()}function co(){}function fo(t){this.graph=t,this.topCanvas=t.topCanvas,this.handlerSize=Yo?8:5}function vo(t){return t.type==zh||t.type==Fh}function go(t){this.graph=t,this.topCanvas=t.topCanvas,this.handlerSize=Yo?8:4,this._rotateHandleLength=Yo?30:20}function Eo(t,i){var e=new ts;return e.addPoint(ze.call(t,{x:i.x,y:i.y})),e.addPoint(ze.call(t,{x:i.x+i.width,y:i.y})),e.addPoint(ze.call(t,{x:i.x+i.width,y:i.y+i.height})),e.addPoint(ze.call(t,{x:i.x,y:i.y+i.height})),e}function mo(t){t%=2*Math.PI;var i=Math.round(t/Qa);return 0==i||4==i?"ew-resize":1==i||5==i?"nwse-resize":2==i||6==i?"ns-resize":"nesw-resize"}function po(e,n,r){var o=i.documentElement,s=new hh.Rect(t.pageXOffset,t.pageYOffset,o.clientWidth-2,o.clientHeight-2),h=e.offsetWidth,a=e.offsetHeight;n+h>s.x+s.width&&(n=s.x+s.width-h),r+a>s.y+s.height&&(r=s.y+s.height-a),n<s.x&&(n=s.x),r<s.y&&(r=s.y),e.style.left=n+"px",e.style.top=r+"px"}function yo(t,i,e,n,r){this.source=t,this.type="interaction",this.kind=i,this.event=e,this.data=n,this.datas=r}function To(t){this._3v={},this._km=t,this._km._1f.addListener(this._9s,this),this.currentMode=ah.INTERACTION_MODE_DEFAULT}function wo(t){return t>=100&&200>t}function Oo(t){return t==ml||t==Ll||t==bl||t==Tl||t==Il||t==Cl}function Ao(){var t,i,e={},n=[],r=0,o={},s=0;this.graph.forEach(function(h){if(this.isLayoutable(h))if(h instanceof Aa){var a={node:h,id:h.id,x:h.x,y:h.y};for(this.appendNodeInfo&&this.appendNodeInfo(h,a),e[h.id]=a,n.push(a),r++,i=h.parent;i instanceof xa;){t||(t={});var l=t[i.id];l||(l=t[i.id]={id:i.id,children:[]}),l.children.push(a),i=i.parent}}else if(h instanceof Oa&&!h.isLooped()&&h.fromAgent&&h.toAgent){var a={edge:h};o[h.id]=a,s++}},this);var h={};for(var a in o){var l=o[a],_=l.edge,u=_.fromAgent,c=_.toAgent,d=u.id+"-"+c.id,f=c.id+"-"+u.id;if(e[u.id]&&e[c.id]&&!h[d]&&!h[f]){var v=e[u.id],g=e[c.id];l.from=v,l.to=g,h[d]=l,this.appendEdgeInfo&&this.appendEdgeInfo(_,l)}else delete o[a],s--}return{groups:t,nodesArray:n,nodes:e,nodeCount:r,edges:o,edgeCount:s,minEnergy:this.minEnergyFunction(r,s)}}function bo(t){this.graph=t,this.currentMovingNodes={}}function Lo(){O(this,Lo,arguments)}function xo(t,i,e,n,r){n?t.forEachEdge(function(n){var o=n.otherNode(t);o!=e&&o._marker!=r&&i(o,t)},this,!0):t.forEachOutEdge(function(n){var o=n.toAgent;o!=e&&o._marker!=r&&i(o,t)})}var So=0;if(t.navigator){var Io=navigator.userAgent,Co=/opera/i.test(Io),Ro=!Co&&/msie/i.test(Io),Do=/rv:11.0/i.test(Io),Po=/MSIE 10./i.test(Io);if(Do&&(Ro=!0),/msie\s[6,7,8]/i.test(Io))throw new Error("your browser is not supported");var No=/webkit|khtml/i.test(Io),Mo=!No&&/gecko/i.test(Io),ko=/firefox\//i.test(Io),Bo=/Chrome\//i.test(Io),Go=!Bo&&/Safari\//i.test(Io),zo=/Macintosh;/i.test(Io),Fo=/(iPad|iPhone|iPod)/g.test(Io),$o=/Android/g.test(Io),jo=/Windows Phone/g.test(Io),Yo=(Fo||$o||jo)&&"ontouchstart"in t,Ho=Io.match(/AppleWebKit\/([0-9\.]*)/);if(Ho&&Ho.length>1)var Uo=parseFloat(Ho[1]);if($o){{parseFloat(Io.match(/Android\s([0-9\.]*)/)[1])}if(Uo&&534.3>=Uo);}}t.requestAnimationFrame||(t.requestAnimationFrame=t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(i){return t.setTimeout(function(){i()},1e3/60)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||function(i){return t.clearTimeout(i)});var Wo={SELECTION_TOLERANCE:Yo?5:2,LABEL_COLOR:"#333"};Z(Wo,{FONT_STYLE:{get:function(){return this._fontStyle||(this._fontStyle="normal")},set:function(t){this._fontStyle!=t&&(this._fontStyle=t,this._fontChanged=!0)}},FONT_SIZE:{get:function(){return this._fontSize||(this._fontSize=12)},set:function(t){this._fontSize!=t&&(this._fontSize=t,this._fontChanged=!0)
}},FONT_FAMILY:{get:function(){return this._fontFamily||(this._fontFamily="Verdana,helvetica,arial,sans-serif")},set:function(t){this._fontFamily!=t&&(this._fontFamily=t,this._fontChanged=!0)}},FONT:{get:function(){return(this._fontChanged||this._fontChanged===e)&&(this._fontChanged=!1,this._font=this.FONT_STYLE+" "+this.FONT_SIZE+"px "+this.FONT_FAMILY),this._font}}});var qo=function(t){this._jl=[],this._lj={},t&&this.add(t)};qo.prototype={_jl:null,_lj:null,get:function(t){return this.getByIndex(t)},getById:function(t){return this._lj[t]},getByIndex:function(t){return this._jl[t]},forEach:function(t,i,e){return f(this._jl,t,i,e)},forEachReverse:function(t,i,e){return g(this._jl,t,i,e)},size:function(){return this._jl.length},contains:function(t){return this.containsById(t.id)},containsById:function(t){return this._lj.hasOwnProperty(t)},setIndex:function(t,i){var e=this._jl.indexOf(t);if(0>e)throw new Error("'"+t.id+"' not exist");return e==i?!1:(this._jl.splice(e,1),this._jl.splice(i,0,t),!0)},setIndexAfter:function(t,i){var e=this._jl.indexOf(t);if(0>e)throw new Error("'"+t.id+"' not exist");return e==i?i:e==i+1?i+1:(e>i&&(i+=1),this._jl.splice(e,1),this._jl.splice(i,0,t),i)},setIndexBefore:function(t,i){var e=this._jl.indexOf(t);if(0>e)throw new Error("'"+t.id+"' not exist");return e==i?i:e==i-1?i-1:(i>e&&(i-=1),this._jl.splice(e,1),this._jl.splice(i,0,t),i)},indexOf:function(t){return this._jl.indexOf(t)},getIndexById:function(t){var i=this.getById(t);return i?this._jl.indexOf(i):-1},add:function(t,i){return z(t)?this._gn(t,i):this._kj(t,i)},addFirst:function(t){return this.add(t,0)},_gn:function(t,i){if(0==t.length)return!1;var n=!1,r=i>=0;t=t._jl||t;for(var o=0,s=t.length;s>o;o++){var h=t[o];null!==h&&h!==e&&this._kj(h,i,!0)&&(n=!0,r&&i++)}return n},_kj:function(t,i){var n=t.id;return n===e||this.containsById(n)?!1:(m(this._jl,t,i),this._lj[n]=t,t)},remove:function(t){return z(t)?this._mlq(t):t.id?this._gs(t.id,t):this.removeById(t)},_mlq:function(t){if(0==t.length)return!1;var i=!1;t=t._jl||t;for(var n=0,r=t.length;r>n;n++){var o=t[n];if(null!==o&&o!==e){o.id===e&&(o=this._lj[o]);var s=o.id;this._gs(s,o,!0)&&(i=!0)}}return i},_gs:function(t,i){return t!==e&&this.containsById(t)?((null===i||i===e)&&(i=this.getById(t)),delete this._lj[t],p(this._jl,i),!0):!1},removeById:function(t){var i=this._lj[t];return i?this._gs(t,i):!1},set:function(t){if(!t||0==t)return void this.clear();if(this.isEmpty()||!z(t))return this.clear(),this.add(t);var i=[],e={},n=0;if(f(t,function(t){this._lj[t.id]?(e[t.id]=t,n++):i.push(t)},this),n!=this.length){var r=[];this.forEach(function(t){e[t.id]||r.push(t)},this),r.length&&this._mlq(r)}return i.length&&this._gn(i),!0},clear:function(){return this.isEmpty()?!1:(this._jl.length=0,this._lj={},!0)},toDatas:function(){return this._jl.slice(0)},isEmpty:function(){return 0==this._jl.length},valueOf:function(){return this._jl.length},clone:function(t){var i=new qo;return i.add(t?E(this._jl):this.toDatas()),i}},Z(qo.prototype,{datas:{get:function(){return this._jl}},random:{get:function(){return this._jl&&this._jl.length?this._jl[Y(this._jl.length)]:null}},length:{get:function(){return this._jl?this._jl.length:0}}});var Xo=(2*Math.PI,.5*Math.PI),Vo=function(t,i){i=i.toUpperCase();for(var e=Ro?t.firstChild:t.firstElementChild;e&&(1!=e.nodeType||e.tagName&&e.tagName.toUpperCase()!=i);)e=Ro?e.nextSibling:e.nextElementSibling;return e&&1==e.nodeType&&e.tagName&&e.tagName.toUpperCase()==i?e:null},Ko=function(t,i,e){t instanceof Ko&&(i=t.y,t=t.x,e=t.rotate),this.set(t,i,e)},Zo=function(t,i,e,n){var r=t-e,o=i-n;return Math.sqrt(r*r+o*o)};Ko.prototype={x:0,y:0,rotate:e,set:function(t,i,e){this.x=t||0,this.y=i||0,this.rotate=e||0},negate:function(){this.x=-this.x,this.y=-this.y},offset:function(t,i){this.x+=t,this.y+=i},equals:function(t){return this.x==t.x&&this.y==t.y},distanceTo:function(t){return Zo(this.x,this.y,t.x,t.y)},toString:function(){return"Point("+this.x+", "+this.y+")"},clone:function(){return new Ko(this.x,this.y)}},Object.defineProperty(Ko.prototype,"distance",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}});var Jo=function(t,i,n,r){t!==e&&this._m9(t,i,n,r)};Jo.prototype={_mk:null,_mi:null,_mg:null,_mf:null,_ml:null,_mn:null,_mo:1,_m9:function(t,i,e,n){this._mk=t,this._mi=i,this._mg=e,this._mf=n,t==e?(this._ml=-1,this._mo=0,this._mn=t):(this._ml=(i-n)/(t-e),this._mn=i-this._ml*t,this._mo=1),this._kt=Math.atan2(this._mf-this._mi,this._mg-this._mk),this._moos=Math.cos(this._kt),this._sin=Math.sin(this._kt)},_dh:function(t){return 0==this._mo?Number.NaN:this._ml*t+this._mn},_dj:function(t){return 0==this._ml?Number.NaN:(t-this._mn)/this._ml},_$d:function(t){var i,e,n,r,o,s=t[0],h=t[2],a=t[4],l=t[1],_=t[3],u=t[5],c=this._ml,d=this._mn,f=this._mo;if(0==f?(n=Math.sqrt((-c*c*s-c*d)*a+c*c*h*h+2*c*d*h-c*d*s),r=-c*h+c*s,o=c*a-2*c*h+c*s):(n=Math.sqrt((-l+c*s+d)*u+_*_+(-2*c*h-2*d)*_+(c*a+d)*l+(-c*c*s-c*d)*a+c*c*h*h+2*c*d*h-c*d*s),r=-_+l+c*h-c*s,o=u-2*_+l-c*a+2*c*h-c*s),0!=o){i=(n+r)/o,e=(-n+r)/o;var v,g;return i>=0&&1>=i&&(v=Fi(i,t)),e>=0&&1>=e&&(g=Fi(e,t)),v&&g?[v,g]:v?v:g?g:void 0}},_3s:function(t,i,e){if(this._ml==t._ml||0==this._mo&&0==t._mo)return null;var n,r;if(n=0==this._mo?this._mn:0==t._mo?t._mn:(t._mn-this._mn)/(this._ml-t._ml),r=0==this._ml?this._mn:0==t._ml?t._mn:this._mo?this._ml*n+this._mn:t._ml*n+t._mn,!i)return{x:n,y:r};var o,s,h;if(e)o=-i/2,s=-o;else{o=-Zo(this._mk,this._mi,n,r),s=Zo(this._mg,this._mf,n,r);var a=-o+s;if(a>i){var l=i/a;o*=l,s*=l}else h=(i-a)/2}var _=this._7h(n,r,o),u=this._7h(n,r,s);return h&&(_._rest=h,u._rest=h),[_,u]},_7h:function(t,i,e){return 0==this._mo?{x:t,y:i+e}:{x:t+e*this._moos,y:i+e*this._sin}}};var Qo=function(t,i){this.width=t,this.height=i};Qo.prototype={width:0,height:0,isEmpty:function(){return this.width<=0||this.height<=0},clone:function(){return new Qo(this.width,this.height)},toString:function(){return"Size("+this.width+", "+this.height+")"}};var ts=function(t,i,n,r){t instanceof Object&&!k(t)&&(i=t.y,n=t.width,r=t.height,t=t.x),n===e&&(n=-1),r===e&&(r=-1),this.x=t||0,this.y=i||0,this.width=n,this.height=r};ts.prototype={x:0,y:0,width:-1,height:-1,setByRect:function(t){this.x=t.x||0,this.y=t.y||0,this.width=t.width||0,this.height=t.height||0},set:function(t,i,e,n){this.x=t||0,this.y=i||0,this.width=e||0,this.height=n||0},offset:function(t,i){return this.x+=t,this.y+=i,this},contains:function(t,i){return t instanceof ts?hi(this.x,this.y,this.width,this.height,t.x,t.y,t.width,t.height,i):t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height},intersectsPoint:function(t,i,e){return this.width<=0&&this.height<=0?!1:e?this.intersectsRect(t-e,i-e,2*e,2*e):t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height},intersectsRect:function(t,i,e,n){return oi(this.x,this.y,this.width,this.height,t,i,e,n)},intersects:function(t,i){return k(t.width)?this.intersectsRect(t.x,t.y,t.width,t.height):this.intersectsPoint(t,i)},intersection:function(t,i,e,n){var r=this.x,o=this.y,s=r;s+=this.width;var h=o;h+=this.height;var a=t;a+=e;var l=i;return l+=n,t>r&&(r=t),i>o&&(o=i),s>a&&(s=a),h>l&&(h=l),s-=r,h-=o,0>s||0>h?null:new ts(r,o,s,h)},addPoint:function(t){this.add(t.x,t.y)},add:function(t,i){if(k(t.width))return this.addRect(t.x,t.y,t.width,t.height);if(k(t.x)&&(i=t.y,t=t.x),this.width<0||this.height<0)return this.x=t,this.y=i,void(this.width=this.height=0);var e=this.x,n=this.y,r=this.width,o=this.height;r+=e,o+=n,e>t&&(e=t),n>i&&(n=i),t>r&&(r=t),i>o&&(o=i),r-=e,o-=n,r>Number.MAX_VALUE&&(r=Number.MAX_VALUE),o>Number.MAX_VALUE&&(o=Number.MAX_VALUE),this.set(e,n,r,o)},addRect:function(t,i,e,n){var r=this.width,o=this.height;(0>r||0>o)&&this.set(t,i,e,n);var s=e,h=n;if(!(0>s||0>h)){var a=this.x,l=this.y;r+=a,o+=l;var _=t,u=i;s+=_,h+=u,a>_&&(a=_),l>u&&(l=u),s>r&&(r=s),h>o&&(o=h),r-=a,o-=l,r>Number.MAX_VALUE&&(r=Number.MAX_VALUE),o>Number.MAX_VALUE&&(o=Number.MAX_VALUE),this.set(a,l,r,o)}},shrink:function(t,i,e,n){return k(t)?1==arguments.length?n=i=e=t||0:2==arguments.length?(e=t||0,n=i||0):(t=t||0,i=i||0,e=e||0,n=n||0):(i=t.left||0,e=t.bottom||0,n=t.right||0,t=t.top||0),this.x+=i,this.y+=t,this.width-=i+n,this.height-=t+e,this},grow:function(t,i,e,n){return k(t)?1==arguments.length?n=i=e=t||0:2==arguments.length?(e=t||0,n=i||0):(t=t||0,i=i||0,e=e||0,n=n||0):(i=t.left||0,e=t.bottom||0,n=t.right||0,t=t.top||0),this.x-=i,this.y-=t,this.width+=i+n,this.height+=t+e,this},scale:function(t){return this.x*=t,this.y*=t,this.width*=t,this.height*=t,this},isEmpty:function(){return this.width<=0&&this.height<=0},toString:function(){return this.x+" , "+this.y+" , "+this.width+" , "+this.height},union:function(t){var i=this.width,e=this.height;if(0>i||0>e)return new ts(t.x,t.y,t.width,t.height);var n=t.width,r=t.height;if(0>n||0>r)return new ts(this.x,this.y,this.width,this.height);var o=this.x,s=this.y;i+=o,e+=s;var h=t.x,a=t.y;return n+=h,r+=a,o>h&&(o=h),s>a&&(s=a),n>i&&(i=n),r>e&&(e=r),i-=o,e-=s,i>Number.MAX_VALUE&&(i=Number.MAX_VALUE),e>Number.MAX_VALUE&&(e=Number.MAX_VALUE),new ts(o,s,i,e)},clear:function(){this.set(0,0,-1,-1)},equals:function(t){return t&&this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},clone:function(t,i){return new ts(this.x+(t||0),this.y+(i||0),this.width,this.height)},toArray:function(){return[this.x,this.y,this.width,this.height]},getIntersectionPoint:function(t,i,e,n){return ri(this,t,i,e,n)}},w(ts,Qo),ts.equals=function(t,i){return t==i||t&&i&&t.x==i.x&&t.y==i.y&&t.width==i.width&&t.height==i.height},Z(ts.prototype,{left:{get:function(){return this.x}},top:{get:function(){return this.y}},bottom:{get:function(){return this.y+this.height}},right:{get:function(){return this.x+this.width}},cx:{get:function(){return this.x+this.width/2}},cy:{get:function(){return this.y+this.height/2}},center:{get:function(){return new Ko(this.cx,this.cy)}}}),ts.intersects=oi,ts.intersection=ai,ts.intersectsPoint=si;var is=function(t,i,e,n){1==arguments.length?i=e=n=t:2==arguments.length&&(e=t,n=i),this.set(t,i,e,n)};is.prototype={top:0,bottom:0,left:0,right:0,set:function(t,i,e,n){this.top=t||0,this.left=i||0,this.bottom=e||0,this.right=n||0},clone:function(){return new is(this.top,this.left,this.bottom,this.right)},equals:function(t){return t&&this.top==t.top&&this.bottom==t.bottom&&this.left==t.left&&this.right==t.right}};var es=function(t,i){this.horizontalPosition=t,this.verticalPosition=i};es.prototype={verticalPosition:!1,horizontalPosition:!1,toString:function(){return(this.horizontalPosition||"")+(this.verticalPosition||"")}},K(es.prototype,"sortName",{get:function(){return(this.horizontalPosition||"")+(this.verticalPosition||"")}});var ns="l",rs="c",os="r",ss="t",hs="m",as="b";es.LEFT_TOP=new es(ns,ss),es.LEFT_MIDDLE=new es(ns,hs),es.LEFT_BOTTOM=new es(ns,as),es.CENTER_TOP=new es(rs,ss),es.CENTER_MIDDLE=new es(rs,hs),es.CENTER_BOTTOM=new es(rs,as),es.RIGHT_TOP=new es(os,ss),es.RIGHT_MIDDLE=new es(os,hs),es.RIGHT_BOTTOM=new es(os,as);var ls=[es.LEFT_TOP,es.LEFT_MIDDLE,es.LEFT_BOTTOM,es.CENTER_TOP,es.CENTER_MIDDLE,es.CENTER_BOTTOM,es.RIGHT_TOP,es.RIGHT_MIDDLE,es.RIGHT_BOTTOM];K(es,"random",{get:function(){return ls[Y(ls.length)]}}),es.fromString=function(t){for(var i in es){var e=es[i];if(e&&"random"!=i&&e instanceof es&&e.toString()==t)return e}};var _s=function(t,i,e,n,r){this.set(t,i,e,n),this.radius=r};_s.prototype={radius:0,classify:function(t,i,e,n){return i>t?0:i+n>t?1:e-n>t?2:e>t?3:4},intersectsRect:function(t,i,e,n){if(A(this,_s,"intersectsRect",arguments)===!1)return!1;var r=this.x,o=this.y,s=r+this.width,h=o+this.height,a=2*radius,l=2*radius,_=Math.min(this.width,Math.abs(a))/2,u=Math.min(this.height,Math.abs(l))/2,c=this.classify(t,r,s,_),d=this.classify(t+e,r,s,_),f=this.classify(i,o,h,u),v=this.classify(i+n,o,h,u);return 2==c||2==d||2==f||2==v?!0:2>c&&d>2||2>f&&v>2?!0:(t=1==d?t=t+e-(r+_):t-=s-_,i=1==v?i=i+n-(o+u):i-=h-u,t/=_,i/=u,1>=t*t+i*i)},intersectsPoint:function(t,i){if(A(this,_s,"intersectsPoint",arguments)===!1)return!1;var e=this.x,n=this.y,r=e+this.width,o=n+this.height;if(e>t||n>i||t>=r||i>=o)return!1;var s=2*radius,h=2*radius,a=Math.min(this.width,Math.abs(s))/2,l=Math.min(this.height,Math.abs(h))/2;return t>=(e+=a)&&t<(e=r-a)?!0:i>=(n+=l)&&i<(n=o-l)?!0:(t=(t-e)/a,i=(i-n)/l,1>=t*t+i*i)},clone:function(){return new _s(this.x,this.y,this.width,this.height,this.radius)}},w(_s,ts);var us=function(t,i,e,n){this.source=t,this.type=i,this.kind=e,this.value=n};us.prototype={source:null,type:null,kind:null,value:null,toString:function(){return"source: "+this.source+", type: "+this.type+", kind: "+this.kind}};var cs=function(t,i,e,n,r){this.source=t,this.kind=i,this.oldValue=n,this.value=e,this.propertyType=r};cs.prototype={type:"property.change",propertyType:null,toString:function(){return"source: "+this.source+", type: "+this.type+", propertyName: "+this.kind+", oldValue: "+this.oldValue+", value: "+this.value}},w(cs,us),K(cs.prototype,"propertyName",{get:function(){return this.kind},set:function(t){this.kind=t}});var ds=function(t,i,e){this.source=t,this.oldValue=t.parent,this.value=i,this.newIndex=e,this.oldValue&&(this.oldIndex=this.oldValue.getChildIndex(t))};ds.prototype={kind:"parent"},w(ds,cs);var fs=function(t,i){this.source=t,this.value=i};fs.prototype.kind="child.add",w(fs,cs);var vs=function(t,i){this.source=t,this.value=i};vs.prototype.kind="child.remove",w(vs,cs);var gs=function(t,i,e,n){this.source=i,this.oldValue=e,this.value=n,this.parent=t,this.child=i,this.oldIndex=e,this.newIndex=n};gs.prototype.kind="child.index",w(gs,cs);var Es=function(){};Es.prototype={listener:null,beforeEvent:function(t){return null!=this.listener&&this.listener.beforeEvent?this.listener.beforeEvent(t):!0},onEvent:function(t){null!=this.listener&&this.listener.onEvent&&this.listener.onEvent(t)}};var ms=function(){O(this,ms,arguments),this.events={},this.listeners=[]},ps=function(t,i){this.listener=t,this.scope=i,t instanceof Function?this.onEvent=t:(this.onEvent=t.onEvent,this.beforeEvent=t.beforeEvent),this.equals=function(t){return t&&this.listener==t.listener&&this.scope==t.scope}};ps.prototype={equals:function(t){return t&&this.listener==t.listener&&this.scope==t.scope},destroy:function(){delete this.scope,delete this.listener}},ms.prototype={listeners:null,_mlx:function(){return this.listeners&&this.listeners.length>0},_7r:function(t,i){return t instanceof ms?t:new ps(t,i)},_ml3:function(t,i){if(t instanceof ms)return this.listeners.indexOf(t);for(var e=this.listeners,n=0,r=e.length;r>n;n++){var o=e[n];if(o.listener==t&&o.scope==i)return n}return-1},contains:function(t,i){return this._ml3(t,i)>=0},addListener:function(t,i){return this.contains(t,i)?!1:void this.listeners.push(this._7r(t,i))},removeListener:function(t,i){var e=this._ml3(t,i);e>=0&&this.listeners.splice(e,1)},on:function(t,i){this.addListener(t,i)},un:function(t,i,e){this.removeListener(t,i,e)},onEvent:function(t){return this.listeners?void f(this.listeners,function(i){i.onEvent&&(i.scope?i.onEvent.call(i.scope,t):i.onEvent(t))},this):!1},beforeEvent:function(t){return this.listeners?f(this.listeners,function(i){return i.beforeEvent?i.scope?i.beforeEvent.call(i.scope,t):i.beforeEvent(t):!0},this):!0},_dr:function(t){return this.beforeEvent(t)===!1?!1:(this.onEvent(t),!0)},clear:function(){this.listeners=[]},destroy:function(){this.clear()}},w(ms,Es);var ys={onEvent:function(){},beforeEvent:function(){}},Ts=function(t,i,e,n,r){this.source=t,this.type="list",this.kind=i,this.data=e,this.index=n,this.oldIndex=r};Ts.prototype={index:-1,oldIndex:-1,toString:function(){return"source: "+this.source+", type: "+this.type+", kind: "+this.kind+", data: "+this.data+", index: "+this.index+", oldIndex: "+this.oldIndex}},w(Ts,us),Ts.KIND_ADD="add",Ts.KIND_REMOVE="remove",Ts.KIND_CLEAR="clear",Ts.KIND_INDEX_CHANGE="index.change";var ws=function(){this.id=++So,this._mof={}};ws.prototype={_mof:null,id:null,get:function(t){return this._mof[t]},set:function(t,i){var e=this.get(t);if(e===i)return!1;var n=new cs(this,t,i,e);return n.propertyType=ah.PROPERTY_TYPE_CLIENT,this._mlo(t,i,n,this._mof)},_mlo:function(t,i,n,r){return this.beforeEvent(n)===!1?!1:(r||(r=this._mof),i===e?delete r[t]:r[t]=i,this.onEvent(n),!0)},remove:function(t){this.set(t,null)},valueOf:function(){return this.id},toString:function(){return this.id},_e0:function(t,i){if(i===e&&(i=-1),this==t||t==this._jw)return!1;if(t&&this==t._jw&&!t._e0(null))return!1;var n=new ds(this,t,i);if(!this.beforeEvent(n))return!1;var r,o,s=this._jw;return t&&(r=new fs(t,this),!t.beforeEvent(r))?!1:null==s||(o=new vs(s,this),s.beforeEvent(o))?(this._jw=t,null!=t&&_i(t,this,i),null!=s&&ui(s,this),this.onEvent(n),null!=t&&t.onEvent(r),null!=s&&s.onEvent(o),this.onParentChanged(s,t),!0):!1},addChild:function(t,i){var e=t._e0(this,i);return e&&this.onChildAdd(t,i),e},onChildAdd:function(){},removeChild:function(t){if(!this._g0||!this._g0.contains(t))return!1;var i=t._e0(null);return this.onChildRemove(t),i},onChildRemove:function(){},toChildren:function(){return this._g0?this._g0.toDatas():null},clearChildren:function(){if(this._g0&&this._g0.length){var t=this.toChildren();f(t,function(t){t._e0(null)},this),this.onChildrenClear(t)}},forEachChild:function(t,i){return this.hasChildren()?this._g0.forEach(t,i):!1},onChildrenClear:function(){},getChildIndex:function(t){return this._g0&&this._g0.length?this._g0.indexOf(t):-1},setChildIndex:function(t,i){if(!this._g0||!this._g0.length)return!1;var e=this._g0.indexOf(t);if(0>e||e==i)return!1;var n=new gs(this,t,e,i);return this.beforeEvent(n)===!1?!1:(this._g0.remove(t)&&this._g0.add(t,i),this.onEvent(n),!0)},hasChildren:function(){return this._g0&&this._g0.length>0},getChildAt:function(t){return null==this._g0?null:this._g0._jl[t]},isDescendantOf:function(t){if(!t.hasChildren())return!1;for(var i=this.parent;null!=i;){if(t==i)return!0;i=i.parent}return!1},onParentChanged:function(){},firePropertyChangeEvent:function(t,i,e,n){this.onEvent(new cs(this,t,i,e,n))}},w(ws,Es),Z(ws.prototype,{childrenCount:{get:function(){return this._g0?this._g0.length:0}},children:{get:function(){return this._g0||(this._g0=new qo),this._g0}},parent:{get:function(){return this._jw},set:function(t){this._e0(t,-1)}},properties:{get:function(){return this._mof},set:function(t){this._mof!=t&&(this._mof=t)}}});var Os=function(){this._jl=[],this._lj={},this._1f=new ms};Os.prototype={beforeEvent:function(t){return null!=this._1f&&this._1f.beforeEvent?this._1f.beforeEvent(t):!0},onEvent:function(t){return this._1f instanceof Function?void this._1f(t):void(null!=this._1f&&this._1f.onEvent&&this._1f.onEvent(t))},_1f:null,setIndex:function(t,i){if(!this.contains(t))throw new Error("'"+t.getId()+"' not exist");var e=this.indexOf(t);if(e==i)return!1;var n=new Ts(this,Ts.KIND_INDEX_CHANGE,t,i,e);return this.beforeEvent(n)===!1?!1:(this._jl.remove(t)>=0&&this._jl.add(i,t),this.onEvent(n),!0)},_gn:function(t,i){if(0==t.length)return!1;var n=!1,r=i>=0,o=new Ts(this,Ts.KIND_ADD,t,i);if(this.beforeEvent(o)===!1)return!1;var s=[];t=t._jl||t;for(var h=0,a=t.length;a>h;h++){var l=t[h];null!==l&&l!==e&&this._kj(l,i,!0)&&(s.push(l),n=!0,r&&i++)}return o.data=s,this.onEvent(o),n},_kj:function(t,i,e){if(this.accept(t)===!1)return!1;if(e)return A(this,Os,"_kj",arguments);var n=new Ts(this,Ts.KIND_ADD,t,i);return this.beforeEvent(n)===!1?!1:A(this,Os,"_kj",arguments)?(this._kk(t,n),t):!1},_kk:function(t,i){this.onEvent(i)},_mlq:function(t){if(0==t.length)return!1;var i=new Ts(this,Ts.KIND_REMOVE,t);if(this.beforeEvent(i)===!1)return!1;var n=[],r=!1;t=t._jl||t;for(var o=0,s=t.length;s>o;o++){var h=t[o];if(null!==h&&h!==e){var a=h.id||h;h.id===e&&(h=null),this._gs(a,h,!0)&&(n.push(h),r=!0)}}return i.data=n,this.onEvent(i),r},_gs:function(t,i,e){if(e)return A(this,Os,"_gs",arguments);var n=new Ts(this,Ts.KIND_REMOVE,i);return this.beforeEvent(n)===!1?!1:A(this,Os,"_gs",arguments)?(this.onEvent(n),!0):!1},clear:function(){if(this.isEmpty())return!1;var t=new Ts(this,Ts.KIND_CLEAR,this.toDatas());return this.beforeEvent(t)===!1?!1:A(this,Os,"clear")?(this.onEvent(t),!0):!1},accept:function(t){return this.filter&&this.filter(t)===!1?!1:!0}},w(Os,qo),K(Os.prototype,"listChangeDispatcher",{get:function(){return this._1f}});var As=function(){O(this,As,arguments),this.selectionChangeDispatcher=new ms,this._selectionModel=new bs(this),this._selectionModel._1f=this.selectionChangeDispatcher,this.dataChangeDispatcher=new ms,this.dataChangeDispatcher.addListener({beforeEvent:this.beforeDataPropertyChange,onEvent:this.onDataPropertyChanged},this),this.parentChangeDispatcher=new ms,this.childIndexChangeDispatcher=new ms,this.$roots=new qo;var t=this;this.$roots.setIndex=function(i,e){if(!t.$roots.contains(i))throw new Error("'"+i.id+"' not exist");var n=t.$roots._jl.indexOf(i);if(n==e)return!1;t.$roots._jl.splice(n,1),t.$roots._jl.splice(e,0,i),t._motIndexFlag=!0;var r=new gs(t,i,n,e);return t._1w(r),!0}};As.prototype={selectionModel:null,selectionChangeDispatcher:null,dataChangeDispatcher:null,parentChangeDispatcher:null,roots:null,_kk:function(t,i){t.listener=this.dataChangeDispatcher,t.parent||this.$roots.add(t),this.onEvent(i)},_gs:function(t,i){if(A(this,As,"_gs",arguments)){if(i instanceof Oa)i.disconnect();else if(i instanceof Aa){var e=i.getEdges();this.remove(e)}var n=i.parent;return null==n?this.$roots.remove(i):(n.removeChild(i),n.__6i=!0),i.hasChildren()&&this.remove(i.toChildren()),i.listener=null,!0}return!1},_53:function(t){var i=t.source;this.contains(i)&&(null==i.parent?this.$roots.add(i):null==t.oldValue&&this.$roots.remove(i),this.parentChangeDispatcher.onEvent(t))},_1w:function(t){this.childIndexChangeDispatcher.onEvent(t)},beforeDataPropertyChange:function(t){return t instanceof ds?this.parentChangeDispatcher.beforeEvent(t):!0},onDataPropertyChanged:function(t){return t instanceof ds?(this._motIndexFlag=!0,t.source._motIndexFlag=!0,void this._53(t)):void(t instanceof gs&&(this._motIndexFlag=!0,t.source._motIndexFlag=!0,this._1w(t)))},toRoots:function(){return this.$roots.toDatas()},_gq:function(t){var i,e=t._jw;i=e?e._g0:this.$roots;var n=i.indexOf(t);if(0>n)throw new Error("data '"+t+"' not exist in the box");return 0==n?e:i.getByIndex(n-1)},_go:function(t){var i,e=t._jw;i=e?e._g0:this.$roots;var n=i.indexOf(t);if(0>n)throw new Error("data '"+t+"' not exist in the box");return n==i.length-1?e?this._go(e):null:i.getByIndex(n+1)},forEachByDepthFirst:function(t,i,e){return this.$roots.length?o(this.$roots,t,i,e):!1},forEachByDepthFirstReverse:function(t,i,e){return this.$roots.length?a(this.$roots,t,i,e):!1},forEachByBreadthFirst:function(t,i){return this.$roots.length?u(this.$roots,t,i):!1},forEachByBreadthFirstReverse:function(t,i){return this.$roots.length?c(this.$roots,t,i):!1},clear:function(){return A(this,As,"clear")?(this.$roots.clear(),this.selectionModel.clear(),!0):!1}},w(As,Os),Z(As.prototype,{selectionModel:{get:function(){return this._selectionModel}},roots:{get:function(){return this.$roots}}});var bs=function(t){O(this,bs),this.box=t,this._mnoxChangeListener={onEvent:function(t){Ts.KIND_REMOVE==t.kind?null!=t.data?this.remove(t.data):null!=t.datas&&this.remove(t.datas):Ts.KIND_CLEAR==t.kind&&this.clear()}},this.box.listChangeDispatcher.addListener(this._mnoxChangeListener,this)};bs.prototype={box:null,isSelected:function(t){return this.containsById(t.id||t)},select:function(t){return this.add(t)},unselect:function(t){return this.remove(t)},reverseSelect:function(t){return this.contains(t)?this.remove(t):this.add(t)},accept:function(t){return this.box.contains(t)}},w(bs,Os);var Ls=null,xs=null,Ss=function(){if(!i.createElement)return function(t){return t};var t=i.createElement("div"),n=t.style,r={};return function(t){if(r[t])return r[t];var i=ci(t);return n[i]!==e||xs&&n[i=ci(xs+i)]!==e?(r[t]=i,i):t}}(),Is={};!function(){if(!i.head)return!1;for(var n=i.head,r="Webkit Moz O ms Khtml".split(" "),o=0;o<r.length;o++)if(n.style[r[o]+"Transform"]!==e){xs="-"+r[o].toLowerCase()+"-";break}var s=i.createElement("style");t.createPopup||s.appendChild(i.createTextNode("")),s.type="text/css",s.id="qunee-styles",n.appendChild(s),Ls=s.sheet;var h,a;for(var l in Is){var _=Is[l];h=l,a="";for(var u in _)a+=Ss(u)+":"+_[u]+";\n";Ei(h,a)}}();var Cs=function(t,i,e,n,r){if(r){var o=function(t){o.handle.call(o.scope,t)};return o.scope=r,o.handle=e,t.addEventListener(i,o,n),o}return t.addEventListener(i,e,n),e},Rs=function(t,i,e){t.removeEventListener(i,e)},F=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},$=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble||(t.cancelBubble=!0)},j=function(t){F(t),$(t)};if(Wo.DOUBLE_CLICK_INTERVAL_TIME=200,Wo.LONG_PRESS_INTERVAL=800,t.navigator&&navigator.userAgent){var Ds,Ps=/mobile|tablet|ip(ad|hone|od)|android/i,Ns="ontouchstart"in t,Ms=Ns&&Ps.test(navigator.userAgent);if(Ms)Ds="touchstart,touchmove,touchend,touchcancel";else{var ks="onmousewheel"in t?"mousewheel":"DOMMouseScroll";Ds="contextmenu,mousedown,mouseup,click,dblclick,mousemove,keydown,keyup,"+ks,Ns&&(Ds+=",touchstart,touchmove,touchend,touchcancel")}Ds=Ds.split(/[\s,]+/);var Bs=function(i){return t.TouchEvent&&i instanceof t.TouchEvent},Gs=function(){return Wo.DOUBLE_CLICK_INTERVAL_TIME},zs=function(){return Wo.LONG_PRESS_INTERVAL},F=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},$=function(t){t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},j=function(t){F(t),$(t)},Fs=function(t){return t.defaultPrevented||t.returnValue===!1},$s=function(t){qs._mourrentItem&&qs._mourrentItem._onWindowMouseMove(t)},js=function(t){if(qs._mourrentItem){var i=qs._mourrentItem;i._onWindowMouseUp(t),Ys(null)}},Ys=function(t){qs._mourrentItem!=t&&(qs._mourrentItem&&(qs._mourrentItem.__dragging=!1),qs._mourrentItem=t)},Hs=function(i,e){Ds.forEach(function(t){i.addEventListener(t,e,!1)}),Yo||qs._mlm||(qs._mlm=!0,t.addEventListener("mousemove",$s,!0),t.addEventListener("mouseup",js,!0))},Us=function(t,i){Ds.forEach(function(e){t.removeEventListener(e,i,!1)})},Ws=function(t){return t.touches?{timeStamp:t.timeStamp,x:t.cx,y:t.cy}:{timeStamp:t.timeStamp,x:t.clientX,y:t.clientY}};pi.prototype={_install:function(){this.__mlction||(this.__mlction=function(t){this._mlction(t)}.bind(this),Hs(this._lq,this.__mlction))},_uninstall:function(){this.__mlction&&Us(this._lq,this.__mlction)},_mlction:function(t){t=this._toQEvent(t);var i=t.type;this._handleEvent(t,i)===!1&&this._onEvent(t,"on"+i)},_moancelLongPressTimer:function(){this.__longPressTimer&&(clearTimeout(this.__longPressTimer),this.__longPressTimer=null)},__kzLongPress:function(t){this.__onLongPressFunction||(this.__onLongPressFunction=function(){this._kzEvent&&(this.__moancelClick=!0,this._kzEvent.button?this._onEvent(this._kzEvent,"onlongpress2"):this._onEvent(this._kzEvent,"onlongpress"))}.bind(this)),this._moancelLongPressTimer(),this.__longPressTimer=setTimeout(this.__onLongPressFunction,zs(t))},__fixTouchEvent:function(t){for(var i,e,n=0,r=0,o=t.touches.length,s=0;o>s;){var h=t.touches[s++],a=h.clientX,l=h.clientY;if(2==s){var _=e[0]-a,u=e[1]-l;i=Math.sqrt(_*_+u*u)}e=[a,l],n+=a,r+=l}t.cx=n/o,t.cy=r/o,t.center={x:t.cx,y:t.cy,clientX:t.cx,clientY:t.cy},t.distance=i},__touchCountChange:function(t){this._dragPoints.clear(),this._9n=Ws(t)},_handleTouchEvent:function(t,i){switch(i){case"touchstart":j(t),this.__fixTouchEvent(t),this.__touchCountChange(t);var e=t.touches.length;this._kzEvent||(this._kzEvent=t,this._onstart(t),this.__moancelClick=!1,this.__kzLongPress(t)),1==e&&(this.__kzMulTouchEvent=null),e>=2&&!this.__kzMulTouchEvent&&(this.__kzMulTouchEvent={cx:t.cx,cy:t.cy,distance:t.distance});break;case"touchmove":j(t),this.__fixTouchEvent(t);var e=t.touches.length;if(e>=2&&this.__kzMulTouchEvent){var n=this.__kzMulTouchEvent.distance;t._scale=t.distance/n,t.dScale=this.__kzMulTouchEvent.prevScale?t._scale/this.__kzMulTouchEvent.prevScale:t._scale,this.__kzMulTouchEvent.prevScale=t._scale,this.__pinching||(this.__pinching=!0,this._onEvent(t,"startpinch"))}this.__dragging||(this.__dragging=!0,this._kzdrag(t)),this._ondrag(t),this.__pinching&&this._onEvent(t,"onpinch");break;case"touchend":j(t);var e=t.touches.length;e&&(this.__fixTouchEvent(t),this.__touchCountChange(t)),1>=e&&(this.__pinching&&(this.__pinching=!1,this._onEvent(t,"endpinch")),this.__kzMulTouchEvent=null),0==e&&(this.__dragging?(this._enddrag(t),this.__dragging=!1):t.timeStamp-this._kzEvent.timeStamp<.8*Gs(t)&&this.__onclick(this._kzEvent),this._onrelease(t));break;case"touchcancel":this.__dragging=!1,this.__pinching=!1,this.__kzMulTouchEvent=null}return!1},_handleEvent:function(t,i){if(Bs(t))return this._handleTouchEvent(t,i);if("mousedown"==i)j(t),Ys(this),this._9n=Ws(t),this._kzEvent||(this._kzEvent=t,this._onstart(t)),this.__moancelClick=!1,this.__kzLongPress(t);else if("mouseup"==i)Ys(),this._onrelease(t);else if("click"==i){if(this._delayClickEvent)return this.__onclick(t),!0}else if("dblclick"==i){if(this._delayClickEvent)return!0}else{if("contextmenu"==i)return this._onEvent(t,"oncontextmenu"),this._kzEvent&&Fs(t)&&Ys(this),!0;if(i==ks){var n=t.wheelDelta;if(n!==e?!Go&&n%120?n%12||(n/=12):n/=120:n===e&&(n=-t.detail),!n)return;return t.delta=n,this._onEvent(t,"onmousewheel")}}return!1},_onEvent:function(t,i){if(this._handler){var e=this._handler;return i=i||t.type,e instanceof Function?e(t,i):e[i]instanceof Function?e[i].call(e,t,this._scope||this._lq):void 0}},_toQEvent:function(t){return t},_onWindowMouseUp:function(t){this.__dragging&&(j(t),this.__dragging=!1,t=this._toQEvent(t),this._enddrag(t),this._onrelease(t),this._onEvent(t,"onmouseup"))},_kzDragDistance:4,_onWindowMouseMove:function(t){if(this._kzEvent){if(j(t),!this.__dragging){var i=this._kzEvent.screenX-t.screenX,e=this._kzEvent.screenY-t.screenY;if(i*i+e*e<this._kzDragDistance)return;this.__dragging=!0,this._kzdrag(t)}this._ondrag(this._toQEvent(t))}},_delayClickEvent:!0,__onclick:function(t){if(!this.__moancelClick){var i=Gs(t);this.__molickTimer?this.__dblclicked||(clearTimeout(this.__molickTimer),this.__molickTimer=null,this._onEvent(t,"ondblclick"),this.__dblclicked=!0):(this.__dblclicked=!1,this.__molickTimer=setTimeout(function(t){this.__molickTimer=null,this.__dblclicked||this._onEvent(t,"onclick")}.bind(this,t,i),i))}},_onstart:function(t){t.button?this._onEvent(t,"onstart2"):this._onEvent(t,"onstart")},_onrelease:function(t){this._kzEvent&&(this._moancelLongPressTimer(),t.button?this._onEvent(t,"onrelease2"):this._onEvent(t,"onrelease"),this._kzEvent=null,this._9n=null)},_mlppendDragInfo:function(t){var i=this._9n;this._9n=Ws(t),this._dragPoints.add(i,this._9n,t)},_kzdrag:function(){this.__moancelClick=!0,this._moancelLongPressTimer(),this._kzEvent.button?this._onEvent(this._kzEvent,"startdrag2"):this._onEvent(this._kzEvent,"startdrag")},_ondrag:function(t){this._mlppendDragInfo(t),this._kzEvent.button?this._onEvent(t,"ondrag2"):this._onEvent(t,"ondrag")},_enddrag:function(t){if(t.timeStamp-this._9n.timeStamp<100){var i=this._dragPoints.getCurrentSpeed();i&&(t.vx=i.x,t.vy=i.y)}this._kzEvent.button?this._onEvent(t,"enddrag2"):this._onEvent(t,"enddrag"),this._dragPoints.clear()},_ic:function(){this._kxStatus()},_kxStatus:function(){qs._mourrentItem==this&&delete qs._mourrentItem,this._moancelLongPressTimer(),delete this._9n,this._kzEvent&&(delete this._kzEvent.getData,delete this._kzEvent.getUI,delete this._kzEvent)}};var qs=S(function(t){this._km=t,pi.apply(this,[t.canvasPanel,null,t])},{"super":pi,_m5Data:function(t){return this._km.getElementByMouseEvent(t)},_ld:function(t){return this._km.getUIByMouseEvent(t)},_toQEvent:function(i){return(i instanceof MouseEvent||t.TouchEvent&&i instanceof t.TouchEvent)&&(i.getData=this._m5Data.bind(this,i),i.getUI=this._ld.bind(this,i)),i},_onElementRemoved:function(t){this._j2Listeners(function(i){i.onElementRemoved instanceof Function&&i.onElementRemoved(t,this._km)})},_onElementClear:function(){this._j2Listeners(function(t){t.onClear instanceof Function&&t.onClear(this._km)})},_ic:function(t){this._1ts&&this._icInteractions(this._1ts,t),this._moustomInteractionListeners&&this._icInteractions(this._moustomInteractionListeners,t),this._kxStatus()
},_km:null,_1ts:null,_moustomInteractionListeners:null,_m9Interaction:function(t){return this._1ts==t?!1:(this._1ts&&this._1ts.length&&this._icInteractions(this._1ts),void(this._1ts=t))},_mdCustomInteractionListener:function(t){this._moustomInteractionListeners||(this._moustomInteractionListeners=[]),this._moustomInteractionListeners.push(t)},_kdCustomInteractionListener:function(t){this._moustomInteractionListeners&&0!=this._moustomInteractionListeners.length&&p(this._moustomInteractionListeners,t)},_onEvent:function(t,i,e){this._km[i]instanceof Function&&this._km[i].call(this._km,t,e),this._1ts&&this.__onEvent(t,i,this._1ts,e),this._moustomInteractionListeners&&this.__onEvent(t,i,this._moustomInteractionListeners,e)},_j2Listeners:function(t){this._1ts&&f(this._1ts,t,this),this._moustomInteractionListeners&&f(this._moustomInteractionListeners,t,this)},__onEvent:function(t,i,e,n){if(!z(e))return void this.__handleEvent(t,i,e,n);for(var r=0;r<e.length;r++){var o=e[r];this.__handleEvent(t,i,o,n)}},__handleEvent:function(t,i,e,n){if(!(e.accept instanceof Function&&e.accept(i,t,this._km,n)===!1)){e.onevent instanceof Function&&e.onevent(i,t,this._km,n);var r=e[i];r instanceof Function&&r.call(e,t,this._km,n)}},_icInteraction:function(t){t.destroy instanceof Function&&t.destroy.call(t,this._km)},_icInteractions:function(t,i){if(!z(t))return void this._icInteraction(t,i);for(var e=0;e<t.length;e++){var n=t[e];n&&this._icInteraction(n,i)}}})}Ti.prototype={limitCount:10,points:null,add:function(t,i,e){0==this.points.length&&(this._kzX=t.x,this._kzY=t.y);var n=i.timeStamp-t.timeStamp||1;e.interval=n;var r=i.x-t.x,o=i.y-t.y;e.dx=r,e.dy=o,e.startX=this._kzX,e.startY=this._kzY,e.totalDeltaX=i.x-this._kzX,e.totalDeltaY=i.y-this._kzY,this.points.splice(0,0,{interval:n,dx:r,dy:o}),this.points.length>this.limitCount&&this.points.pop()},getCurrentSpeed:function(){if(!this.points.length)return null;for(var t=0,i=0,e=0,n=0,r=this.points.length;r>n;n++){var o=this.points[n],s=o.interval;if(s>150){t=0;break}if(t+=s,i+=o.dx,e+=o.dy,t>300)break}return 0==t||0==i&&0==e?null:{x:i/t,y:e/t}},clear:function(){this.points=[]}};var Xs,Vs,Ks,Zs;No?(Xs="-webkit-zoom-in",Vs="-webkit-zoom-out",Ks="-webkit-grab",Zs="-webkit-grabbing"):Mo?(Xs="-moz-zoom-in",Vs="-moz-zoom-out",Ks="-moz-grab",Zs="-moz-grabbing"):(Xs="crosshair",Vs="crosshair",Ks="default",Zs="move");var Js="url(data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFVJREFUeNpi/P//PwMlgBGfAYyMIOn/jGQZANIMoskyAKYZGeAyiGgX4PIOSWGAzRBGUmMBw1CqGUBMlA1yA4gxhKhYwBnfpKQDqqREquRGYgBAgAEAD8h/4adTIzwAAAAASUVORK5CYII=) 8 8,crosshair",Qs=Math.PI,th=Math.pow,ih=Math.sin,eh=1.70158,nh={swing:function(t){return-Math.cos(t*Qs)/2+.5},easeNone:function(t){return t},easeIn:function(t){return t*t},easeOut:function(t){return(2-t)*t},easeBoth:function(t){return(t*=2)<1?.5*t*t:.5*(1- --t*(t-2))},easeInStrong:function(t){return t*t*t*t},easeOutStrong:function(t){return 1- --t*t*t*t},easeBothStrong:function(t){return(t*=2)<1?.5*t*t*t*t:.5*(2-(t-=2)*t*t*t)},elasticIn:function(t){var i=.3,e=i/4;return 0===t||1===t?t:-(th(2,10*(t-=1))*ih(2*(t-e)*Qs/i))},elasticOut:function(t){var i=.3,e=i/4;return 0===t||1===t?t:th(2,-10*t)*ih(2*(t-e)*Qs/i)+1},elasticBoth:function(t){var i=.45,e=i/4;return 0===t||2===(t*=2)?t:1>t?-.5*th(2,10*(t-=1))*ih(2*(t-e)*Qs/i):th(2,-10*(t-=1))*ih(2*(t-e)*Qs/i)*.5+1},backIn:function(t){return 1===t&&(t-=.001),t*t*((eh+1)*t-eh)},backOut:function(t){return(t-=1)*t*((eh+1)*t+eh)+1},backBoth:function(t){return(t*=2)<1?.5*t*t*(((eh*=1.525)+1)*t-eh):.5*((t-=2)*t*(((eh*=1.525)+1)*t+eh)+2)},bounceIn:function(t){return 1-nh.bounceOut(1-t)},bounceOut:function(t){var i,e=7.5625;return i=1/2.75>t?e*t*t:2/2.75>t?e*(t-=1.5/2.75)*t+.75:2.5/2.75>t?e*(t-=2.25/2.75)*t+.9375:e*(t-=2.625/2.75)*t+.984375},bounceBoth:function(t){return.5>t?.5*nh.bounceIn(2*t):.5*nh.bounceOut(2*t-1)+.5}},rh=function(t){this._j9=t};rh.prototype={_j9:null,_8z:function(){this._moallback instanceof Function&&(this._moallback(),this._moallback=null)},_kz:function(t){var i=Date.now();this._lp(),this._moallback=t,this._requestID=requestAnimationFrame(function e(){var t=Date.now(),n=t-i;return!n||this._j9&&this._j9(n)!==!1?(i=t,void(this._requestID=requestAnimationFrame(e.bind(this)))):void this._lp()}.bind(this))},_79:function(){},_lp:function(){return this._requestID?(this._79(),this._8z(),t.cancelAnimationFrame(this._requestID),void delete this._requestID):!1},_em:function(){return null!=this._requestID}};var oh=function(t,i,e,n){this._onStep=t,this._scope=i||this,this._3m=n,e&&e>0&&(this._i1=e)};oh.prototype={_i1:1e3,_3m:null,_er:0,_lp:function(){return this._er=0,this._mon=0,A(this,oh,"_lp")},_mon:0,_j9:function(t){if(this._er+=t,this._er>=this._i1)return this._onStep.call(this._scope,1,(1-this._mon)*this._i1,t,this._i1),!1;var i=this._er/this._i1;return this._3m&&(i=this._3m(i)),this._onStep.call(this._scope,i,(i-this._mon)*this._i1,t,this._i1)===!1?!1:void(this._mon=i)}},w(oh,rh);var sh=function(t){ei(t)},hh={version:"0.0",extend:w,doSuperConstructor:O,doSuper:A,createFunction:function(t,i){return i.bind(t)},setClass:P,appendClass:N,removeClass:M,forEach:f,forEachReverse:g,isNumber:k,isString:B,isBoolean:G,isArray:z,eventPreventDefault:F,eventStopPropagation:$,stopEvent:j,callLater:R,nextFrame:D,forEachChild:n,forEachByDepthFirst:o,forEachByDepthFirstReverse:a,forEachByBreadthFirst:u,randomInt:Y,randomBool:H,randomColor:W,addEventListener:Cs,getFirstElementChildByTagName:Vo};hh.isTouchSupport=Yo,hh.isIOS=Fo,hh.intersectsPoint=si,hh.containsRect=hi,hh.Rect=ts,hh.Size=Qo,hh.Point=Ko,hh.Insets=is,hh.Event=us,hh.PropertyChangeEvent=cs,hh.ListEvent=Ts,hh.Handler=Es,hh.Dispatcher=ms,hh.Position=es,hh.Data=ws,hh.SelectionModel=bs,hh.DataModel=As,hh.IListener=ys,hh.loadURL=Ai,hh.loadXML=wi,hh.loadJSON=Oi,hh.isMetaKey=yi,hh.calculateDistance=Zo,hh.HashList=qo,hh.DragSupport=pi,hh.alert=function(t){alert(t)},hh.prompt=function(t,i,e,n){var r=prompt(t,i);return r!=i&&e?e.call(n,r):r},hh.confirm=function(t,i,e){var n=confirm(t);return n&&i?i.call(e):n},hh.addCSSRule=Ei;var ah={IMAGE_ADJUST_FLIP:"flip",IMAGE_ADJUST_MIRROR:"mirror",SELECTION_TYPE_BORDER_RECT:"border.rect",SELECTION_TYPE_BORDER:"border",SELECTION_TYPE_SHADOW:"shadow",NS_SVG:"http://www.w3.org/2000/svg",PROPERTY_TYPE_ACCESSOR:0,PROPERTY_TYPE_STYLE:1,PROPERTY_TYPE_CLIENT:2,EDGE_TYPE_DEFAULT:null,EDGE_TYPE_ELBOW:"elbow",EDGE_TYPE_ELBOW_HORIZONTAL:"elbow.H",EDGE_TYPE_ELBOW_VERTICAL:"elbow.V",EDGE_TYPE_ORTHOGONAL:"orthogonal",EDGE_TYPE_ORTHOGONAL_HORIZONTAL:"orthogonal.H",EDGE_TYPE_ORTHOGONAL_VERTICAL:"orthogonal.V",EDGE_TYPE_HORIZONTAL_VERTICAL:"orthogonal.H.V",EDGE_TYPE_VERTICAL_HORIZONTAL:"orthogonal.V.H",EDGE_TYPE_EXTEND_TOP:"extend.top",EDGE_TYPE_EXTEND_LEFT:"extend.left",EDGE_TYPE_EXTEND_BOTTOM:"extend.bottom",EDGE_TYPE_EXTEND_RIGHT:"extend.right",EDGE_TYPE_ZIGZAG:"zigzag",EDGE_CORNER_NONE:"none",EDGE_CORNER_ROUND:"round",EDGE_CORNER_BEVEL:"bevel",GROUP_TYPE_RECT:"rect",GROUP_TYPE_CIRCLE:"circle",GROUP_TYPE_ELLIPSE:"ELLIPSE",SHAPE_CIRCLE:"oval",SHAPE_RECT:"rect",SHAPE_ROUNDRECT:"roundrect",SHAPE_STAR:"star",SHAPE_TRIANGLE:"triangle",SHAPE_HEXAGON:"hexagon",SHAPE_PENTAGON:"pentagon",SHAPE_TRAPEZIUM:"trapezium",SHAPE_RHOMBUS:"rhombus",SHAPE_PARALLELOGRAM:"parallelogram",SHAPE_HEART:"heart",SHAPE_DIAMOND:"diamond",SHAPE_CROSS:"cross",SHAPE_ARROW_STANDARD:"arrow.standard",SHAPE_ARROW_1:"arrow.1",SHAPE_ARROW_2:"arrow.2",SHAPE_ARROW_3:"arrow.3",SHAPE_ARROW_4:"arrow.4",SHAPE_ARROW_5:"arrow.5",SHAPE_ARROW_6:"arrow.6",SHAPE_ARROW_7:"arrow.7",SHAPE_ARROW_8:"arrow.8",SHAPE_ARROW_OPEN:"arrow.open"};ah.LINE_CAP_TYPE_BUTT="butt",ah.LINE_CAP_TYPE_ROUND="round",ah.LINE_CAP_TYPE_SQUARE="square",ah.LINE_JOIN_TYPE_BEVEL="bevel",ah.LINE_JOIN_TYPE_ROUND="round",ah.LINE_JOIN_TYPE_MITER="miter",Wo.SELECTION_TYPE=ah.SELECTION_TYPE_SHADOW,Wo.SELECTION_TOLERANCE=Ms?8:3,Wo.SELECTION_BORDER=2,Wo.SELECTION_SHADOW_BLUR=7,Wo.SELECTION_COLOR=V(3422561023),Wo.SELECTION_TYPE=ah.SELECTION_TYPE_SHADOW,Wo.BORDER_RADIUS=10,Wo.POINTER_WIDTH=10,Wo.ARROW_SIZE=10,Wo.IMAGE_MAX_SIZE=200,Wo.LINE_HEIGHT=1.2;var lh=t.devicePixelRatio||1;1>lh&&(lh=1);var _h;hh.createCanvas=Di;var uh=Bo&&!Yo,ch=9,dh=function(t,i,e,n){var r=t-e,o=i-n;return r*r+o*o};Qi.prototype={equals:function(t){return this.cx==t.cx&&this.cy==t.cy&&this.r==t.r}},Qi._moreateCircle=function(t,i,e){if(!e)return Zi(t,i);var n=dh(t.x,t.y,i.x,i.y),r=dh(t.x,t.y,e.x,e.y),o=dh(e.x,e.y,i.x,i.y);if(n+fh>=r+o)return Zi(t,i,0,e);if(r+fh>=n+o)return Zi(t,e,0,i);if(o+fh>=n+r)return Zi(i,e,0,t);var s;Math.abs(e.y-i.y)<1e-4&&(s=t,t=i,i=s),s=e.x*(t.y-i.y)+t.x*(i.y-e.y)+i.x*(-t.y+e.y);var h=(e.x*e.x*(t.y-i.y)+(t.x*t.x+(t.y-i.y)*(t.y-e.y))*(i.y-e.y)+i.x*i.x*(-t.y+e.y))/(2*s),a=(i.y+e.y)/2-(e.x-i.x)/(e.y-i.y)*(h-(i.x+e.x)/2);return new Qi(h,a,Zo(h,a,t.x,t.y),t,i,e)};var fh=.01,vh={_mn1:function(t,i,n,r,o){if(B(t)&&(t=es.fromString(t)),!t)return{x:0,y:0};var s=0,h=0,a=i._ja;if(n=n||0,t.x===e){var l=t.horizontalPosition,_=t.verticalPosition,u=!0;switch(l){case os:u=!1;break;case rs:s+=a/2}switch(_){case ss:h-=n/2;break;case as:h+=n/2}}else s=t.x,h=t.y,Math.abs(s)>0&&Math.abs(s)<1&&(s*=a);o&&null!=r&&(h+=r.y,s+=Math.abs(r.x)<1?r.x*a:r.x);var c=he.call(i,s,h,u);return c?(o||null==r||c.offset(r),c):{x:0,y:0}},_lh:function(t,i){var e=i.type,n=i.points;switch(e){case $h:t.arcTo(n[0],n[1],n[2],n[3],i._r);break;case Bh:t.moveTo(n[0],n[1]);break;case Gh:t.lineTo(n[0],n[1]);break;case zh:t.quadraticCurveTo(n[0],n[1],n[2],n[3]);break;case Fh:t.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);break;case jh:t.closePath()}},_60:function(t,i,e,n){var r=i.type;if(r!=Bh&&r!=jh){var o=e.lastPoint,s=i.points;switch(e.type==Bh&&t.add(o.x,o.y),r){case $h:_e(i,o.x,o.y,s[0],s[1],s[2],s[3],s[4]),t.add(s[0],s[1]),t.add(i._p1x,i._p1y),t.add(i._p2x,i._p2y),i.$boundaryPoint1&&t.add(i.$boundaryPoint1.x,i.$boundaryPoint1.y),i.$boundaryPoint2&&t.add(i.$boundaryPoint2.x,i.$boundaryPoint2.y);break;case Gh:t.add(s[0],s[1]);break;case zh:ji([o.x,o.y].concat(s),t);break;case Fh:qi([o.x,o.y].concat(s),t);break;case jh:n&&t.add(n.points[0],n.points[1])}}},_5z:function(t,i,e){var n=t.type;if(n==Bh)return 0;var r=i.lastPoint,o=t.points;switch(n==Fh&&4==o.length&&(n=zh),n){case Gh:return Zo(o[0],o[1],r.x,r.y);case $h:return t._ja;case zh:var s=Hi([r.x,r.y].concat(o));return t._lf=s,s(1);case Fh:var s=Vi([r.x,r.y].concat(o));return t._lf=s,s(1)||Xi([r.x,r.y].concat(o));case jh:if(r&&e)return t.points=e.points,Zo(e.points[0],e.points[1],r.x,r.y)}return 0}},gh=/^data:image\/(\w+);base64,/i,Eh=/^gif/i,mh=/^svg/i,ph=10,yh=11,Th=12,wh=20,Oh=30;Wo.IMAGE_WIDTH=50,Wo.IMAGE_HEIGHT=30,Wo.MAX_CACHE_PIXELS=1e6;var Ah=1,bh=2,Lh=3;ve.prototype={_jq:0,_6i:!0,_l3:null,_jb:null,_lf:null,_lr:null,_mn3:e,_9j:e,_6y:function(){return this._jq==Ah},getBounds:function(t){return this._lr==Oh?this._lf.getBounds(t):(this._6i&&this._fp(),this)},validate:function(){this._6i&&this._fp()},_fp:function(){if(this._6i=!1,this._lr==Oh)return this._lf.validate(),void this.setByRect(this._lf.bounds);if(this._lr==wh)return void this._92();if(this._jq!=Ah)try{this._ey()}catch(t){this._jq=Lh,hh.error(t)}},_5p:function(){this._dr(),this._dispatcher.clear(),delete this._dispatcher},_i4:function(t){this._l3&&this._l3.parentNode&&this._l3.parentNode.removeChild(this._l3),this._jq=Lh,hh.error("Image load error - "+this._lf),this._pixels=null,this._jb=null,this._l3=null,t!==!1&&this._5p()},_ey:function(){var t=this._lf;if(this._jq=Ah,this._dispatcher=new ms,this._lr==Th){for(var e in Jh)this[e]=Jh[e];return void qe(this._lf,this,this._mov,this._i4,this._f9)}this._l3||(this._l3=i.createElement("img"),Ro&&(this._l3.style.visibility="hidden",i.body.appendChild(this._l3))),this._l3.src=t,this._l3.width&&(this.width=this._l3.width,this.height=this._l3.height),this._l3.onload=Ro?function(t){setTimeout(this._8r.bind(this,t),100)}.bind(this):this._8r.bind(this),this._l3.onerror=this._i4.bind(this)},_8r:function(){this._jq=bh;var t=this._l3.width,i=this._l3.height;if(this._l3.parentNode&&this._l3.parentNode.removeChild(this._l3),!t||!i)return void this._i4();this.width=t,this.height=i;var e=this._ez();e.width=t,e.height=i,e.g.drawImage(this._l3,0,0,t,i),this._pixels=Ro&&this._lr==yh?null:we(e),this._5p()},_92:function(){var t=this._lf;if(!(t.draw instanceof Function))return void this._i4(!1);if(t.cacheable===!1&&t.width&&t.height)return this.width=t.width,void(this.height=t.height);var i=t.width||Wo.IMAGE_MAX_SIZE,e=t.height||Wo.IMAGE_MAX_SIZE,n=this._ez();n.width=i,n.height=e;var r=n.g;t.draw(r);var o=Bi(r,0,0,i,e);if(o){var s=Ae(o.data,i,e);this.x=s._x,this.y=s._y,this.width=s._width,this.height=s._height,n.width=this.width,n.height=this.height,r.putImageData(o,-this.x,-this.y),this._pixels=s}},_ez:function(){return this._jb||(this._jb=Di())},_70:function(t,i,e,n,r,o){i.save(),i.rect(0,0,n,r),i.fillStyle=o||"#CCC",i.fill(),i.clip(),i.textAlign="center",i.textBaseline="middle",i.fillStyle="#888";var s=6*(i.canvas.ratio||1);i.font="normal "+s+"px Verdana,helvetica,arial,sans-serif",i.strokeStyle="#FFF",i.lineWidth=1,i.strokeText(t,n/2+.5,r/2+.5),i.strokeStyle="#000",i.strokeText(t,n/2-.5,r/2-.5),i.fillText(t,n/2,r/2),i.restore()},draw:function(t,i,e,n,r,o){if(this.width&&this.height){i=i||1,n=n||1,r=r||1;var s=this.width*n,h=this.height*r;if(o&&e.shadowColor&&(t.shadowColor=e.shadowColor,t.shadowBlur=(e.shadowBlur||0)*i,t.shadowOffsetX=(e.shadowOffsetX||0)*i,t.shadowOffsetY=(e.shadowOffsetY||0)*i),this._jq==Ah)return this._70("Loading...",t,i,s,h,e.renderColor);if(this._jq==Lh)return this._70("Error...",t,i,s,h,e.renderColor);if(this._lr==Oh)return t.scale(n,r),void this._lf.draw(t,i,e);var a=this._ft(i,n,r);return a?((this.x||this.y)&&t.translate(this.x*n,this.y*r),t.scale(n/a.scale,r/a.scale),void a._lh(t,e.renderColor,e.renderColorBlendMode)):void this._jj(t,i,n,r,this.width*n,this.height*r,e)}},_jj:function(t,i,e,n,r,o,s){if(this._lr==wh)return 1!=e&&1!=n&&t.scale(e,n),void this._lf.draw(t,s);if(this._l3){if(!ko)return void t.drawImage(this._l3,0,0,r,o);var e=i*r/this.width,n=i*o/this.height;t.scale(1/e,1/n),t.drawImage(this._l3,0,0,r*e,o*n)}},_jd:null,_ft:function(t,i,e){if(this._lr==wh&&this._lf.cacheable===!1)return null;if(this._lr==ph||(t*=Math.max(i,e))<=1)return this._defaultCache||(this._defaultCache=this._fs(this._jb||this._l3,1)),this._defaultCache;var n=this._jd.maxScale||0;if(t=Math.ceil(t),n>=t){for(var r=t,o=this._jd[r];!o&&++r<=n;)o=this._jd[r];if(o)return o}t%2&&t++;var s=this.width*t,h=this.height*t;if(s*h>Wo.MAX_CACHE_PIXELS)return null;var a=Di(s,h);return(this.x||this.y)&&a.g.translate(-this.x*t,-this.y*t),this._jj(a.g,1,t,t,s,h),this._fs(a,t)},_fs:function(t,i){var e=new Wh(t,i);return this._jd[i]=e,this._jd.maxScale=i,e},hitTest:function(t,i,e){if(this._lr==Oh)return this._lf.hitTest.apply(this._lf,arguments);if(!(this._pixels||this._l3&&this._l3._pixels))return!0;var n=this._pixels||this._l3._pixels;return n._ig(t,i,e)},_dr:function(){this._dispatcher&&this._dispatcher.onEvent(new us(this,"image","load",this._l3))},_mn6:function(t,i){this._dispatcher&&this._dispatcher.addListener(t,i)},_6d:function(t,i){this._dispatcher&&this._dispatcher.removeListener(t,i)},_moc:function(t){this._jd={},(t||this.width*this.height>1e5)&&(this._l3=null,this._jb=null)}},w(ve,ts);var xh={};hh.drawImage=ye,hh.registerImage=ge,hh.hasImage=me,hh.getAllImages=function(){var t=[];for(var i in xh)t.push(i);return t};var Sh=function(t,i,e,n,r,o){this.type=t,this.colors=i,this.positions=e,this.angle=n||0,this.tx=r||0,this.ty=o||0};ah.GRADIENT_TYPE_RADIAL="r",ah.GRADIENT_TYPE_LINEAR="l",Sh.prototype={type:null,colors:null,positions:null,angle:null,tx:0,ty:0,position:es.CENTER_MIDDLE,isEmpty:function(){return null==this.colors||0==this.colors.length},_7g:function(){var t=this.colors.length;if(1==t)return[0];for(var i=[],e=1/(t-1),n=0;t>n;n++)i.push(e*n);return this.positions||(this.positions=i),i},generatorGradient:function(t){if(null==this.colors||0==this.colors.length)return null;var i,e=Pi();if(this.type==ah.GRADIENT_TYPE_LINEAR){var n=this.angle;n>Math.PI&&(n-=Math.PI);var r;if(n<=Math.PI/2){var o=Math.atan2(t.height,t.width),s=Math.sqrt(t.width*t.width+t.height*t.height),h=o-n;r=Math.cos(h)*s}else{var o=Math.atan2(t.width,t.height),s=Math.sqrt(t.width*t.width+t.height*t.height),h=o-(n-Math.PI/2);r=Math.cos(h)*s}var a=r/2,l=a*Math.cos(n),_=a*Math.sin(n),u=t.x+t.width/2-l,c=t.y+t.height/2-_,d=t.x+t.width/2+l,f=t.y+t.height/2+_;i=e.createLinearGradient(u,c,d,f)}else{if(!(this.type=ah.GRADIENT_TYPE_RADIAL))return null;var v=li(this.position,t.width,t.height);v.x+=t.x,v.y+=t.y,this.tx&&(v.x+=Math.abs(this.tx)<1?t.width*this.tx:this.tx),this.ty&&(v.y+=Math.abs(this.ty)<1?t.height*this.ty:this.ty);var g=Zo(v.x,v.y,t.x,t.y);g=Math.max(g,Zo(v.x,v.y,t.x,t.y+t.height)),g=Math.max(g,Zo(v.x,v.y,t.x+t.width,t.y+t.height)),g=Math.max(g,Zo(v.x,v.y,t.x+t.width,t.y)),i=e.createRadialGradient(v.x,v.y,0,v.x,v.y,g)}var E=this.colors,m=this.positions;m&&m.length==E.length||(m=this._7g());for(var p=0,y=E.length;y>p;p++)i.addColorStop(m[p],E[p]);return i}};var Ih=new Sh(ah.GRADIENT_TYPE_LINEAR,[V(2332033023),V(1154272460),V(1154272460),V(1442840575)],[.1,.3,.7,.9],Math.PI/2),Ch=new Sh(ah.GRADIENT_TYPE_LINEAR,[V(2332033023),V(1154272460),V(1154272460),V(1442840575)],[.1,.3,.7,.9],0),Rh=(new Sh(ah.GRADIENT_TYPE_LINEAR,[V(1154272460),V(1442840575)],[.1,.9],0),new Sh(ah.GRADIENT_TYPE_RADIAL,[V(2298478591),V(1156509422),V(1720223880),V(1147561574)],[.1,.3,.7,.9],0,-.3,-.3)),Dh=[V(0),V(4294901760),V(4294967040),V(4278255360),V(4278250239),V(4278190992),V(4294901958),V(0)],Ph=[0,.12,.28,.45,.6,.75,.8,1],Nh=new Sh(ah.GRADIENT_TYPE_LINEAR,Dh,Ph),Mh=new Sh(ah.GRADIENT_TYPE_LINEAR,Dh,Ph,Math.PI/2),kh=new Sh(ah.GRADIENT_TYPE_RADIAL,Dh,Ph);Sh.LINEAR_GRADIENT_VERTICAL=Ih,Sh.LINEAR_GRADIENT_HORIZONTAL=Ch,Sh.RADIAL_GRADIENT=Rh,Sh.RAINBOW_LINEAR_GRADIENT=Nh,Sh.RAINBOW_LINEAR_GRADIENT_VERTICAL=Mh,Sh.RAINBOW_RADIAL_GRADIENT=kh;var Bh="m",Gh="l",zh="q",Fh="c",$h="a",jh="z";ah.SEGMENT_MOVE_TO=Bh,ah.SEGMENT_LINE_TO=Gh,ah.SEGMENT_QUAD_TO=zh,ah.SEGMENT_CURVE_TO=Fh,ah.SEGMENT_ARC_TO=$h,ah.SEGMENT_CLOSE=jh;var Yh=function(t,i){this.id=++So,z(t)?this.points=t:(this.type=t,this.points=i)};Yh.prototype={toJSON:function(){var t={type:this.type,points:this.points};return this.invalidTerminal&&(t.invalidTerminal=!0),t},parseJSON:function(t){this.type=t.type,this.points=t.points,this.invalidTerminal=t.invalidTerminal},points:null,type:Gh,clone:function(){return new Yh(this.type,this.points?E(this.points):null)},move:function(t,i){if(this.points)for(var e=0,n=this.points.length;n>e;e++){var r=this.points[e];hh.isNumber(r)&&(this.points[e]+=e%2==0?t:i)}}},Z(Yh.prototype,{lastPoint:{get:function(){return this.type==$h?{x:this._p2x,y:this._p2y}:{x:this.points[this.points.length-2],y:this.points[this.points.length-1]}}},firstPoint:{get:function(){return{x:this.points[0],y:this.points[1]}}}}),hh.PathSegment=Yh;var Hh=0,Uh=function(t){this.bounds=new ts,this._gz=t||[]};Uh.prototype={toJSON:function(){var t=[];return this._gz.forEach(function(i){t.push(i.toJSON())}),t},parseJSON:function(t){var i=this._gz;t.forEach(function(t){i.push(new Yh(t.type,t.points))})},clear:function(){this._gz.length=0,this.bounds.clear(),this._ja=0,this._6i=!0},_eb:!0,_6w:function(t,i){this._eb&&0===this._gz.length&&t!=Bh&&this._gz.push(new Yh(Bh,[0,0])),this._gz.push(new Yh(t,i)),this._6i=!0},add:function(t){this._gz.push(t),this._6i=!0},removePathSegment:function(t){return t>=this._gz.length?!1:(this._gz.splice(t,1),void(this._6i=!0))},moveTo:function(t,i){this._6w(Bh,[t,i])},lineTo:function(t,i){this._6w(Gh,[t,i])},quadTo:function(t,i,e,n){this._6w(zh,[t,i,e,n])},curveTo:function(t,i,e,n,r,o){this._6w(Fh,[t,i,e,n,r,o])},arcTo:function(t,i,e,n,r){this._6w($h,[t,i,e,n,r])},closePath:function(){this._6w(jh)},_7t:function(t,i,e,n,r){if(n.selectionColor){if(e==ah.SELECTION_TYPE_SHADOW){if(!n.selectionShadowBlur)return;return t.shadowColor=n.selectionColor,t.shadowBlur=n.selectionShadowBlur*i,t.shadowOffsetX=(n.selectionShadowOffsetX||0)*i,void(t.shadowOffsetY=(n.selectionShadowOffsetY||0)*i)}if(e==ah.SELECTION_TYPE_BORDER){if(!n.selectionBorder)return;t.strokeStyle=n.selectionColor,t.lineWidth=n.selectionBorder+(r.lineWidth||0),this._lh(t),t.stroke()}}},_6i:!0,_gz:null,_ja:0,lineCap:"butt",lineJoin:"round",draw:function(t,i,e,n,r){t.lineCap=e.lineCap||this.lineCap,t.lineJoin=e.lineJoin||this.lineJoin,n&&(r||(r=e),this._7t(t,i,r.selectionType,r,e)),e.outlineStyle&&(this._lh(t),t.lineWidth=e.lineWidth+2*(e.outline||0),t.strokeStyle=e.outlineStyle,t.stroke()),t.lineWidth=0,this._lh(t),e.fillColor&&(t.fillStyle=e.renderColor||e.fillColor,t.fill()),e.fillGradient&&(t.fillStyle=e._fillGradient||e.fillGradient,t.fill()),e.lineWidth&&(t.lineWidth=e.lineWidth,e.lineDash&&(t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset),t.strokeStyle=e.renderColor||e.strokeStyle,t.stroke(),t.lineDash=[])},_lh:function(t){t.beginPath();for(var i,e,n=0,r=this._gz.length;r>n;n++)i=this._gz[n],vh._lh(t,i,e),e=i},invalidate:function(){this._6i=!0},validate:function(){if(this._6i=!1,this.bounds.clear(),this._ja=0,0!=this._gz.length)for(var t,i,e=this._gz,n=1,r=e[0],o=r,s=e.length;s>n;n++)t=e[n],t.type==Bh?o=t:(vh._60(this.bounds,t,r,o),i=vh._5z(t,r,o),t._ja=i,this._ja+=i),r=t},getBounds:function(t,i){if(this._6i&&this.validate(),i=i||new ts,t){var e=t/2;i.set(this.bounds.x-e,this.bounds.y-e,this.bounds.width+t,this.bounds.height+t)}else i.set(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height);return i},hitTest:function(t,i,e,n,r,o){return se.call(this,t,i,e,n,r,o)},toSegments:function(){return[].concat(this._gz)},generator:function(t,i,e,n,r){return oe.call(this,t,i,e,n,r)},getLocation:function(t,i){return he.call(this,t,i||0)}},Z(Uh.prototype,{segments:{get:function(){return this._gz},set:function(t){this.clear(),this._gz=t}},length:{get:function(){return this._6i&&this.validate(),this._ja}},_empty:{get:function(){return 0==this._gz.length}}}),Oe.prototype={_13:function(t,i){var e,n,r,o,s,h=t.length,a=0,l=0;for(s=0;h>s;s+=4)if(t[s+3]>0){e=(s+4)/i/4|0;break}for(s=h-4;s>=0;s-=4)if(t[s+3]>0){n=(s+4)/i/4|0;break}for(a=0;i>a;a++){for(l=e;n>l;l++)if(t[l*i*4+4*a+3]>0){r=a;break}if(r>=0)break}for(a=i-1;a>=0;a--){for(l=e;n>l;l++)if(t[l*i*4+4*a+3]>0){o=a;break}if(o>=0)break}this._x=r,this._y=e,this._width=o-r+1,this._height=n-e+1,this._jo=new ts(r,e,this._width,this._height),this._pixelSize=this._width*this._height,this._originalPixelsWidth=i,this._originalPixels=t},_f8:function(t,i){return this._originalPixels[4*(t+this._x+(this._y+i)*this._originalPixelsWidth)+3]},_ig:function(t,i,e){(!e||1>=e)&&(e=1),e=0|e,t=Math.round(t-this._x)-e,i=Math.round(i-this._y)-e,e+=e;for(var n=t,r=i;i+e>r;){for(var n=t;t+e>n;){if(this._f8(n,r))return!0;++n}++r}return!1}},ah.BLEND_MODE_DARKEN="darken",ah.BLEND_MODE_MULTIPLY="multiply",ah.BLEND_MODE_COLOR_BURN="color.burn",ah.BLEND_MODE_LINEAR_BURN="linear.burn",ah.BLEND_MODE_LIGHTEN="lighten",ah.BLEND_MODE_SCREEN="screen",ah.BLEND_MODE_GRAY="gray",Wo.BLEND_MODE=ah.BLEND_MODE_LINEAR_BURN;var Wh=function(t,i,e){this._jb=t,this.scale=i||1,t instanceof Image&&(e=!1),this._io=e};Wh.prototype={scale:1,_jb:null,_jd:null,_io:!0,_lh:function(t,i,e){if(!i||this._io===!1)return void t.drawImage(this._jb,0,0);this._jd||(this._jd={});var n=i+e,r=this._jd[n];if(r||(r=xe(this._jb,i,e),r||(this._io=!1),this._jd[n]=r||this._jb),r)if(Ro)try{t.drawImage(r,0,0)}catch(o){}else t.drawImage(r,0,0)}};var qh=function(t,i,e,n,r,o,s,h,a){this._lw=Re(t,i,e,n,r,o,s,h,a)},Xh={server:{draw:function(t){t.save(),t.translate(0,0),t.beginPath(),t.moveTo(0,0),t.lineTo(40,0),t.lineTo(40,40),t.lineTo(0,40),t.closePath(),t.clip(),t.translate(0,0),t.translate(0,0),t.scale(1,1),t.translate(0,0),t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,t.save(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.restore(),t.save();var i=t.createLinearGradient(6.75,3.9033,30.5914,27.7447);i.addColorStop(.0493,"#1C6B9D"),i.addColorStop(.0689,"#186493"),i.addColorStop(.0939,"#145E8B"),i.addColorStop(.129,"#115B87"),i.addColorStop(.2266,"#115A85"),i.addColorStop(.2556,"#125C89"),i.addColorStop(.2869,"#176291"),i.addColorStop(.3194,"#1D6C9F"),i.addColorStop(.3525,"#2479B0"),i.addColorStop(.3695,"#2881BB"),i.addColorStop(.5025,"#1F6FA2"),i.addColorStop(.9212,"#115A86"),i.addColorStop(1,"#004063"),t.fillStyle=i,t.beginPath(),t.moveTo(25.677,4.113),t.bezierCurveTo(25.361,2.4410000000000007,23.364,2.7940000000000005,22.14,2.7990000000000004),t.bezierCurveTo(19.261,2.813,16.381,2.8260000000000005,13.502,2.8400000000000003),t.bezierCurveTo(12.185,2.846,10.699000000000002,2.652,9.393,2.8790000000000004),t.bezierCurveTo(9.19,2.897,8.977,2.989,8.805,3.094),t.bezierCurveTo(8.084999999999999,3.5109999999999997,7.436999999999999,4.1259999999999994,6.776,4.63),t.bezierCurveTo(5.718999999999999,5.436,4.641,6.22,3.6029999999999998,7.05),t.bezierCurveTo(4.207,6.5889999999999995,21.601999999999997,36.579,21.028,37.307),t.bezierCurveTo(22.019,36.063,23.009999999999998,34.819,24.000999999999998,33.575),t.bezierCurveTo(24.587999999999997,32.84,25.589999999999996,31.995000000000005,25.593999999999998,30.983000000000004),t.bezierCurveTo(25.595999999999997,30.489000000000004,25.598,29.994000000000003,25.601,29.500000000000004),t.bezierCurveTo(25.612,26.950000000000003,25.622,24.400000000000006,25.633,21.85),t.bezierCurveTo(25.657,16.318,25.680999999999997,10.786000000000001,25.704,5.253),t.bezierCurveTo(25.706,4.885,25.749,4.478,25.677,4.113),t.bezierCurveTo(25.67,4.077,25.697,4.217,25.677,4.113),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.save(),t.fillStyle="#2e8ece",t.beginPath(),t.moveTo(19.763,6.645),t.bezierCurveTo(20.002000000000002,6.643999999999999,20.23,6.691999999999999,20.437,6.778),t.bezierCurveTo(20.644000000000002,6.864999999999999,20.830000000000002,6.991,20.985,7.146999999999999),t.bezierCurveTo(21.14,7.302999999999999,21.266,7.488999999999999,21.352999999999998,7.696999999999999),t.bezierCurveTo(21.438999999999997,7.903999999999999,21.487,8.133,21.487,8.372),t.lineTo(21.398,36.253),t.bezierCurveTo(21.397,36.489,21.349,36.713,21.262,36.917),t.bezierCurveTo(21.174,37.121,21.048000000000002,37.305,20.893,37.458),t.bezierCurveTo(20.738,37.611,20.553,37.734,20.348,37.818999999999996),t.bezierCurveTo(20.141,37.903999999999996,19.916,37.95099999999999,19.679,37.949),t.lineTo(4.675,37.877),t.bezierCurveTo(4.4399999999999995,37.876000000000005,4.216,37.827000000000005,4.012,37.741),t.bezierCurveTo(3.8089999999999997,37.653999999999996,3.6249999999999996,37.528999999999996,3.4719999999999995,37.376),t.bezierCurveTo(3.3179999999999996,37.221,3.1939999999999995,37.037,3.1079999999999997,36.833999999999996),t.bezierCurveTo(3.022,36.629999999999995,2.9739999999999998,36.406,2.9739999999999998,36.172),t.lineTo(2.924,8.431),t.bezierCurveTo(2.923,8.192,2.971,7.964,3.057,7.758),t.bezierCurveTo(3.143,7.552,3.267,7.365,3.4219999999999997,7.209),t.bezierCurveTo(3.5769999999999995,7.052999999999999,3.76,6.925,3.965,6.837),t.bezierCurveTo(4.17,6.749,4.396,6.701,4.633,6.7),t.lineTo(19.763,6.645),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.save(),t.fillStyle="#efefef",t.beginPath(),t.arc(12.208,26.543,2.208,0,6.283185307179586,!0),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#2e8ece",t.beginPath(),t.arc(12.208,26.543,1.876,0,6.283185307179586,!0),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#efefef",t.beginPath(),t.moveTo(19.377,17.247),t.bezierCurveTo(19.377,17.724,18.991999999999997,18.108999999999998,18.516,18.108999999999998),t.lineTo(5.882,18.108999999999998),t.bezierCurveTo(5.404999999999999,18.108999999999998,5.02,17.723,5.02,17.247),t.lineTo(5.02,11.144),t.bezierCurveTo(5.02,10.666,5.406,10.281,5.882,10.281),t.lineTo(18.516,10.281),t.bezierCurveTo(18.993,10.281,19.377,10.666,19.377,11.144),t.lineTo(19.377,17.247),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.save(),t.fillStyle="#2e8ece",t.beginPath(),t.moveTo(18.536,13.176),t.bezierCurveTo(18.536,13.518,18.261000000000003,13.794,17.919,13.794),t.lineTo(6.479,13.794),t.bezierCurveTo(6.1370000000000005,13.794,5.861,13.518,5.861,13.176),t.lineTo(5.861,11.84),t.bezierCurveTo(5.861,11.498,6.137,11.221,6.479,11.221),t.lineTo(17.918,11.221),t.bezierCurveTo(18.259999999999998,11.221,18.535,11.497,18.535,11.84),t.lineTo(18.535,13.176),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#2e8ece",t.beginPath(),t.moveTo(18.536,16.551),t.bezierCurveTo(18.536,16.892999999999997,18.261000000000003,17.168999999999997,17.919,17.168999999999997),t.lineTo(6.479,17.168999999999997),t.bezierCurveTo(6.1370000000000005,17.168999999999997,5.861,16.892999999999997,5.861,16.551),t.lineTo(5.861,15.215999999999998),t.bezierCurveTo(5.861,14.872999999999998,6.137,14.596999999999998,6.479,14.596999999999998),t.lineTo(17.918,14.596999999999998),t.bezierCurveTo(18.259999999999998,14.596999999999998,18.535,14.872999999999998,18.535,15.215999999999998),t.lineTo(18.535,16.551),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.restore()}},exchanger2:{draw:function(t){t.save(),t.translate(0,0),t.beginPath(),t.moveTo(0,0),t.lineTo(40,0),t.lineTo(40,40),t.lineTo(0,40),t.closePath(),t.clip(),t.translate(0,0),t.translate(0,0),t.scale(1,1),t.translate(0,0),t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,t.save(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.restore(),t.save();var i=t.createLinearGradient(.4102,24.3613,39.5898,24.3613);i.addColorStop(0,"#1C6B9D"),i.addColorStop(.0788,"#115A85"),i.addColorStop(.2046,"#135D89"),i.addColorStop(.3649,"#186494"),i.addColorStop(.5432,"#1F70A4"),i.addColorStop(.6798,"#257AB2"),i.addColorStop(.7462,"#2377AD"),i.addColorStop(.8508,"#1E6DA0"),i.addColorStop(.98,"#125C89"),i.addColorStop(1,"#105984"),t.fillStyle=i,t.beginPath(),t.moveTo(.41,16.649),t.bezierCurveTo(.633,19.767,.871,20.689,1.094,23.807000000000002),t.bezierCurveTo(1.29,26.548000000000002,3.324,28.415000000000003,5.807,29.711000000000002),t.bezierCurveTo(10.582,32.202000000000005,16.477,32.806000000000004,21.875999999999998,32.523),t.bezierCurveTo(26.929,32.258,32.806,31.197000000000003,36.709999999999994,27.992000000000004),t.bezierCurveTo(38.30499999999999,26.728000000000005,38.83599999999999,25.103000000000005,38.998999999999995,23.161000000000005),t.bezierCurveTo(39.589,16.135000000000005,39.589,16.135000000000005,39.589,16.135000000000005),t.bezierCurveTo(39.589,16.135000000000005,3.26,16.647,.41,16.649),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.save(),t.fillStyle="#2e8ece",t.beginPath(),t.moveTo(16.4,25.185),t.bezierCurveTo(12.807999999999998,24.924999999999997,9.139,24.238,5.857999999999999,22.705),t.bezierCurveTo(3.175999999999999,21.450999999999997,-.32200000000000095,18.971999999999998,.544999999999999,15.533999999999999),t.bezierCurveTo(1.3499999999999992,12.335999999999999,4.987999999999999,10.495999999999999,7.807999999999999,9.428999999999998),t.bezierCurveTo(11.230999999999998,8.133999999999999,14.911999999999999,7.519999999999999,18.558,7.345999999999998),t.bezierCurveTo(22.233,7.169999999999998,25.966,7.437999999999998,29.548000000000002,8.300999999999998),t.bezierCurveTo(32.673,9.052999999999999,36.192,10.296,38.343,12.814999999999998),t.bezierCurveTo(40.86600000000001,15.768999999999998,39.208000000000006,19.066999999999997,36.406000000000006,21.043999999999997),t.bezierCurveTo(33.566,23.046999999999997,30.055000000000007,24.071999999999996,26.670000000000005,24.676999999999996),t.bezierCurveTo(23.289,25.28,19.824,25.436,16.4,25.185),t.bezierCurveTo(13.529,24.977,19.286,25.396,16.4,25.185),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.save(),t.save(),t.save(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(5.21,21.754),t.lineTo(8.188,17.922),t.lineTo(9.53,18.75),t.lineTo(15.956,16.004),t.lineTo(18.547,17.523),t.lineTo(12.074,20.334),t.lineTo(13.464,21.204),t.lineTo(5.21,21.754),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.restore(),t.save(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(17.88,14.61),t.lineTo(9.85,13.522),t.lineTo(11.703,12.757),t.lineTo(7.436,10.285),t.lineTo(10.783,8.942),t.lineTo(15.091,11.357),t.lineTo(16.88,10.614),t.lineTo(17.88,14.61),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(17.88,14.61),t.lineTo(9.85,13.522),t.lineTo(11.703,12.757),t.lineTo(7.436,10.285),t.lineTo(10.783,8.942),t.lineTo(15.091,11.357),t.lineTo(16.88,10.614),t.lineTo(17.88,14.61),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.restore(),t.save(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(23.556,15.339),t.lineTo(20.93,13.879),t.lineTo(26.953,11.304),t.lineTo(25.559,10.567),t.lineTo(33.251,9.909),t.lineTo(31.087,13.467),t.lineTo(29.619,12.703),t.lineTo(23.556,15.339),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.restore(),t.save(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(30.028,23.383),t.lineTo(24.821,20.366),t.lineTo(22.915,21.227),t.lineTo(21.669,16.762),t.lineTo(30.189,17.942),t.lineTo(28.33,18.782),t.lineTo(33.579,21.725),t.lineTo(30.028,23.383),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(30.028,23.383),t.lineTo(24.821,20.366),t.lineTo(22.915,21.227),t.lineTo(21.669,16.762),t.lineTo(30.189,17.942),t.lineTo(28.33,18.782),t.lineTo(33.579,21.725),t.lineTo(30.028,23.383),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.restore(),t.restore(),t.restore(),t.restore()
}},exchanger:{draw:function(t){t.save(),t.translate(0,0),t.beginPath(),t.moveTo(0,0),t.lineTo(40,0),t.lineTo(40,40),t.lineTo(0,40),t.closePath(),t.clip(),t.translate(0,0),t.translate(0,0),t.scale(1,1),t.translate(0,0),t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,t.save(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.restore(),t.save();var i=t.createLinearGradient(.2095,20.7588,39.4941,20.7588);i.addColorStop(0,"#6A6969"),i.addColorStop(.0788,"#4F4C4B"),i.addColorStop(.352,"#545252"),i.addColorStop(.6967,"#646262"),i.addColorStop(.8916,"#6F6E6F"),i.addColorStop(.9557,"#4C4948"),i.addColorStop(1,"#494645"),t.fillStyle=i,t.beginPath(),t.moveTo(39.449,12.417),t.lineTo(39.384,9.424),t.bezierCurveTo(39.384,9.424,.7980000000000018,22.264,.3710000000000022,23.024),t.bezierCurveTo(-.026999999999997804,23.733,.4240000000000022,24.903000000000002,.5190000000000022,25.647000000000002),t.bezierCurveTo(.7240000000000022,27.244000000000003,.9240000000000023,28.841,1.1350000000000022,30.437),t.bezierCurveTo(1.3220000000000023,31.843,2.7530000000000023,32.094,3.9620000000000024,32.094),t.bezierCurveTo(8.799000000000003,32.092,13.636000000000003,32.091,18.473000000000003,32.089),t.bezierCurveTo(23.515,32.086999999999996,28.556000000000004,32.086,33.598,32.083999999999996),t.bezierCurveTo(34.859,32.083999999999996,36.286,31.979999999999997,37.266,31.081999999999997),t.bezierCurveTo(37.537,30.820999999999998,37.655,30.535999999999998,37.699999999999996,30.229999999999997),t.lineTo(37.711,30.316999999999997),t.lineTo(39.281,16.498999999999995),t.bezierCurveTo(39.281,16.498999999999995,39.467999999999996,15.126999999999995,39.489,14.666999999999994),t.bezierCurveTo(39.515,14.105,39.449,12.417,39.449,12.417),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.save(),t.save(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.restore(),t.save();var i=t.createLinearGradient(19.8052,7.7949,19.8052,24.7632);i.addColorStop(0,"#7D7D7D"),i.addColorStop(.1455,"#808080"),i.addColorStop(.2975,"#888888"),i.addColorStop(.4527,"#939293"),i.addColorStop(.6099,"#9E9D9D"),i.addColorStop(.7687,"#A7A5A4"),i.addColorStop(.9268,"#A9A6A5"),i.addColorStop(.9754,"#A7A4A3"),i.addColorStop(1,"#FFFFFF"),t.fillStyle=i,t.beginPath(),t.moveTo(33.591,24.763),t.bezierCurveTo(23.868000000000002,24.754,14.145,24.746000000000002,4.423000000000002,24.738000000000003),t.bezierCurveTo(3.140000000000002,24.737000000000002,-.48799999999999777,24.838000000000005,.3520000000000021,22.837000000000003),t.bezierCurveTo(1.292000000000002,20.594000000000005,2.2330000000000023,18.351000000000003,3.1730000000000023,16.108000000000004),t.bezierCurveTo(4.113000000000002,13.865000000000006,5.054000000000002,11.623000000000005,5.994000000000002,9.380000000000004),t.bezierCurveTo(6.728000000000002,7.629000000000005,9.521000000000003,7.885000000000004,11.156000000000002,7.880000000000004),t.bezierCurveTo(16.974000000000004,7.861000000000004,22.793000000000003,7.843000000000004,28.612000000000002,7.825000000000005),t.bezierCurveTo(30.976000000000003,7.818000000000005,33.341,7.810000000000005,35.707,7.803000000000004),t.bezierCurveTo(36.157000000000004,7.802000000000004,36.609,7.787000000000004,37.06,7.804000000000005),t.bezierCurveTo(37.793,7.833000000000005,39.389,7.875000000000004,39.385000000000005,9.424000000000005),t.bezierCurveTo(39.38400000000001,9.647000000000006,39.31,10.138000000000005,39.27700000000001,10.359000000000005),t.bezierCurveTo(38.81900000000001,13.361000000000004,38.452000000000005,15.764000000000006,37.99400000000001,18.766000000000005),t.bezierCurveTo(37.806000000000004,19.998000000000005,37.61800000000001,21.230000000000004,37.43000000000001,22.462000000000007),t.bezierCurveTo(37.151,24.271,35.264,24.77,33.591,24.763),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.restore(),t.save(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(10.427,19.292),t.lineTo(5.735,16.452),t.lineTo(12.58,13.8),t.lineTo(12.045,15.07),t.lineTo(20.482,15.072),t.lineTo(19.667,17.887),t.lineTo(11.029,17.851),t.lineTo(10.427,19.292),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(13.041,13.042),t.lineTo(8.641,10.73),t.lineTo(14.82,8.474),t.lineTo(14.373,9.537),t.lineTo(22.102,9.479),t.lineTo(21.425,11.816),t.lineTo(13.54,11.85),t.lineTo(13.041,13.042),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(29.787,16.049),t.lineTo(29.979,14.704),t.lineTo(21.51,14.706),t.lineTo(22.214,12.147),t.lineTo(30.486,12.116),t.lineTo(30.653,10.926),t.lineTo(36.141,13.4),t.lineTo(29.787,16.049),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(28.775,23.14),t.lineTo(29.011,21.49),t.lineTo(19.668,21.405),t.lineTo(20.523,18.295),t.lineTo(29.613,18.338),t.lineTo(29.815,16.898),t.lineTo(35.832,19.964),t.lineTo(28.775,23.14),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.restore(),t.restore()}},cloud:{draw:function(t){t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(90.75,0),t.lineTo(90.75,62.125),t.lineTo(0,62.125),t.closePath(),t.clip(),t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,t.save();var i=t.createLinearGradient(44.0054,6.4116,44.0054,51.3674);i.addColorStop(0,"rgba(159, 160, 160, 0.7)"),i.addColorStop(.9726,"#E9EAEA"),t.fillStyle=i,t.beginPath(),t.moveTo(57.07,20.354),t.bezierCurveTo(57.037,20.354,57.006,20.358,56.974000000000004,20.358),t.bezierCurveTo(54.461000000000006,14.308,48.499,10.049000000000001,41.538000000000004,10.049000000000001),t.bezierCurveTo(33.801,10.049000000000001,27.309000000000005,15.316000000000003,25.408000000000005,22.456000000000003),t.bezierCurveTo(18.988000000000007,23.289,14.025000000000006,28.765000000000004,14.025000000000006,35.413000000000004),t.bezierCurveTo(14.025000000000006,42.635000000000005,19.880000000000006,48.49,27.102000000000004,48.49),t.bezierCurveTo(29.321000000000005,48.49,31.407000000000004,47.933,33.237,46.961),t.bezierCurveTo(34.980000000000004,49.327,37.78,50.867999999999995,40.945,50.867999999999995),t.bezierCurveTo(43.197,50.867999999999995,45.261,50.086,46.896,48.785999999999994),t.bezierCurveTo(49.729,50.78699999999999,53.244,51.98799999999999,57.07,51.98799999999999),t.bezierCurveTo(66.412,51.98799999999999,73.986,44.90699999999999,73.986,36.17099999999999),t.bezierCurveTo(73.986,27.436,66.413,20.354,57.07,20.354),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore()}},node:{width:60,height:100,draw:function(t){t.save(),t.translate(0,0),t.beginPath(),t.moveTo(0,0),t.lineTo(40,0),t.lineTo(40,40),t.lineTo(0,40),t.closePath(),t.clip(),t.translate(0,0),t.translate(0,0),t.scale(1,1),t.translate(0,0),t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,t.save(),t.fillStyle="#9fa0a0",t.beginPath(),t.moveTo(13.948,31.075),t.lineTo(25.914,31.075),t.quadraticCurveTo(25.914,31.075,25.914,31.075),t.lineTo(25.914,34.862),t.quadraticCurveTo(25.914,34.862,25.914,34.862),t.lineTo(13.948,34.862),t.quadraticCurveTo(13.948,34.862,13.948,34.862),t.lineTo(13.948,31.075),t.quadraticCurveTo(13.948,31.075,13.948,31.075),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#c9caca",t.beginPath(),t.moveTo(29.679,35.972),t.bezierCurveTo(29.679,36.675000000000004,29.110999999999997,37.244,28.407999999999998,37.244),t.lineTo(11.456,37.244),t.bezierCurveTo(10.751999999999999,37.244,10.183,36.675,10.183,35.972),t.lineTo(10.183,36.136),t.bezierCurveTo(10.183,35.431000000000004,10.751999999999999,34.863,11.456,34.863),t.lineTo(28.407,34.863),t.bezierCurveTo(29.11,34.863,29.678,35.431,29.678,36.136),t.lineTo(29.678,35.972),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#c9caca",t.beginPath(),t.moveTo(.196,29.346),t.bezierCurveTo(.196,30.301,.9690000000000001,31.075,1.925,31.075),t.lineTo(37.936,31.075),t.bezierCurveTo(38.891,31.075,39.665,30.301,39.665,29.346),t.lineTo(39.665,27.174),t.lineTo(.196,27.174),t.lineTo(.196,29.346),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#3e3a39",t.beginPath(),t.moveTo(37.937,3.884),t.lineTo(1.926,3.884),t.bezierCurveTo(.97,3.884,.19699999999999984,4.657,.19699999999999984,5.614),t.lineTo(.19699999999999984,27.12),t.lineTo(39.666000000000004,27.12),t.lineTo(39.666000000000004,5.615),t.bezierCurveTo(39.665,4.657,38.892,3.884,37.937,3.884),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.save(),t.restore(),t.save(),t.restore(),t.restore(),t.save();var i=t.createLinearGradient(6.9609,2.9341,32.9008,28.874);i.addColorStop(0,"#B2CBEA"),i.addColorStop(1,"#2E8ECE"),t.fillStyle=i,t.beginPath(),t.moveTo(35.788,6.39),t.lineTo(4.074,6.39),t.bezierCurveTo(3.315,6.39,2.702,7.003,2.702,7.763),t.lineTo(2.702,24.616),t.lineTo(37.159,24.616),t.lineTo(37.159,7.763),t.bezierCurveTo(37.159,7.003,36.546,6.39,35.788,6.39),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore()}},group:{draw:function(t){t.save(),t.translate(0,0),t.beginPath(),t.moveTo(0,0),t.lineTo(47.75,0),t.lineTo(47.75,40),t.lineTo(0,40),t.closePath(),t.clip(),t.translate(0,0),t.translate(0,0),t.scale(1,1),t.translate(0,0),t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,t.save(),t.save(),t.fillStyle="#9fa0a0",t.beginPath(),t.moveTo(10.447,26.005),t.lineTo(18.847,26.005),t.quadraticCurveTo(18.847,26.005,18.847,26.005),t.lineTo(18.847,28.663),t.quadraticCurveTo(18.847,28.663,18.847,28.663),t.lineTo(10.447,28.663),t.quadraticCurveTo(10.447,28.663,10.447,28.663),t.lineTo(10.447,26.005),t.quadraticCurveTo(10.447,26.005,10.447,26.005),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#c9caca",t.beginPath(),t.moveTo(21.491,29.443),t.bezierCurveTo(21.491,29.935000000000002,21.094,30.338,20.597,30.338),t.lineTo(8.698,30.338),t.bezierCurveTo(8.201,30.338,7.8020000000000005,29.936,7.8020000000000005,29.443),t.lineTo(7.8020000000000005,29.557000000000002),t.bezierCurveTo(7.8020000000000005,29.063000000000002,8.201,28.662000000000003,8.698,28.662000000000003),t.lineTo(20.597,28.662000000000003),t.bezierCurveTo(21.093,28.662000000000003,21.491,29.062,21.491,29.557000000000002),t.lineTo(21.491,29.443),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#c9caca",t.beginPath(),t.moveTo(.789,24.79),t.bezierCurveTo(.789,25.461,1.334,26.005,2.0060000000000002,26.005),t.lineTo(27.289,26.005),t.bezierCurveTo(27.961000000000002,26.005,28.504,25.461,28.504,24.79),t.lineTo(28.504,23.267),t.lineTo(.789,23.267),t.lineTo(.789,24.79),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#3e3a39",t.beginPath(),t.moveTo(27.289,6.912),t.lineTo(2.006,6.912),t.bezierCurveTo(1.3339999999999996,6.912,.7889999999999997,7.455,.7889999999999997,8.126),t.lineTo(.7889999999999997,23.227),t.lineTo(28.503999999999998,23.227),t.lineTo(28.503999999999998,8.126),t.bezierCurveTo(28.504,7.455,27.961,6.912,27.289,6.912),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.save(),t.restore(),t.save(),t.restore(),t.restore(),t.save();var i=t.createLinearGradient(5.54,6.2451,23.7529,24.458);i.addColorStop(0,"#B2CBEA"),i.addColorStop(1,"#2E8ECE"),t.fillStyle=i,t.beginPath(),t.moveTo(25.78,8.671),t.lineTo(3.514,8.671),t.bezierCurveTo(2.9819999999999998,8.671,2.549,9.101999999999999,2.549,9.635),t.lineTo(2.549,21.466),t.lineTo(26.743,21.466),t.lineTo(26.743,9.636),t.bezierCurveTo(26.743,9.102,26.312,8.671,25.78,8.671),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.save(),t.save(),t.fillStyle="#9fa0a0",t.beginPath(),t.moveTo(27.053,33.602),t.lineTo(36.22,33.602),t.quadraticCurveTo(36.22,33.602,36.22,33.602),t.lineTo(36.22,36.501),t.quadraticCurveTo(36.22,36.501,36.22,36.501),t.lineTo(27.053,36.501),t.quadraticCurveTo(27.053,36.501,27.053,36.501),t.lineTo(27.053,33.602),t.quadraticCurveTo(27.053,33.602,27.053,33.602),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#c9caca",t.beginPath(),t.moveTo(39.104,37.352),t.bezierCurveTo(39.104,37.891,38.67,38.327,38.13,38.327),t.lineTo(25.143,38.327),t.bezierCurveTo(24.602,38.327,24.166,37.891,24.166,37.352),t.lineTo(24.166,37.477999999999994),t.bezierCurveTo(24.166,36.937,24.602,36.501,25.143,36.501),t.lineTo(38.131,36.501),t.bezierCurveTo(38.671,36.501,39.105,36.937,39.105,37.477999999999994),t.lineTo(39.105,37.352),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#c9caca",t.beginPath(),t.moveTo(16.514,32.275),t.bezierCurveTo(16.514,33.004999999999995,17.107,33.601,17.839,33.601),t.lineTo(45.433,33.601),t.bezierCurveTo(46.166,33.601,46.758,33.005,46.758,32.275),t.lineTo(46.758,30.607999999999997),t.lineTo(16.514,30.607999999999997),t.lineTo(16.514,32.275),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#3e3a39",t.beginPath(),t.moveTo(45.433,12.763),t.lineTo(17.839,12.763),t.bezierCurveTo(17.107,12.763,16.514,13.356,16.514,14.089),t.lineTo(16.514,30.57),t.lineTo(46.757999999999996,30.57),t.lineTo(46.757999999999996,14.088),t.bezierCurveTo(46.758,13.356,46.166,12.763,45.433,12.763),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.save(),t.restore(),t.save(),t.restore(),t.restore(),t.save(),i=t.createLinearGradient(21.6973,12.0352,41.5743,31.9122),i.addColorStop(0,"#B2CBEA"),i.addColorStop(1,"#2E8ECE"),t.fillStyle=i,t.beginPath(),t.moveTo(43.785,14.683),t.lineTo(19.486,14.683),t.bezierCurveTo(18.903000000000002,14.683,18.433,15.153,18.433,15.735),t.lineTo(18.433,28.649),t.lineTo(44.837,28.649),t.lineTo(44.837,15.734),t.bezierCurveTo(44.838,15.153,44.367,14.683,43.785,14.683),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.save(),t.globalAlpha=.5,t.beginPath(),t.moveTo(23.709,36.33),t.lineTo(4.232,36.33),t.lineTo(4.232,27.199),t.lineTo(5.304,27.199),t.lineTo(5.304,35.259),t.lineTo(23.709,35.259),t.lineTo(23.709,36.33),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore()}},subnetwork:{draw:function(t){t.save(),t.translate(0,0),t.beginPath(),t.moveTo(0,0),t.lineTo(60.75,0),t.lineTo(60.75,42.125),t.lineTo(0,42.125),t.closePath(),t.clip(),t.translate(0,.26859504132231393),t.scale(.6694214876033058,.6694214876033058),t.translate(0,0),t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,t.save(),t.save(),t.restore(),t.save(),t.restore(),t.restore(),t.save();var i=t.createLinearGradient(43.6724,-2.7627,43.6724,59.3806);i.addColorStop(0,"rgba(159, 160, 160, 0.7)"),i.addColorStop(.9726,"#E9EAEA"),t.fillStyle=i,t.beginPath(),t.moveTo(61.732,16.509),t.bezierCurveTo(61.686,16.509,61.644,16.515,61.599,16.515),t.bezierCurveTo(58.126,8.152000000000001,49.884,2.2650000000000006,40.262,2.2650000000000006),t.bezierCurveTo(29.567,2.2650000000000006,20.594,9.545000000000002,17.966,19.415),t.bezierCurveTo(9.09,20.566,2.229,28.136,2.229,37.326),t.bezierCurveTo(2.229,47.309,10.322,55.403000000000006,20.306,55.403000000000006),t.bezierCurveTo(23.374000000000002,55.403000000000006,26.257,54.633,28.787,53.28900000000001),t.bezierCurveTo(31.197,56.56000000000001,35.067,58.69000000000001,39.442,58.69000000000001),t.bezierCurveTo(42.555,58.69000000000001,45.408,57.60900000000001,47.669,55.81200000000001),t.bezierCurveTo(51.586,58.57800000000001,56.443999999999996,60.238000000000014,61.732,60.238000000000014),t.bezierCurveTo(74.64699999999999,60.238000000000014,85.116,50.45000000000002,85.116,38.37400000000001),t.bezierCurveTo(85.116,26.298,74.646,16.509,61.732,16.509),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.save(),t.fillStyle="#9fa0a0",t.beginPath(),t.moveTo(34.966,44.287),t.lineTo(45.112,44.287),t.quadraticCurveTo(45.112,44.287,45.112,44.287),t.lineTo(45.112,47.497),t.quadraticCurveTo(45.112,47.497,45.112,47.497),t.lineTo(34.966,47.497),t.quadraticCurveTo(34.966,47.497,34.966,47.497),t.lineTo(34.966,44.287),t.quadraticCurveTo(34.966,44.287,34.966,44.287),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#727171",t.beginPath(),t.moveTo(48.306,48.439),t.bezierCurveTo(48.306,49.034,47.824999999999996,49.52,47.226,49.52),t.lineTo(32.854,49.52),t.bezierCurveTo(32.253,49.52,31.771,49.034000000000006,31.771,48.439),t.lineTo(31.771,48.578),t.bezierCurveTo(31.771,47.981,32.253,47.497,32.854,47.497),t.lineTo(47.226,47.497),t.bezierCurveTo(47.824999999999996,47.497,48.306,47.98,48.306,48.578),t.lineTo(48.306,48.439),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#b5b5b6",t.beginPath(),t.moveTo(23.302,42.82),t.bezierCurveTo(23.302,43.63,23.96,44.287,24.772,44.287),t.lineTo(55.308,44.287),t.bezierCurveTo(56.12,44.287,56.775,43.629999999999995,56.775,42.82),t.lineTo(56.775,40.98),t.lineTo(23.302,40.98),t.lineTo(23.302,42.82),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#3e3a39",t.beginPath(),t.moveTo(55.307,21.229),t.lineTo(24.771,21.229),t.bezierCurveTo(23.959,21.229,23.301000000000002,21.884,23.301000000000002,22.695),t.lineTo(23.301000000000002,40.933),t.lineTo(56.774,40.933),t.lineTo(56.774,22.695),t.bezierCurveTo(56.774,21.884,56.119,21.229,55.307,21.229),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.save(),t.restore(),t.save(),t.restore(),t.restore(),t.save(),i=t.createLinearGradient(29.04,20.4219,51.0363,42.4181),i.addColorStop(0,"#B2CBEA"),i.addColorStop(1,"#2E8ECE"),t.fillStyle=i,t.beginPath(),t.moveTo(53.485,23.353),t.lineTo(26.592,23.353),t.bezierCurveTo(25.948999999999998,23.353,25.427,23.873,25.427,24.517000000000003),t.lineTo(25.427,38.807),t.lineTo(54.647,38.807),t.lineTo(54.647,24.517000000000003),t.bezierCurveTo(54.648,23.873,54.127,23.353,53.485,23.353),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.restore()}}};for(var Vh in Xh)ge("Q-"+Vh,Xh[Vh]);var Kh=function(){this.$invalidateRotate=!1;var t=this._g6;t.clear();var i=this.$border||0,e=this._7y.x+i/2,n=this._7y.y+i/2,r=this._7y.width-i,o=this._7y.height-i,s=ze.call(this,{x:e,y:n});Ye(t,s.x,s.y,!0),s=ze.call(this,{x:e+r,y:n}),Ye(t,s.x,s.y),s=ze.call(this,{x:e+r,y:n+o}),Ye(t,s.x,s.y),s=ze.call(this,{x:e,y:n+o}),Ye(t,s.x,s.y),this.__m0Pointer&&(s=ze.call(this,{x:this._pointerX,y:this._pointerY}),Ye(t,s.x,s.y)),i&&t.grow(i/2)},Zh=20,Jh={_h4:!1,_jh:null,_moo:0,_l7:-1,_l8:null,_f9:function(t){this._jh||(this._jh=[],this._jq=bh),this._jh.push(t),this._dw(),this._kz()},_kz:function(){if(!this._l8){var t=this;this._l8=setTimeout(function i(){return t._dw()!==!1?void(t._l8=setTimeout(i,t._hd())):void delete t._l8},this._hd())}},_hd:function(){return Math.max(Zh,this._jh[this._l7].delay)},_dw:function(){return this._g1(this._l7+1)},_g1:function(t){if(this._h4)t%=this._moo;else if(t>=this._jh.length)return!1;if(this._l7==t)return!1;this._l7=t;var i=this._jh[this._l7],e=i._moache;return e||(i._moache=e=Di(this.width,this.height),e.g.putImageData(i.data,0,0),e._pixels=i._pixels),this._l3=e,this.$invalidateSize=!0,this._dr()},_mov:function(){return this._jh?(this._h4=!0,this._moo=this._jh.length,1==this._moo?this._dr():void this._kz()):void this._i4()},_lp:function(){this._l8&&(clearTimeout(this._l8),delete this._l8)},_dr:function(){var t=this._dispatcher.listeners;if(!t||!t.length)return!1;for(var i=new us(this,"image","load",this._l3),e=0,n=t.length;n>e;e++){var r=t[e];r.scope._jw&&r.scope._jw._iced?(t.splice(e,1),e--,n--):r.onEvent.call(r.scope,i)}return t.length>0},_mn6:function(t,i){this._dispatcher.addListener(t,i),this._h4&&!this._l8&&this._kz()},_6d:function(t,i){this._dispatcher.removeListener(t,i),this._dispatcher._mlx()||this._lp()},_ic:function(){this._lp(),this._dispatcher.clear()},_ft:function(){var t=this._l3._mnufferedImage;return t||(this._l3._mnufferedImage=t=new Wh(this._l3,1)),t}},Qh=function(t){return t.reduce(function(t,i){return 2*t+i},0)},ta=function(t){for(var i=[],e=7;e>=0;e--)i.push(!!(t&1<<e));return i},ia=function(t){this.data=t,this.len=this.data.length,this.pos=0,this.readByte=function(){if(this.pos>=this.data.length)throw new Error("Attempted to read past end of stream.");return 255&t.charCodeAt(this.pos++)},this.readBytes=function(t){for(var i=[],e=0;t>e;e++)i.push(this.readByte());return i},this.read=function(t){for(var i="",e=0;t>e;e++)i+=String.fromCharCode(this.readByte());return i},this.readUnsigned=function(){var t=this.readBytes(2);return(t[1]<<8)+t[0]}},ea=function(t,i){for(var e,n,r=0,o=function(t){for(var e=0,n=0;t>n;n++)i.charCodeAt(r>>3)&1<<(7&r)&&(e|=1<<n),r++;return e},s=[],h=1<<t,a=h+1,l=t+1,_=[],u=function(){_=[],l=t+1;for(var i=0;h>i;i++)_[i]=[i];_[h]=[],_[a]=null};;)if(n=e,e=o(l),e!==h){if(e===a)break;if(e<_.length)n!==h&&_.push(_[n].concat(_[e][0]));else{if(e!==_.length)throw new Error("Invalid LZW code.");_.push(_[n].concat(_[n][0]))}s.push.apply(s,_[e]),_.length===1<<l&&12>l&&l++}else u();return s},na=function(t,i){i||(i={});var e=function(i){for(var e=[],n=0;i>n;n++)e.push(t.readBytes(3));return e},n=function(){var i,e;e="";do i=t.readByte(),e+=t.read(i);while(0!==i);return e},r=function(){var n={};if(n.sig=t.read(3),n.ver=t.read(3),"GIF"!==n.sig)throw new Error("Not a GIF file.");n.width=t.readUnsigned(),n.height=t.readUnsigned();var r=ta(t.readByte());n.gctFlag=r.shift(),n.colorRes=Qh(r.splice(0,3)),n.sorted=r.shift(),n.gctSize=Qh(r.splice(0,3)),n.bgColor=t.readByte(),n.pixelAspectRatio=t.readByte(),n.gctFlag&&(n.gct=e(1<<n.gctSize+1)),i.hdr&&i.hdr(n)},o=function(e){var r=function(e){var n=(t.readByte(),ta(t.readByte()));e.reserved=n.splice(0,3),e.disposalMethod=Qh(n.splice(0,3)),e.userInput=n.shift(),e.transparencyGiven=n.shift(),e.delayTime=t.readUnsigned(),e.transparencyIndex=t.readByte(),e.terminator=t.readByte(),i.gce&&i.gce(e)},o=function(t){t.comment=n(),i.com&&i.com(t)},s=function(e){t.readByte();e.ptHeader=t.readBytes(12),e.ptData=n(),i.pte&&i.pte(e)},h=function(e){{var r=function(e){t.readByte();e.unknown=t.readByte(),e.iterations=t.readUnsigned(),e.terminator=t.readByte(),i.app&&i.app.NETSCAPE&&i.app.NETSCAPE(e)},o=function(t){t.appData=n(),i.app&&i.app[t.identifier]&&i.app[t.identifier](t)};t.readByte()}switch(e.identifier=t.read(8),e.authCode=t.read(3),e.identifier){case"NETSCAPE":r(e);break;default:o(e)}},a=function(t){t.data=n(),i.unknown&&i.unknown(t)};switch(e.label=t.readByte(),e.label){case 249:e.extType="gce",r(e);break;case 254:e.extType="com",o(e);break;case 1:e.extType="pte",s(e);break;case 255:e.extType="app",h(e);break;default:e.extType="unknown",a(e)}},s=function(r){var o=function(t,i){for(var e=new Array(t.length),n=t.length/i,r=function(n,r){var o=t.slice(r*i,(r+1)*i);e.splice.apply(e,[n*i,i].concat(o))},o=[0,4,2,1],s=[8,8,4,2],h=0,a=0;4>a;a++)for(var l=o[a];n>l;l+=s[a])r(l,h),h++;return e};r.leftPos=t.readUnsigned(),r.topPos=t.readUnsigned(),r.width=t.readUnsigned(),r.height=t.readUnsigned();var s=ta(t.readByte());r.lctFlag=s.shift(),r.interlaced=s.shift(),r.sorted=s.shift(),r.reserved=s.splice(0,2),r.lctSize=Qh(s.splice(0,3)),r.lctFlag&&(r.lct=e(1<<r.lctSize+1)),r.lzwMinCodeSize=t.readByte();var h=n();r.pixels=ea(r.lzwMinCodeSize,h),r.interlaced&&(r.pixels=o(r.pixels,r.width)),i.img&&i.img(r)},h=function(){var e={};switch(e.sentinel=t.readByte(),String.fromCharCode(e.sentinel)){case"!":e.type="ext",o(e);break;case",":e.type="img",s(e);break;case";":e.type="eof",i.eof&&i.eof(e);break;default:throw new Error("Unknown block: 0x"+e.sentinel.toString(16))}"eof"!==e.type&&setTimeout(h,0)},a=function(){r(),setTimeout(h,0)};a()},ra="";i.addEventListener&&i.addEventListener("keydown",function(t){if(t.ctrlKey&&t.shiftKey&&t.altKey&&73==t.keyCode){var i=hh.name+"\nVersion - "+hh.version+"\nPublish Date - "+hh.publishDate+"\n"+hh.about+"\n"+hh.copyright+ra;hh.alert(i)}},!1),ra="\nLicensed to: "+decodeURIComponent("%E5%93%88%E5%B0%94%E6%BB%A8%E5%B7%A5%E7%A8%8B%E5%A4%A7%E5%AD%A6-%E7%94%B5%E5%AD%90%E6%94%BF%E5%8A%A1%E5%BB%BA%E6%A8%A1%E4%BB%BF%E7%9C%9F%E5%B9%B3%E5%8F%B0%20%E5%92%8C%20%E5%BC%82%E8%B1%A1%E5%BC%82%E6%9E%84%E5%A4%A7%E6%95%B0%E6%8D%AE%E4%BA%91%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0");var oa={position:"absolute",userSelect:"none",outline:"none",transformOrigin:"0 0","-webkit-tap-highlight-color":"rgba(0,0,0,0)"},sa="Q-Canvas";Ei("."+sa,oa);var ha={width:"100%",height:"100%",position:"relative",overflow:"hidden",textAlign:"left",outline:"none",tapHighlightColor:"rgba(0,0,0,0)",userSelect:"none"},aa="Q-CanvasPanel";Ei("."+aa,ha);var la="Q-Graph",_a={overflow:"hidden","text-align":"left","-webkit-tap-highlight-color":"rgba(0,0,0,0)",outline:"none"};Ei("."+la,_a);var ua=S(function(t){this._mo3=new da,this._mc=new qo,this._88=[],this._moz=[],this._lhingList=[],this._8a={},this.bounds=new ts,this._jr=new ma,this._viewport=new pa,this._jr.listener=function(t){this._6p(t)}.bind(this),this._d5(),this.setParent(t)},{_mnp:null,_jb:null,_mc:null,_moz:null,_jr:null,_mot:function(t){return t?(this._6is||(this._6is={}),this._6is[t]?!1:(this._6is[t]=!0,void this.invalidate())):this.invalidate()},_9p:function(t){return this._6is&&this._6is[t]},isInvalidate:function(){return this._6i},clear:function(){this._mc.clear(),this._moz.length=0,this._8a={},this._mlm=!1,this.invalidate()},_67:function(){this._mot("size"),this._2g()},_2g:function(){this._mot("viewport")},invalidate:function(t){(t||!this._6i)&&(this._6i=!0,this._lp||(this._jgingID=requestAnimationFrame(this._fp.bind(this))))},_6b:function(t){return this._lp=t,t?void(this._jgingID&&(cancelAnimationFrame(this._jgingID),this._jgingID=null)):void(this._6i&&this.invalidate(!0))},_fp:function(){this._jgingID=null,this._6i=!1;var t=this._mlm;this._mlm||(this._d3(),this._mlm=!0),this._d0(!t),this._3o(),this._jg(),this._24()},_d0:function(t){this._mnq=t||this.fullRefresh,(t||this._6is.size)&&this._9y(),(t||this._6is.matrix)&&this._6r(),this._mny(t),this._4m(t),this._6is={}},_3o:function(){this._moz.length=0;var t=this._viewport;if(this._mc.forEach(function(i){if(i.__hw!==!1){var e=this._mns(i);t.intersects(e.x,e.y,e.width,e.height)&&this._moz.push(i)}},this),this._moz=this._hx(this._moz),!this._mnq){var i=this._mo3;this._lhingList.length=0,i._mo2(this._viewport),i._ir()||this._moz.forEach(function(t){var e=this._mns(t);i._e1(e.x,e.y,e.width,e.height)&&this._lhingList.push(t)},this)}},_hx:function(t){return Bo?t=d(t,this._95):t.sort(this._95),t},_95:function(t,i){return t=t.zIndex||0,i=i.zIndex||0,t-i},_mns:function(t){return t.boundingBox},_jg:function(){if(this._mnq)return this._ef(),this._6j(!0),void this.render(this._motx,this._moz);this._6j(this._mnuffer);var t=this._mo3,i=this._motx;i.save(),this._mnuffer&&(Ke(i),i.drawImage(this._mnuffer.canvas,this._mnuffer.x,this._mnuffer.y)),t._k8(i,this._ed.bind(this)),this._ef(),this.render(i,this._lhingList),i.restore()},_6j:function(t){this._motCanvasSizeFlag?(this._motCanvasSizeFlag=!1,this._jb.setSize(this._width,this._height)):t&&Ve(this._jb)},_9y:function(){var t=this.width,i=this.height;return this._width==t&&this._height==i?!1:(this._width=t,this._height=i,void(this._motCanvasSizeFlag=!0))},_4m:function(t){if(!t&&!this._6is.viewport)return!1;var i=this._jr.reverseTransform([0,0]),e=this.scale,n=this._width/e,r=this._height/e,o=this.rotate,s=this._viewport;if(s.x==i[0]&&s.y==i[1]&&s.width==n&&s.height==r&&s.rotate==o)return!1;var h=s.toJSON();return this._viewport.set(i[0],i[1],n,r,o,e),this._37(this._viewport,h,t),!0},_37:function(t,i,e){this._mnq||e||(this._mnuffer=this._h3(i,t))},_6p:function(){if(this._mlm){if(this._lp){var t;this._mourrentMatrix?this._mourrentMatrix.transMatrix=t=va.mul([],this._jr.m,va.invert([],this._mourrentMatrix.m)):t=this._jr.m,this._4z(t)}this._mot("matrix"),this._2g()}},_4z:function(t){this.__mossMatrix=t,ya.setStyle(this._jb,"transform",t?"matrix("+t.join(",")+")":"")},_6r:function(){var t=this._mourrentMatrix;if(this._mourrentMatrix={tx:this._jr.m[4],ty:this._jr.m[5],m:this._jr.m.slice(),scale:this._jr._hi(),rotate:this._jr._fa()},this.__mossMatrix&&this._4z(null),!this._mnq){if(this._2h(this._mourrentMatrix,t),!t||t.scale!=this._mourrentMatrix.scale)return this._69(this._mourrentMatrix.scale,t?t.scale:null),void(this._mnq=!0);if(!t||t.rotate!=this._mourrentMatrix.rotate)return this._51(this._mourrentMatrix.rotate,t?t.rotate:null),void(this._mnq=!0);var i=t.m[4]-this._mourrentMatrix.m[4],e=t.m[5]-this._mourrentMatrix.m[5],n=this.ratio;i*=n,e*=n;var r=1e-4;(Math.abs(i-Math.round(i))>r||Math.abs(e-Math.round(e))>r)&&(this._mnq=!0)}},_6s:function(){var t=this.bounds,i=t.clone();t.clear(),this._mc.forEach(function(i){i.__hw!==!1&&t.add(this._mns(i))},this),t.equals(i)||this._3g(t,i)},_3g:function(){},_mlm:!1,_d3:function(){},_96:function(t){var i=t.ratio;t.scale(i,i),t.transform.apply(t,this._jr.m)},render:function(t,i){i&&i.length&&(t.save(),this._96(t),i.forEach(function(i){if(t.save(),i.visible!==!1)try{i.render(t)}catch(e){console.error(e)}t.restore()},this),t.restore())},setParent:function(t){B(t)&&(t=i.getElementById(t)),this._ma!=t&&(this._ma&&this._mnp&&(M(this._ma,la),this._ma.removeChild(this._mnp)),this._ma=t,this._ma&&(N(this._ma,la),this._ma.appendChild(this._6u()),this._67()))},_6u:function(){return this._mnp||this._d5(),this._mnp},_d5:function(){var t=Di(!0);We(t.g),t.className=sa;var e=i.createElement("div");return e.className=aa,e.appendChild(t),e.tabIndex=0,this._jb=t,this._mnp=e,this._motx=this._jb.getContext("2d"),t},toLogical:function(t,i){return t instanceof Object&&(Q(t)&&(t=this._86(t)),Array.isArray(t)?(i=t[1]||0,t=t[0]||0):(i=t.y||0,t=t.x||0)),this._jr.reverseTransform([t,i])},toCanvas:function(t,i){return this._jr.transform([t,i])},_86:function(t){return mi(t,this._mnp)},_dx:function(t,i,e){if(t.hitTest instanceof Function)return t.hitTest(i,e);var n=this._mns(t);return n?e?ts.intersects(n.x,n.y,n.width,n.height,i[0]-e,i[1]-e,e+e,e+e):ts.intersects(n.x,n.y,n.width,n.height,i[0],i[1]):t},hitTest:function(t,i){return this._8b(t,i)},_8b:function(t,i){i=this._9d(i),t=this.toLogical(t);for(var e,n=this._moz.length;--n>=0;)if(e=this._moz[n],this._dx(e,t,i))return e},_9d:function(t){return(t===e||null===t)&&(t=Wo.SELECTION_TOLERANCE),t?t/this.scale:0},getUIByMouseEvent:function(t,i){if(t.uiId)return this._mc.getById(t.uiId);var e=this._8b(t,i);return t.uiId=e?e.id:-1,e},_8a:null,invalidateUI:function(t){this._8a[t.id]=t,this.invalidate()},_ml5:function(t){t.validate instanceof Function&&t.validate(this)},_d8:function(t,i){t.__jo&&this._h2(t.__jo);var e=t.__hw;if(t.__hw=this._dz(t,i),!t.__hw)return e;var n=t.__jo;this._ml5(t);var r=this._mns(t);t.__jo={x:r.x,y:r.y,width:r.width,height:r.height};var o=t.__hw!==e||!ts.equals(n,r);return o&&t.__jo&&this._h2(t.__jo),o},_dz:function(t){return t.visible!==!1},_$t:function(t){this._mc.forEach(function(i){this._d8(i,t)},this),this._8a={},this._6s()},_mny:function(t){var i=this.scale;if(t)return this._$t(i);var e=this._motBoundsFlag;this._motBoundsFlag=!1;for(var n in this._8a){var r=this._8a[n];e?this._d8(r,i):e=this._d8(r,i)}this._8a={},e&&this._6s()},_88:null,_24:function(){if(!this._88.length)return!1;var t=this._88;this._88=[],t.forEach(function(t){try{var i=t.call,e=t.scope,n=t.delay;e instanceof Object?i=i.bind(e):e&&!n&&(n=parseInt(e)),n?setTimeout(i,n):i()}catch(r){}},this),this._6i&&this._fp()},_du:function(t,i,e){this._88.push({call:t,scope:i,delay:e}),this._6i||this._24()},_4p:function(t,i){for(var e=this._moz,n=0,r=e.length;r>n;n++)if(t.call(i,e[n])===!1)return!1},_ds:function(t,i){this._mc.forEach(t,i)},_$x:function(t,i){for(var e=this._moz,n=e.length-1;n>=0;n--)if(t.call(i,e[n])===!1)return!1},_4t:function(t,i){this._mc.forEachReverse(t,i)},_3t:function(){return this.bounds},_ho:function(t,i,e){t/=this.scale||1,this._jy(t,i,e)},_jy:function(t,i,n){if(this._mlm&&(i===e||null===i)){var r=this.toLogical(this.width/2,this.height/2);i=r[0]||0,n=r[1]||0}return this._jr.scale(t,[i||0,n||0])},_ep:function(t,i){this._jr.translate([t,i],!0)},_mnr:function(t,i,e,n){if(e==this.scale&&n!==!1){var r=this.ratio;r!=(0|r)&&(t=Math.round(t*r)/r,i=Math.round(i*r)/r)
}this._jr.translateTo([t,i],e)},_jz:function(t,i){return this._jy(this._ek,t,i)},_i0:function(t,i){return this._jy(1/this._ek,t,i)},_1m:function(){var t=this._3t();if(!t.isEmpty()){var i=this.width/t.width,e=this.height/t.height,n=Math.min(i,e);return n=Math.max(this._h9,Math.min(this._hm,n)),{scale:n,cx:t.cx,cy:t.cy}}},_ek:1.3,_hm:10,_h9:.1,_mnq:!1,_69:function(){},_51:function(){},_2h:function(){},_ef:function(){this._mnuffer=null,this._mo3._kx()},_ed:function(t){var i=this._jr,e=this._jb.ratio,n=this.scale,r=i._fa();if(!r){var o=i.transform([t[0],t[1]]);return o[0]*=e,o[1]*=e,e*=n,o[2]=t[2]*e,o[3]=t[3]*e,o}var s=new ts,h=i.transform([t[0],t[1]]);return s.add(h[0],h[1]),h=i.transform([t[0]+t[2],t[1]]),s.add(h[0],h[1]),h=i.transform([t[0],t[1]+t[3]]),s.add(h[0],h[1]),h=i.transform([t[0]+t[2],t[1]+t[3]]),s.add(h[0],h[1]),[s.x*e,s.y*e,s.width*e,s.height*e]},_h3:function(t,e){var n=e._3r(t.x,t.y,t.width,t.height);if(n){var r=this._jb,o=this.scale*this.ratio,s=this._mo3,h={},a=1e-6;n.x>a&&(h.left=e._4v(0,0,n.x,e.height,o)),e.width-n.right>a&&(h.right=e._4v(n.right,0,e.width-n.right,e.height,o)),n.y>a&&(h.top=e._4v(n.x,0,n.width,n.y,o)),e.height-n.bottom>a&&(h.bottom=e._4v(n.x,n.bottom,n.width,e.height-n.bottom,o)),U(h)||s._4d(h);var l=e._i3(t.x,t.y),_=(l[0]-n.x)*o,u=(l[1]-n.y)*o,c=n.width*o,d=n.height*o;_=Math.round(_),u=Math.round(u),c=Math.round(c),d=Math.round(d);var f=this._mnackCanvas;return f||(f=this._mnackCanvas=i.createElement("canvas"),f.g=f.getContext("2d")),f.width=c,f.height=d,Ke(f.g),f.g.drawImage(r,_,u),_=l[0]*o-_,u=l[1]*o-u,{x:_,y:u,canvas:f}}},_li:function(t,i,e,n){this._mo3._md(t,i,e,n)},_h2:function(t){this._mo3._is(t)}});Object.defineProperties(ua.prototype,{width:{get:function(){return this._mnp.clientWidth}},height:{get:function(){return this._mnp.clientHeight}},rotate:{get:function(){return this._jr._fa()}},tx:{get:function(){return this._jr._84()[0]}},ty:{get:function(){return this._jr._84()[1]}},ratio:{get:function(){return this._jb?this._jb.ratio:void 0}},scale:{get:function(){return this._jr._hi()},set:function(t){this._ho(t)}},renderScale:{get:function(){return this.scale*this.ratio}},uis:{get:function(){return this._mc}},length:{get:function(){return this._mc.length}},viewportBounds:{get:function(){return this._viewport.getGlobalBounds()}}});var ca,da=S({constructor:function(){this._gx=[],this._jo=new ts,this._h1=Ro?20:50},_h1:20,_gx:null,_lm:!1,_jo:null,_kx:function(){this._lm=!1,this._gx.length=0,this._viewportClips=null,this._jo.clear()},_ir:function(){return 0==this._gx.length&&!this._viewportClips},_md:function(t,i,e,n){0>=e||0>=n||this._gx.push([t,i,e,n])},_is:function(t){this._md(t.x,t.y,t.width,t.height)},_4d:function(t){var i=this._jo;for(var e in t){var n=t[e],r=n.getGlobalBounds();i.add(r)}this._viewportClips=t},_mo2:function(t,i){for(var e=[],n=this._gx,r=0,o=n.length;o>r;r++){var s=n[r];t.intersects(s[0],s[1],s[2],s[3])&&(e.push(s),this._jo.addRect(s[0],s[1],s[2],s[3]))}this._gx=e,this._lm=i||e.length>=this._h1},_e1:function(t,i,e,n){if(!this._jo.intersectsRect(t,i,e,n))return!1;if(this._lm)return!0;if(this._viewportClips){var r=this._viewportClips;for(var o in r)if(r[o].intersects(t,i,e,n))return!0}for(var s,h=0,a=this._gx.length;a>h;h++)if(s=this._gx[h],ts.intersects(t,i,e,n,s[0],s[1],s[2],s[3]))return!0;return!1},_k8:function(t,i){if(this._ir())return!1;if(t.beginPath(),this._lm){var e=i([this._jo.x,this._jo.y,this._jo.width,this._jo.height]);return Ze(t,e[0],e[1],e[2],e[3]),void t.clip()}if(this._viewportClips)for(var n in this._viewportClips){var e=this._viewportClips[n].canvasBounds;Ze(t,e[0],e[1],e[2],e[3])}for(var r=this._gx,o=0,s=r.length;s>o;o++){var e=i(r[o]);Ze(t,e[0],e[1],e[2],e[3])}t.clip()}});da._toIntRect=function(t,i,e,n){return t instanceof Object&&(i=t.y,e=t.width,n=t.height,t=t.x),e=X(t+e)-(t=q(t)),n=X(i+n)-(i=q(i)),[t,i,e,n]},da._do=q,da._g3=X,ah.NAVIGATION_BUTTON="navigation.button",ah.NAVIGATION_SCROLLBAR="navigation.scrollbar",Wo.NAVIGATION_TYPE=ah.NAVIGATION_SCROLLBAR;var fa=S({_jg:function(){b(this,fa,"_jg",arguments),this._topCanvas._jg()},_95:function(t,i){return t=t.$data.zIndex||0,i=i.$data.zIndex||0,t-i},"super":ua,constructor:function(t,e){this._km=t,B(e)&&(e=i.getElementById(e)),e&&e.tagName||(e=i.createElement("div")),L(this,fa,[e]),this._topCanvas=new Kr(this,this._mnp),this._fv=[],this._km._8.addListener(this._1e,this),this._km._1f.addListener(this._9s,this),this._km._11.addListener(this._7m,this),this._km._$m.addListener(this._2v,this),this._km._$q.addListener(this._31,this),this._mo0={},this._3e(Wo.NAVIGATION_TYPE,!0)},_4z:function(t){b(this,fa,"_4z",arguments),this._topCanvas._4z(t)},_gj:function(t){return t.id||(t=this._mc.getById(t)),t?(this._mc.remove(t),t.destroy(),t.__jo&&this._h2(t.__jo),void(this._motBoundsFlag=!0)):!1},_gg:function(){this._mc.forEach(function(t){t.destroy()}),this._mc.clear()},_dz:function(t,i){var e=t.data||t;return e._$r&&(e._$r=!1,e._hw=this._4y(e,i)),e._hw!==!1},_4y:function(t,i){return this._3i(t,i)?!this._km._hwFilter||this._km._hwFilter(t,i)!==!1:!1},_9h:function(t){return this._km._3q==Yr(t)},_3i:function(t,i){if(t.visible===!1)return!1;if(!(t instanceof Oa))return this._km._3q!=Yr(t)?!1:!t._e9;var e=t.fromAgent,n=t.toAgent;if(!e||!n)return!1;if(e==n&&!t.isLooped())return!1;if(t.isBundleEnabled()){var r=t.getEdgeBundle(!0);if(r&&!r._dz(t,i))return!1}var o=this._dz(e,i),s=this._dz(n,i);return o&&s?!0:!1},_mns:function(t){return t._mlm?{x:t.$x+t.uiBounds.x,y:t.$y+t.uiBounds.y,width:t.uiBounds.width,height:t.uiBounds.height}:void 0},_2p:function(t){var i=this._ld(t);if(i){var e=this._mns(i);if(e)return new ts(e)}},_dx:function(t,i,e){return t.hitTest(i[0],i[1],e)},hitTest:function(t,i){var e=b(this,fa,"hitTest",arguments);if(e){t=this.toLogical(t),i=this._9d(i);var n=e.hitTest(t[0],t[1],i,!0);if(n instanceof Sa)return n}return e},_3h:function(t){return this.getUIByMouseEvent(t)},_6j:function(){b(this,fa,"_6j",arguments),this._topCanvas._ik(this.width,this.height)},_la:1,_moz:null,_8l:null,_8j:null,_mc:null,_ma:null,_jb:null,_mo3:null,_6i:!1,_mlm:!1,_jr:null,_4p:function(t,i){for(var e=this._moz,n=0,r=e.length;r>n;n++)if(t.call(i,e[n])===!1)return!1},_ds:function(t,i){this._mc.forEach(t,i)},_$x:function(t,i){for(var e=this._moz,n=e.length-1;n>=0;n--)if(t.call(i,e[n])===!1)return!1},_4t:function(t,i){this._mc.forEachReverse(t,i)},_37:function(t){b(this,fa,"_37",arguments),this._viewportChanged={value:t}},_d3:function(){this._4m(!0),this._originAdjusted||(this._originAdjusted=!0,this._km&&this._km.originAtCenter&&this._jr.translateTo([this.width/2,this.height/2]))},_fp:function(){if(!this._iced&&this._6i){if(this._jgingID=null,this._6i=!1,this._mlm&&this._km&&this._km._$r&&(this._km._$r=!1,this._km.forEach(function(t){t.invalidateVisibility(!0)})),b(this,fa,"_fp",arguments),this._8jChanged){this._65&&this._65._jk();var t=this._8jChanged.value,i=this._8jChanged.old;this._8jChanged=null,this._km._4k(new cs(this._km,"element.bounds",t,i))}this._viewportChanged&&(this._viewportChanged=!1,this._65&&this._65._37&&this._65._37(this._viewport.width*this._viewport.scale,this._viewport.height*this._viewport.scale),this._km._4k(new cs(this._km,"viewport",this._viewport)))}},_fv:null,_d8:function(t){var i=t.$data;if(!t._1c&&!i._6i&&!i._$r)return!1;var e=t.$invalidateSize;return e=b(this,fa,"_d8",arguments)||e},_ml5:function(t){var i=t.$data;i.__4o&&(i.__4o=!1,t._4o()),i.__6i&&i._ie()&&(t._5x(),i.__6i=!1),(t._1c||i._6i)&&(i._6i=!1,t.validate())},_fy:function(t,i){var e=t.ratio;t.scale(e,e),t.transform.apply(t,this._jr.m);for(var n=this.renderScale,r=[],o=0,s=i.length;s>o;o++){var h=i[o];h._jg(t,n),h._jx&&h._jx.length&&r.push(h)}if(r.length)for(o=0,s=r.length;s>o;o++)r[o]._ml7(t,n)},render:function(t,i){if(i.length){if(t.save(),Ro)try{this._fy(t,i)}catch(e){}else this._fy(t,i);t.restore()}},_g2:function(t,i,e){t.save(),t.translate(-e.x*i,-e.y*i),t.scale(i,i);var n,r,o=this._mc._jl.slice();o=this._hx(o);for(var s=[],h=0,a=o.length;a>h;h++)n=o[h],n.__hw&&(r=this._mns(n),e.intersectsRect(r.x,r.y,r.width,r.height)&&(n._jg(t,i),n._jx&&n._jx.length&&s.push(n)));if(s.length)for(h=0,a=s.length;a>h;h++)s[h]._ml7(t,i);t.restore()},_$y:function(){},_1g:function(){for(var t,i,e=this._mc._jl,n=new ts,r=e.length-1;r>=0;r--)t=e[r],t._hw&&(i=t.uiBounds,n.addRect(t.$x+i.x,t.$y+i.y,i.width,i.height));var o=this._8j;this._8j=n,n.equals(o)||this._$y(o,n)},_5d:function(){this._moz.length=0,this._8l={}},_lc:function(){this._kx()},_ic:function(){this._kx(),this._iced=!0,this._6i=!1,this._topCanvas.clear(),this._88.length=0,this._65&&(this._65._ic(),delete this._65)},_ld:function(t){return this._mc.getById(t.id||t)},_$h:function(t){return this._e3(t)},_ge:function(t,i){var e=this.toCanvas(t,i);return{x:e[0],y:e[1]}},_e3:function(t,i){var e=this.toLogical(t,i);return{x:e[0],y:e[1]}},_$j:null,_31:function(t){var i=t.source,e=t.data;if(e)if(this._mlm){var n,r;if(z(e))for(var o=0,s=e.length;s>o;o++)r=e[o].id,n=this._mc.getById(r),n&&(n.selected=i.containsById(r),n.invalidateRender());else{if(r=e.id,n=this._mc.getById(r),!n)return;n.selected=i.containsById(r),n.invalidateRender()}this._mot()}else{this._$j||(this._$j={});var n,r;if(z(e))for(var o=0,s=e.length;s>o;o++)r=e[o].id,this._$j[r]=!0;else r=e.id,this._$j[r]=!0}},_km:null,_db:function(t){var i=t.uiClass;return i?new i(t,this._km):void 0},_1e:function(t){if(!this._mlm)return!1;var i=t.source,e=t.kind;"enableSubNetwork"==e&&this._km.invalidateVisibility(),"uiClass"==e?(this._gj(i.id),this._kk(i)):"expanded"==e&&i._ie()&&t.value&&this._59(i);var n=this._mc.getById(i.id);n&&n._mlm&&n.onPropertyChange(t)&&this._mot()},_33:function(t){var i=this._ld(t);i&&(i.invalidateData(),this._mot())},_9s:function(t){if(!this._mlm)return!1;switch(t.kind){case Ts.KIND_ADD:this._kk(t.data);break;case Ts.KIND_REMOVE:this._hg(t.data);break;case Ts.KIND_CLEAR:this._i6(t.data)}},_kx:function(){this._mo0={},this._gg(),this.clear()},_mo0:null,_kk:function(t){var i=this._db(t);i&&(this._mc.add(i),this._mlm&&(this._mo0[t.id]=t),this._mot())},_hg:function(t){if(Array.isArray(t)){for(var i,e=[],n=0,r=t.length;r>n;n++)i=t[n].id,e.push(i),delete this._mo0[i];t=e}else t=t.id,delete this._mo0[t],t=[t];t.forEach(function(t){this._gj(t)},this),this._mot()},_i6:function(){this._kx()},_7m:function(t){return this._mlm?void(t.source instanceof Aa&&!this._mo0[t.source.id]&&(t.oldValue&&(this._33(t.oldValue),t.oldValue.__6i=!0),t.value&&(this._33(t.value),t.value.__6i=!0),this._59(t.source))):!1},_2v:function(t){return this._mlm?void(t.source instanceof Aa&&!this._mo0[t.source.id]&&this._59(t.source)):!1},_2t:function(t){if(t._edgeBundleInvalidateFlag){var i=t.getEdgeBundle(!0);if(!i)return t._edgeBundleInvalidateFlag=!1,void t.validateEdgeBundle();i._fp(this._km),i._mnb(function(t){t.validateEdgeBundle()})}},_$t:function(t){var i,e=(this._km,this._km.graphModel),n=this._mc,r=[],o=1;if(e.forEachByDepthFirst(function(t){return t instanceof Oa?(this._2t(t),void r.push(t)):(i=this._db(t),void(i&&(n.add(i),t.__l7=o++)))},this),n.length)for(var s=n._jl,o=s.length-1;o>=0;o--)i=s[o],this._3b(i,i.$data,t);for(var h,o=0,a=r.length;a>o;o++)if(h=r[o],i=this._db(h)){this._3b(i,h,t),n.add(i);var l=h.fromAgent,_=h.toAgent,u=l.__l7||0;l!=_&&(u=Math.max(u,_.__l7||0)),h.__l7=u}if(r.length&&n._jl.sort(function(t,i){return t.$data.__l7-i.$data.__l7}),this._$j){var c=e.selectionModel;for(var d in this._$j)if(c.containsById(d)){var i=n.getById(d);i&&(i.selected=!0)}this._$j=null}this._6s()},_mny:function(t,i){if(t)return this._$t();var e=this._motBoundsFlag;this._motBoundsFlag=!1;for(var n in this._mo0){var r=this._mo0[n];r instanceof Aa?this._59(r):this._57(r)}this._mo0={};for(var o,s,h=this._mc._jl,a=[],l=h.length-1;l>=0;l--)o=h[l],s=o.$data,s instanceof Oa?(this._2t(s),a.push(o)):this._3b(o,s,i)&&!e&&(e=!0);if(a.length)for(var l=0,_=a.length;_>l;l++)o=a[l],this._3b(o,o.$data,i)&&!e&&(e=!0);e&&this._6s()},_3b:function(t,i,e){if(i instanceof Oa)return i.__4o&&(i.__4o=!1,t._4o()),this._d8(t,e);if(i.__6i&&i._ie()&&(t._5x(),i.__6i=!1),this._d8(t,e)){var n=this._4f(i);return n&&(n.__6i=!0),i.hasEdge()&&i.forEachEdge(function(t){t.__4o=!0},this),!0}},_2s:function(t,i){var e=t.fromAgent,n=t.toAgent,r=i.getIndexById(e.id);if(e==n)return r;var o=i.getIndexById(n.id);return Math.max(r,o)},_2q:function(t,i){var e=this.graphModel._gv(t);return e?i.getIndexById(e.id):0},_59:function(t){var i=this._mc,e=i.getById(t.id);if(!e)throw new Error("UI '"+t.name+"' not found");var r=this._2q(t,i),o=[e];t.hasChildren()&&n(t,function(t){t instanceof Aa&&(e=i.getById(t.id),e&&o.push(e))},this),this._4c(i,r,o)},_57:function(t){var i=this._mc.getById(t.id);if(i){var e=this._2s(t,this._mc);this._mc.setIndexBefore(i,e)}},_4c:function(t,i,e){function n(t){r.add(t)}var r=new qo;if(f(e,function(e){i=t.setIndexAfter(e,i),e.$data.forEachEdge(n)},this),0!=r.length){r.forEach(this._57,this)}},_8d:function(t){return t.getEdgeBundle(!0)},_4f:function(t){var i=un(t);return i&&i.expanded?i:null},_63:null,_65:null,_3e:function(t,i){return i||t!=this._63?(this._63=t,this._65&&(this._65._ic(),delete this._65),t==ah.NAVIGATION_SCROLLBAR?void(this._65=new Xr(this,this._mnp)):t==ah.NAVIGATION_BUTTON?void(this._65=new qr(this,this._mnp)):void 0):!1},_2h:function(t,i){this._65&&this._65._jk(),this._km._4k(new cs(this._km,"transform",t,i))},_69:function(t,i){this._km._4k(new cs(this._km,"scale",t,i))},_3g:function(t,i){this._8jChanged={value:t,old:i}},_6c:function(){this._67()}});Object.defineProperties(fa.prototype,{_viewportBounds:{get:function(){return this.viewportBounds}},_scale:{get:function(){return this.scale},set:function(t){this._ho(t)}},_tx:{get:function(){return this.tx}},_ty:{get:function(){return this.ty}},graphModel:{get:function(){return this._km._kmModel}}});var va={};va.create=function(){return[1,0,0,1,0,0]},va.invert=function(t,i){var e=i[0],n=i[1],r=i[2],o=i[3],s=i[4],h=i[5],a=e*o-n*r;return a?(a=1/a,t[0]=o*a,t[1]=-n*a,t[2]=-r*a,t[3]=e*a,t[4]=(r*h-o*s)*a,t[5]=(n*s-e*h)*a,t):null},va.multiply=function(t,i,e){var n=i[0],r=i[1],o=i[2],s=i[3],h=i[4],a=i[5],l=e[0],_=e[1],u=e[2],c=e[3],d=e[4],f=e[5];return t[0]=n*l+o*_,t[1]=r*l+s*_,t[2]=n*u+o*c,t[3]=r*u+s*c,t[4]=n*d+o*f+h,t[5]=r*d+s*f+a,t},va.mul=va.multiply,va.rotate=function(t,i,e){var n=i[0],r=i[1],o=i[2],s=i[3],h=i[4],a=i[5],l=Math.sin(e),_=Math.cos(e);return t[0]=n*_+o*l,t[1]=r*_+s*l,t[2]=n*-l+o*_,t[3]=r*-l+s*_,t[4]=h,t[5]=a,t},va.scale=function(t,i,e){var n=i[0],r=i[1],o=i[2],s=i[3],h=i[4],a=i[5],l=e[0],_=e[1];return t[0]=n*l,t[1]=r*l,t[2]=o*_,t[3]=s*_,t[4]=h,t[5]=a,t},va.translate=function(t,i,e){var n=i[0],r=i[1],o=i[2],s=i[3],h=i[4],a=i[5],l=e[0],_=e[1];return t[0]=n,t[1]=r,t[2]=o,t[3]=s,t[4]=n*l+o*_+h,t[5]=r*l+s*_+a,t},va.transform=function(t,i){var e=i[0],n=i[1];return[e*t[0]+n*t[2]+t[4],e*t[1]+n*t[3]+t[5]]},va.reverseTransform=function(t,i){return va.transform(va.invert([],t),i)};var ga=Math.PI+Math.PI,Ea=k,ma=S({equals:function(t){if(!t||!Array.isArray(t))return!1;for(var i=this.m,e=0;e<i.length;){if(i[e]!=t[e])return!1;++e}return!0},constructor:function(t){this.m=t||va.create(),this.im=[]},listener:null,_6i:!0,invalidate:function(){return this._6i=!0,this._mnackM&&this.equals(this._mnackM)?!1:(this.listener&&this.listener({target:this,kind:"invalidate"}),this._mnackM=this.m.slice(),this)},validate:function(){return this._6i=!1,va.invert(this.im,this.m),this},translate:function(t,i){return Ea(t)&&(t=[arguments[0],arguments[1]],i=arguments[2]),i!==!1?(this.m[4]+=t[0],this.m[5]+=t[1],this.invalidate()):(va.translate(this.m,this.m,t),this.invalidate())},translateTo:function(t,i){return Ea(t)&&(t=[arguments[0],arguments[1]],i=arguments[2]),i&&(i/=this._hi(),va.scale(this.m,this.m,[i,i])),this.m[4]=t[0],this.m[5]=t[1],this.invalidate()},scale:function(t,i){return"number"==typeof t&&(t=[t,t]),i?(va.translate(this.m,this.m,i),va.scale(this.m,this.m,t),va.translate(this.m,this.m,Je(i))):va.scale(this.m,this.m,t),this.invalidate()},rotate:function(t,i){return i?(va.translate(this.m,this.m,i),va.rotate(this.m,this.m,t),va.translate(this.m,this.m,Je(i))):va.rotate(this.m,this.m,t),this.invalidate()},transform:function(t){return va.transform(this.m,t)},reverseTransform:function(t){return va.transform(this._4r(),t)},toString:function(){return"matrix("+this.m.join(",")+")"},_4r:function(){return this._6i&&this.validate(),this.im},_f6:function(){var t=this.m[0],i=this.m[1],e=this.m[2],n=this.m[3];return[Math.sqrt(t*t+e*e),Math.sqrt(i*i+n*n)]},_hi:function(){var t=this.m[0],i=this.m[2];return Math.sqrt(t*t+i*i)},_84:function(){return[this.m[4],this.m[5]]},_mor:function(){var t=this.m[0],i=this.m[1],e=this.m[2],n=this.m[3];return[Qe(Math.atan2(i,n)),Qe(Math.atan2(-e,t))]},_fa:function(){return Qe(Math.atan2(this.m[1],this.m[3]))}}),pa=S({constructor:function(){},x:0,y:0,width:0,height:0,rotate:0,set:function(t,i,e,n,r,o){return this.x=t,this.y=i,this.width=e,this.height=n,this.rotate=r,this._moos=Math.cos(r),this._sin=Math.sin(r),this.scale=o,this._globalBounds=null,this},_i3:function(t,i){return t-=this.x,i-=this.y,this.rotate?nn(t,i,this._sin,this._moos):[t,i]},_82:function(t){var i=new ts;return i.add(this._i3(t.x,t.y)),i.add(this._i3(t.x+t.width,t.y)),i.add(this._i3(t.x,t.y+t.height)),i.add(this._i3(t.x+t.width,t.y+t.height)),i},_hb:function(t,i){if(this.rotate){var e=nn(t,i,Math.sin(-this.rotate),Math.cos(-this.rotate));t=e[0],i=e[1]}return[this.x+t,this.y+i]},_4x:function(t,i){var e=this._i3(t,i);return t=e[0],i=e[1],t>=0&&i>=0&&t<=this.width&&i<=this.height},intersects:function(t,i,e,n){if(!this.rotate)return ts.intersects(this.x,this.y,this.width,this.height,t,i,e,n);if(!e||!n)return this._4x(t,i);var r=this.getGlobalBounds();if(!r.intersects(t,i,e,n))return!1;for(var o=r.points,s=0;s<o.length;){var h=o[s];if(ts.intersectsPoint(t,i,e,n,h[0],h[1]))return!0;s++}var a=[[t,i],[t+e,i],[t,i+n],[t+e,i+n]];for(s=0;s<a.length;){var h=a[s];if(this._4x(h[0],h[1]))return!0;s++}return en(o,a)},getGlobalBounds:function(){return this._globalBounds||(this._globalBounds=this._77(0,0,this.width,this.height)),this._globalBounds},_77:function(t,i,e,n){if(!this.rotate)return new ts(this.x+t,this.y+i,e,n);var r=[],o=new ts,s=this._hb(t,i);return r.push(s),o.add(s[0],s[1]),s=this._hb(t+e,i),r.push(s),o.add(s[0],s[1]),s=this._hb(t,i+n),r.push(s),o.add(s[0],s[1]),s=this._hb(t+e,i+n),r.push(s),o.add(s[0],s[1]),o.points=r,o},_4v:function(t,i,e,n,r){var o;if(this.rotate){var s=this._hb(t,i);o=(new pa).set(s[0],s[1],e,n,this.rotate,this.scale)}else o=(new pa).set(this.x+t,this.y+i,e,n,0,this.scale);return o.canvasBounds=[Math.round(r*t),Math.round(r*i),Math.round(r*e),Math.round(r*n)],o},_3r:function(t,i,e,n){if(!this.rotate){var r=ts.intersection(this.x,this.y,this.width,this.height,t,i,e,n);return r&&r.offset(-this.x,-this.y),r}var o=this._i3(t,i);return t=o[0],i=o[1],ts.intersection(0,0,this.width,this.height,o[0],o[1],e,n)},equals:function(t){return this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height&&this.rotate==t.rotate},toString:function(){return this.x+","+this.y+","+this.width+","+this.height+","+this.rotate},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height,rotate:this.rotate,scale:this.scale}}}),ya={setStyle:gi,setStyles:fi,addRule:Ei,pre:Ss},Ta=function(t,i,e,n){this.source=t,this.kind=i,this.oldValue=n,this.value=e,this.propertyType=ah.PROPERTY_TYPE_STYLE};w(Ta,cs);var wa=function(t){this.id=++So,this._mof={},this._jf={},t&&(this.$name=t)};wa.prototype={_jf:null,getStyle:function(t){return this._jf[t]},setStyle:function(t,i){var e=this._jf[t];return e===i||e&&i&&e.equals&&e.equals(i)?!1:this._mlo(t,i,new Ta(this,t,i,e),this._jf)},putStyles:function(t,i){for(var e in t){var n=t[e];i?this._jf[e]=n:this.setStyle(e,n)}},_$r:!0,invalidateVisibility:function(t){this._$r=!0,t||(this instanceof Aa&&this.hasEdge()&&this.forEachEdge(function(t){t._$r=!0}),this._ie()&&this.hasChildren()&&this.forEachChild(function(t){t.invalidateVisibility()}))},onParentChanged:function(){this.invalidateVisibility()},_ie:function(){return!this._47&&this instanceof xa},invalidate:function(){this.onEvent(new us(this,"ui","invalidate"))},_moh:null,addUI:function(t,i){if(this._moh||(this._moh=new qo),t.id||(t.id=++So),this._moh.containsById(t.id))return!1;var e={id:t.id,ui:t,bindingProperties:i};this._moh.add(e);var n=new us(this,"ui","add",e);return this.onEvent(n)},removeUI:function(t){if(!this._moh)return!1;var i=this._moh.getById(t.id);return i?(this._moh.remove(i),void this.onEvent(new us(this,"ui","remove",i))):!1},toString:function(){return this.$name||this.id},type:"Q.Element",_47:!1,_hw:!0},w(wa,ws),C(wa.prototype,["uiClass","name","zIndex","tooltip"]),Z(wa.prototype,{enableSubNetwork:{get:function(){return this._47},set:function(t){if(this._47!=t){var i=this._47;this._47=t,this instanceof Aa&&this._$z(),this.onEvent(new cs(this,"enableSubNetwork",t,i))}}},bindingUIs:{get:function(){return this._moh}},styles:{get:function(){return this._jf},set:function(t){if(this._jf!=t){for(var i in this._jf)i in t||(t[i]=e);this.putStyles(t),this._jf=t}}}});var Oa=function(t,i,e){this.id=++So,this._mof={},this._jf={},e&&(this.$name=e),this.$from=t,this.$to=i,this.connect()};Oa.prototype={$uiClass:ir,_k7:null,_ip:null,_k9:null,_it:null,_ff:!1,type:"Q.Edge",otherNode:function(t){return t==this.from?this.to:t==this.to?this.from:void 0},connect:function(){if(this._ff)return!1;if(!this.$from||!this.$to)return!1;if(this._ff=!0,this.$from==this.$to)return void this.$from._ii(this);pn(this.$to,this),En(this.$from,this),on(this.$from,this,this.$to);var t=this.fromAgent,i=this.toAgent;if(t!=i){var e;this.$from._e9&&(hn(t,this,i),e=!0),this.$to._e9&&(ln(i,this,t),e=!0),e&&on(t,this,i)}},disconnect:function(){if(!this._ff)return!1;if(this._ff=!1,this.$from==this.$to)return void this.$from._mo8(this);mn(this.$from,this),yn(this.$to,this),sn(this.$from,this,this.$to);var t=this.fromAgent,i=this.toAgent;if(t!=i){var e;this.$from._e9&&(an(t,this,i),e=!0),this.$to._e9&&(_n(i,this,t),e=!0),e&&sn(t,this,i)}},isConnected:function(){return this._ff},isInvalid:function(){return!this.$from||!this.$to},isLooped:function(){return this.$from==this.$to},getEdgeBundle:function(t){return t?this._2d():this.isLooped()?this.$from._40:this.$from.getEdgeBundle(this.$to)},hasEdgeBundle:function(){var t=this.getEdgeBundle(!0);return t&&t.edges.length>1},_2d:function(){var t=this.fromAgent,i=this.toAgent;return t==i?this.$from._e9||this.$to._e9?null:this.$from._40:this.fromAgent.getEdgeBundle(this.toAgent)},_9t:null,hasPathSegments:function(){return this._9t&&!this._9t.isEmpty()},isBundleEnabled:function(){return this.bundleEnabled&&!this.hasPathSegments()},firePathChange:function(t){this.onEvent(new cs(this,"path.segment",t))},addPathSegment:function(t,i,e){var n=new Yh(i||Gh,t);this._9t||(this._9t=new qo),this._9t.add(n,e),this.firePathChange(n)},addPathSegement:function(){return hh.log('change "edge.addPathSegement(...)" to "edge.addPathSegment(...)"'),this.addPathSegment.apply(this,arguments)},removePathSegmentByIndex:function(t){if(!this._9t)return!1;var i=this._9t.getByIndex(t);i&&(this._9t.remove(i),this.firePathChange(i))},removePathSegment:function(t){return this._9t?(this._9t.remove(t),void this.firePathChange(t)):!1},movePathSegment:function(t,i,e){if(!this._9t)return!1;if(t=t||0,i=i||0,hh.isNumber(e)){var n=this._9t.getByIndex(e);return n?(n.move(t,i),void this.firePathChange()):!1}f(function(e){e.move(t,i)}),this.firePathChange()},move:function(t,i){return this._9t?(this._9t.forEach(function(e){e.move(t,i)},this),void this.firePathChange()):!1},validateEdgeBundle:function(){}},w(Oa,wa),Z(Oa.prototype,{pathSegments:{get:function(){return this._9t},set:function(t){hh.isArray(t)&&(t=new qo(t)),this._9t=t,this.firePathChange()}},from:{get:function(){return this.$from},set:function(t){if(this.$from!=t){var i=new cs(this,"from",t,this.$from);this.beforeEvent(i)!==!1&&(this.disconnect(),this.$from=t,this.connect(),this.onEvent(i))}}},to:{get:function(){return this.$to},set:function(t){if(this.$to!=t){var i=new cs(this,"to",t,this.$to);this.beforeEvent(i)!==!1&&(this.disconnect(),this.$to=t,this.connect(),this.onEvent(i))}}},fromAgent:{get:function(){return this.$from?this.$from._e9||this.$from:null}},toAgent:{get:function(){return this.$to?this.$to._e9||this.$to:null}}}),C(Oa.prototype,["edgeType",{name:"bundleEnabled",value:!0},"angle"]);var Aa=function(t,i,e){2==arguments.length&&k(t)&&(e=i,i=t,t=null),this.id=++So,this._mof={},this._jf={},t&&(this.$name=t),this.$image="Q-node",this.$anchorPosition=es.CENTER_MIDDLE,this.$location={x:i||0,y:e||0},this._linkedNodes={}};Aa.prototype={$uiClass:er,_e9:null,forEachEdge:function(t,i,e){return!e&&this._ko&&this._ko.forEach(t,i)===!1?!1:wn(this,t,i)},forEachOutEdge:function(t,i){return On(this,t,i)},forEachInEdge:function(t,i){return An(this,t,i)},getEdges:function(){var t=[];return this.forEachEdge(function(i){t.push(i)}),t},_im:null,_fo:null,_jn:null,_ia:null,_mlv:0,_93:0,hasInEdge:function(){return null!=this._im},hasOutEdge:function(){return null!=this._fo},hasEdge:function(){return null!=this._im||null!=this._fo||this.hasLoops()},linkedWith:function(t){return t.from==this||t.to==this||t.fromAgent==this||t.toAgent==this},hasEdgeWith:function(t){var i=this.getEdgeBundle(t);return i&&i.edges.length>0},_ko:null,_40:null,hasLoops:function(){return this._ko&&this._ko.length>0},_ii:function(t){return this._ko||(this._ko=new qo,this._40=new Wl(this,this,this._ko)),this._40._iw(t)},_mo8:function(t){return this._40?this._40._d9(t):void 0},getEdgeBundle:function(t){return t==this?this._40:this._linkedNodes[t.id]||t._linkedNodes[this.id]},_7f:function(){return this._9f&&this._9f.length},_5g:function(){return this._7w&&this._7w.length},_9b:function(){return this._7f()||this._5g()},_7w:null,_9f:null,_mo6:function(){var t=this._e9,i=rn(this);if(t!=i){var e=Tn(this);this._9m(i),e.forEach(function(t){var i=t.fromAgent,e=t.toAgent,t=t.edge,n=t.$from._e9,r=t.$to._e9;i!=e&&(i&&an(i,t,e||t.$to),e&&_n(e,t,i||t.$from)),n!=r&&(n&&hn(n,t,r||t.$to),r&&ln(r,t,n||t.$from),on(n||t.$from,t,r||t.$to))},this)}},onParentChanged:function(){this.invalidateVisibility(),this._mo6()},_7u:null,_$z:function(){var t;if(this._47?t=null:(t=this._e9,t||this._gh!==!1||(t=this)),this._7u==t)return!1;if(this._7u=t,this._g0&&this._g0._jl.length)for(var i,e=this._g0._jl,n=0,r=e.length;r>n;n++)i=e[n],i instanceof Aa&&i._9m(t)},setLocation:function(t,i){if(this.$location&&this.$location.x==t&&this.$location.y==i)return!1;var e;e=this.$location?{x:this.$location.x,y:this.$location.y}:this.$location;var n=new cs(this,"location",e,{x:t,y:i});return this.beforeEvent(n)===!1?!1:(this.$location?(this.$location.x=t,this.$location.y=i):this.$location=new Ko(t,i),this.onEvent(n),!0)},_e5:null,addFollower:function(t){return null==t?!1:t.host=this},removeFollower:function(t){return this._e5&&this._e5.contains(t)?t.host=null:!1},hasFollowers:function(){return this._e5&&!this._e5.isEmpty()},toFollowers:function(){return this.hasFollowers()?this._e5.toDatas():null},clearFollowers:function(){if(this.hasFollowers()){{this.toFollowers()}f(this.toFollowers(),function(t){t.host=null})}},getFollowerIndex:function(t){return this._e5&&this._e5.contains(t)?this._e5.indexOf(t):-1},setFollowerIndex:function(t,i){return this._e5&&this._e5.contains(t)?void this._e5.setIndex(t,i):-1},getFollowerCount:function(){return this._e5?this._e5.length:0},_9l:function(){return this._e5?this._e5:(this._e5=new qo,this._e5)},isFollow:function(t){if(!t||!this._host)return!1;for(var i=this._host;i;){if(i==t)return!0;i=i._host}return!1},_9m:function(t){return t==this._e9?!1:(this._e9=t,this.invalidateVisibility(),void this._$z())},type:"Q.Node"},w(Aa,wa),Z(Aa.prototype,{loops:{get:function(){return this._ko}},edgeCount:{get:function(){return this._mlv+this._93}},agentNode:{get:function(){return this._e9||this}},host:{set:function(t){if(this==t||t==this._host)return!1;var i=new cs(this,"host",this._host,t);if(!1===this.beforeEvent(i))return!1;var e=null,n=null,r=this._host;if(null!=t&&(e=new cs(t,"follower.add",null,this),!1===t.beforeEvent(e)))return!1;if(null!=r&&(n=new cs(r,"follower.remove",null,this),!1===r.beforeEvent(n)))return!1;if(this._host=t,null!=t){var o=t._9l();o.add(this)}if(null!=r){var o=r._9l();o.remove(this)}return this.onEvent(i),null!=t&&t.onEvent(e),null!=r&&r.onEvent(n),!0},get:function(){return this._host}}}),C(Aa.prototype,["location","size","image","rotate","anchorPosition"]),Z(Aa.prototype,{x:{get:function(){return this.location.x},set:function(t){t!=this.location.x&&(this.location=new Ko(t,this.location.y))}},y:{get:function(){return this.location.y},set:function(t){t!=this.location.y&&(this.location=new Ko(this.location.x,t))}}});var ba=function(t,i){t instanceof Uh&&(i=t,t=e),O(this,ba,[t]),this.path=i||new Uh,this.anchorPosition=null,this.uiClass=Vr,Wo.SHAPENODE_STYLES||(Wo.SHAPENODE_STYLES={},Wo.SHAPENODE_STYLES[Ca.ARROW_TO]=!1),this.putStyles(Wo.SHAPENODE_STYLES)};ba.prototype={$uiClass:Vr,type:"Q.ShapeNode",moveTo:function(t,i){this.path.moveTo(t,i),this.firePathChange()},lineTo:function(t,i){this.path.lineTo(t,i),this.firePathChange()},quadTo:function(t,i,e,n){this.path.quadTo(t,i,e,n),this.firePathChange()},curveTo:function(t,i,e,n,r,o){this.path.curveTo(t,i,e,n,r,o),this.firePathChange()},arcTo:function(t,i,e,n,r){this.path.arcTo(t,i,e,n,r),this.firePathChange()},closePath:function(){this.path.closePath(),this.firePathChange()},clear:function(){this.path.clear(),this.firePathChange()},removePathSegmentByIndex:function(t){this.path.removePathSegment(t)!==!1&&this.firePathChange()},firePathChange:function(){this.path._6i=!0,this.onEvent(new cs(this,"path.segment"))}},w(ba,Aa),Z(ba.prototype,{path:{get:function(){return this.image},set:function(t){this.image=t}},pathSegments:{get:function(){return this.path.segments},set:function(t){this.path.segments=t||[],this.firePathChange()}},length:{get:function(){return this.path.length}}}),hh.ShapeNode=ba;var La={_js:{},register:function(t,i){La._js[t]=i},getShape:function(t,i,n,r,o,s){r===e&&(r=i,o=n,i=0,n=0),r||(r=50),o||(o=50);var h=La._js[t];return h?h.generator instanceof Function?h.generator(i,n,r,o,s):h:void 0},getRect:function(t,i,e,n,r,o,s){return t instanceof Object&&"width"in t&&(i=t.y,e=t.width,n=t.height,r=t.rx,o=t.ry,s=t.path,t=t.x),bn(s||new Uh,t,i,e,n,r,o)},getAllShapes:function(t,i,e,n,r){var o={};for(var s in La._js){var h=La.getShape(s,t,i,e,n,r);h&&(o[s]=h)}return o},createRegularShape:function(t,i,e,n,r){return Dn(t,i,e,n,r)}};Un(),Wn.prototype={type:"Q.Bus"},w(Wn,ba),hh.Bus=Wn,qn.prototype={_gv:function(t){var i,e=t._jw;i=e?e._g0:this.$roots;var n=i.indexOf(t);if(0>n)throw new Error("data '"+t+"' not exist in the box");for(;n>=0;){if(0==n)return e instanceof Aa?e:null;n-=1;var o=i.getByIndex(n);if(o=r(o))return o}return null},forEachNode:function(t,i){this.forEach(function(e){return e instanceof Aa&&t.call(i,e)===!1?!1:void 0})},_3q:null},w(qn,As),Z(qn.prototype,{propertyChangeDispatcher:{get:function(){return this._$v}},currentSubNetwork:{get:function(){return this._3q},set:function(t){if(t&&!t.enableSubNetwork&&(t=null),this._3q!=t){var i=this._3q;this._3q=t,this._$v.onEvent(new cs(this,"currentSubNetwork",t,i))}}}}),Wo.GROUP_TYPE=ah.GROUP_TYPE_RECT,Wo.GROUP_PADDING=5,Wo.GROUP_EXPANDED=!0,Wo.GROUP_MIN_SIZE={width:60,height:60};var xa=function(t,i,n){O(this,xa,arguments),(i===e||n===e)&&(this.$location.invalidateFlag=!0),this.$groupType=Wo.GROUP_TYPE,this.$padding=Wo.GROUP_PADDING,this.$image=Xh.group,this.$minSize=Wo.GROUP_MIN_SIZE,this.expanded=Wo.GROUP_EXPANDED};xa.prototype={type:"Q.Group",$uiClass:Hr,_ml6:function(){return!this._gh&&!this._e9},forEachOutEdge:function(t,i,e){if(On(this,t,i)===!1)return!1;if(!e&&this._ml6())return this._7w?this._7w.forEach(t,i):void 0},forEachInEdge:function(t,i,e){if(An(this,t,i)===!1)return!1;if(!e&&this._ml6())return this._9f?this._9f.forEach(t,i):void 0},forEachEdge:function(t,i,e){if(A(this,xa,"forEachEdge",arguments)===!1)return!1;if(!e&&!e&&this._ml6())return this._9f&&this._9f.forEach(t,i)===!1?!1:this._7w?this._7w.forEach(t,i):void 0
},hasInEdge:function(t){return t?null!=this._im:null!=this._im||this._7f()},hasOutEdge:function(t){return t?null!=this._fo:null!=this._fo||this._5g()},hasEdge:function(t){return t?null!=this._im||null!=this._fo:null!=this._im||null!=this._fo||this._9b()}},w(xa,Aa),Z(xa.prototype,{expanded:{get:function(){return this._gh},set:function(t){if(this._gh!=t){var i=new cs(this,"expanded",t,this._gh);this.beforeEvent(i)!==!1&&(this._gh=t,this._$z(),this.onEvent(i),this._e9||Xn.call(this))}}}}),C(xa.prototype,["minSize","groupType","padding","groupImage"]),hh.Group=xa,Vn.prototype.type="Q.Text",w(Vn,Aa),hh.Text=Vn;var Sa=function(t){this._jo=new ts,this._7y=new ts,this._g6=new ts,this.id=++So,t&&(this.data=t)};Sa.prototype={invalidate:function(){this.invalidateData()},_1c:!0,_jo:null,_7y:null,_g6:null,_mlm:!1,_ju:1,_jv:1,_hw:!0,_80:0,_6l:0,_jw:null,_mlj:null,borderColor:"#444",borderLineDash:null,borderLineDashOffset:null,syncSelection:!0,syncSelectionStyles:!0,_15:function(){this.$anchorPoint=li(this.anchorPosition,this._80,this._6l)},setMeasuredBounds:function(t,i,e,n){return t instanceof Object&&(e=t.x,n=t.y,i=t.height,t=t.width),this._jo.width==t&&this._jo.height==i&&this._jo.x==e&&this._jo.y==n?!1:void this._jo.set(e||0,n||0,t||0,i||0)},initialize:function(){},measure:function(){},draw:function(){},_7t:function(t,i,e){e.selectionType==ah.SELECTION_TYPE_SHADOW?(t.shadowColor=e.selectionColor,t.shadowBlur=e.selectionShadowBlur*i,t.shadowOffsetX=(e.selectionShadowOffsetX||0)*i,t.shadowOffsetY=(e.selectionShadowOffsetY||0)*i):this._1s(t,i,e)},_1s:function(t,i,e){var n=e.selectionBorder||0;e.selectionBackgroundColor&&(t.fillStyle=e.selectionBackgroundColor,t.fillRect(this._7y.x-n/2,this._7y.y-n/2,this._7y.width+n,this._7y.height+n)),t.strokeStyle=e.selectionColor,t.lineWidth=n,t.strokeRect(this._7y.x-n/2,this._7y.y-n/2,this._7y.width+n,this._7y.height+n)},_jg:function(t,i,e,n){if(!this._hw)return!1;if(this.syncSelection||(e=this.selected),(e&&!this.syncSelectionStyles||!n)&&(n=this),t.save(),1!=this.$alpha&&(t.globalAlpha=this.$alpha),t.translate(this.$x,this.$y),this.$rotatable&&this.$_hostRotate&&t.rotate(this.$_hostRotate),(this.offsetX||this.offsetY)&&t.translate(this.offsetX,this.offsetY),this.$rotate&&t.rotate(this.$rotate),this.$layoutByAnchorPoint&&this._mlj&&t.translate(-this._mlj.x,-this._mlj.y),this.shadowColor&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur*i,t.shadowOffsetX=this.shadowOffsetX*i,t.shadowOffsetY=this.shadowOffsetY*i),e&&n.selectionType==ah.SELECTION_TYPE_BORDER_RECT&&(this._1s(t,i,n),e=!1),this._$u()&&this._liShape&&!this._liShape._empty){this._liShape.validate();var r={lineWidth:this.$border,strokeStyle:this.borderColor,lineDash:this.borderLineDash,lineDashOffset:this.borderLineDashOffset,fillColor:this.$backgroundColor,fillGradient:this._mnackgroundGradient,lineCap:"butt",lineJoin:"round"};this._liShape.draw(t,i,r,e,n),e=!1,t.shadowColor="rgba(0,0,0,0)"}t.beginPath(),this.draw(t,i,e,n),t.restore()},invalidateData:function(){this.$invalidateData=!0,this.$invalidateSize=!0,this._1c=!0},invalidateSize:function(){this.$invalidateSize=!0,this._1c=!0},invalidateRender:function(){this._1c=!0},_4y:function(){},_$u:function(){return this.$backgroundColor||this.$backgroundGradient||this.$border},_41:function(){return this.$backgroundColor||this.$backgroundGradient},doValidate:function(){return this.$invalidateData&&(this.$invalidateData=!1,this.measure()!==!1&&(this.$invalidateSize=!0)),this.$invalidateSize&&this.validateSize&&this.validateSize(),$e.call(this)?(this.$invalidateRotate=!0,this.onBoundsChanged&&this.onBoundsChanged(),!0):this.$invalidateLocation?(this.$invalidateRotate=!0,this.$invalidateLocation=!1,!0):void 0},validate:function(){var t=this._hw;return this.$invalidateVisibility&&(this.$invalidateVisibility=!1,this._hw=this.$visible,!this._hw||(this.$data||this.$showEmpty)&&this._4y()!==!1||(this._hw=!1)),this._hw?(this._1c=!1,this._mlm||(this.initialize(),this._mlm=!0),this.doValidate()):t!=this._hw},_i3:function(t,i){return t-=this.$x,i-=this.$y,Fe.call(this,{x:t,y:i})},hitTest:function(t,i,e,n){if(t-=this.$x,i-=this.$y,!this._g6.intersectsPoint(t,i,e))return!1;var r=Fe.call(this,{x:t,y:i});return t=r.x,i=r.y,!n&&this._$u()&&this._liShape&&this._liShape.hitTest(t,i,e,!1,this.$border,this.$backgroundColor||this.$backgroundGradient)?!0:this.doHitTest(t,i,e)},doHitTest:function(t,i,e){return this._jo.intersectsPoint(t,i,e)},hitTestByBounds:function(t,i,e,n){var r=this._i3(t,i);return!n&&this._$u()&&this._liShape&&this._liShape.hitTest(t,i,e,!1,this.$border,this.$backgroundColor||this.$backgroundGradient)?!0:this._jo.intersectsPoint(r.x,r.y,e)},onDataChanged:function(){this.$invalidateData=!0,this._1c=!0,this.$invalidateVisibility=!0},getBounds:function(){var t=this._g6.clone();return t.offset(this.x,this.y),this.parent&&(this.parent.rotate&&Si(t,this.parent.rotate,t),t.offset(this.parent.x||0,this.parent.y||0)),t},destroy:function(){this._iced=!0},_dq:!1},Z(Sa.prototype,{originalBounds:{get:function(){return this._jo}},data:{get:function(){return this.$data},set:function(t){if(this.$data!=t){var i=this.$data;this.$data=t,this.onDataChanged(t,i)}}},parent:{get:function(){return this._jw}},showOnTop:{get:function(){return this._dq},set:function(t){t!=this._dq&&(this._dq=t,this._1c=!0,this._jw&&this._jw._mlg&&this._jw._mlg(this))}}}),Zn(Sa.prototype,{visible:{value:!0,validateFlags:["Visibility","Location"]},showEmpty:{validateFlags:["Visibility"]},anchorPosition:{value:es.CENTER_MIDDLE,validateFlags:["AnchorPoint","Location"]},position:{value:es.CENTER_MIDDLE,validateFlags:["Location"]},offsetX:{value:0,validateFlags:["Location"]},offsetY:{value:0,validateFlags:["Location"]},layoutByAnchorPoint:{value:!0,validateFlags:["Size","AnchorPoint","Location"]},padding:{value:0,validateFlags:["Size"]},border:{value:0,validateFlags:["Size"]},borderRadius:{value:Wo.BORDER_RADIUS},showPointer:{value:!1,validateFlags:["Size"]},pointerX:{value:0,validateFlags:["Size"]},pointerY:{value:0,validateFlags:["Size"]},pointerWidth:{value:Wo.POINTER_WIDTH},backgroundColor:{validateFlags:["Size"]},backgroundGradient:{validateFlags:["Size","BackgroundGradient"]},selected:{value:!1,validateFlags:["Size"]},selectionBorder:{value:Wo.SELECTION_BORDER,validateFlags:["Size"]},selectionShadowBlur:{value:Wo.SELECTION_SHADOW_BLUR,validateFlags:["Size"]},selectionColor:{value:Wo.SELECTION_COLOR,validateFlags:["Size"]},selectionType:{value:Wo.SELECTION_TYPE,validateFlags:["Size"]},selectionShadowOffsetX:{value:0,validateFlags:["Size"]},selectionShadowOffsetY:{value:0,validateFlags:["Size"]},shadowBlur:{value:0,validateFlags:["Size"]},shadowColor:{validateFlags:["Size"]},shadowOffsetX:{value:0,validateFlags:["Size"]},shadowOffsetY:{value:0,validateFlags:["Size"]},renderColorBlendMode:{},renderColor:{},x:{value:0,validateFlags:["Location"]},y:{value:0,validateFlags:["Location"]},rotatable:{value:!0,validateFlags:["Rotate","Size"]},rotate:{value:0,validateFlags:["Rotate","Size"]},_hostRotate:{validateFlags:["Rotate"]},lineWidth:{value:0,validateFlags:["Data"]},alpha:{value:1}});var Ia=[ah.PROPERTY_TYPE_ACCESSOR,ah.PROPERTY_TYPE_STYLE,ah.PROPERTY_TYPE_CLIENT];Qn.prototype={removeBinding:function(t){for(var i=Ia.length;--i>=0;){var e=Ia[i],n=this[e];for(var r in n){var o=n[r];Array.isArray(o)?(v(o,function(i){return i.target==t},this),o.length||delete n[r]):o.target==t&&delete n[r]}}},_1v:function(t,i,e){if(!e&&(e=this[i.propertyType||ah.PROPERTY_TYPE_ACCESSOR],!e))return!1;var n=e[t];n?(Array.isArray(n)||(e[t]=n=[n]),n.push(i)):e[t]=i},_2e:function(t,i,e,n,r,o){t=t||ah.PROPERTY_TYPE_ACCESSOR;var s=this[t];if(!s)return!1;var h={property:i,propertyType:t,bindingProperty:n,target:e,callback:r,invalidateSize:o};this._1v(i,h,s)},onBindingPropertyChange:function(t,i,e,n){var r=this[e||ah.PROPERTY_TYPE_ACCESSOR];if(!r)return!1;var o=r[i];return o?(t._1c=!0,Jn(t,o,e,n),!0):!1},initBindingProperties:function(t,i){for(var n=Ia.length;--n>=0;){var r=Ia[n],o=this[r];for(var s in o){var h=o[s];if(h.bindingProperty){var a=h.target;if(a){if(!(a instanceof Sa||(a=t[a])))continue}else a=t;var l;l=i===!1?t.getProperty(h.property,r):r==ah.PROPERTY_TYPE_STYLE?t.graph.getStyle(t.$data,h.property):t.$data[h.property],l!==e&&(a[h.bindingProperty]=l)}}}}};var Ca={};Ca.SELECTION_COLOR="selection.color",Ca.SELECTION_BORDER="selection.border",Ca.SELECTION_SHADOW_BLUR="selection.shadow.blur",Ca.SELECTION_SHADOW_OFFSET_X="selection.shadow.offset.x",Ca.SELECTION_SHADOW_OFFSET_Y="selection.shadow.offset.y",Ca.SELECTION_TYPE="selection.type",Ca.RENDER_COLOR="render.color",Ca.RENDER_COLOR_BLEND_MODE="render.color.blend.mode",Ca.ALPHA="alpha",Ca.SHADOW_BLUR="shadow.blur",Ca.SHADOW_COLOR="shadow.color",Ca.SHADOW_OFFSET_X="shadow.offset.x",Ca.SHADOW_OFFSET_Y="shadow.offset.y",Ca.SHAPE_STROKE="shape.stroke",Ca.SHAPE_STROKE_STYLE="shape.stroke.style",Ca.SHAPE_LINE_DASH="shape.line.dash",Ca.SHAPE_LINE_DASH_OFFSET="shape.line.dash.offset",Ca.SHAPE_FILL_COLOR="shape.fill.color",Ca.SHAPE_FILL_GRADIENT="shape.fill.gradient",Ca.SHAPE_OUTLINE="shape.outline",Ca.SHAPE_OUTLINE_STYLE="shape.outline.style",Ca.LINE_CAP="line.cap",Ca.LINE_JOIN="line.join",Ca.LAYOUT_BY_PATH="layout.by.path",Ca.BACKGROUND_COLOR="background.color",Ca.BACKGROUND_GRADIENT="background.gradient",Ca.BORDER="border.width",Ca.BORDER_COLOR="border.color",Ca.BORDER_LINE_DASH="border.line.dash",Ca.BORDER_LINE_DASH_OFFSET="border.line.dash.offset",Ca.BORDER_RADIUS="border.radius",Ca.PADDING="padding",Ca.IMAGE_BACKGROUND_COLOR="image.background.color",Ca.IMAGE_BACKGROUND_GRADIENT="image.background.gradient",Ca.IMAGE_BORDER="image.border.width",Ca.IMAGE_BORDER_STYLE=Ca.IMAGE_BORDER_COLOR="image.border.style",Ca.IMAGE_BORDER_LINE_DASH="image.border.line.dash",Ca.IMAGE_BORDER_LINE_DASH_OFFSET="image.border.line.dash.offset",Ca.IMAGE_RADIUS=Ca.IMAGE_BORDER_RADIUS="image.radius",Ca.IMAGE_PADDING="image.padding",Ca.IMAGE_Z_INDEX="image.z.index",Ca.IMAGE_ADJUST="image.adjust",Ca.IMAGE_ALPHA="image.alpha",Ca.LABEL_ROTATE="label.rotate",Ca.LABEL_POSITION="label.position",Ca.LABEL_VISIBLE="label.visible",Ca.LABEL_ANCHOR_POSITION="label.anchor.position",Ca.LABEL_COLOR="label.color",Ca.LABEL_FONT_SIZE="label.font.size",Ca.LABEL_FONT_FAMILY="label.font.family",Ca.LABEL_FONT_STYLE="label.font.style",Ca.LABEL_PADDING="label.padding",Ca.LABEL_POINTER_WIDTH="label.pointer.width",Ca.LABEL_POINTER="label.pointer",Ca.LABEL_RADIUS="label.radius",Ca.LABEL_OFFSET_X="label.offset.x",Ca.LABEL_OFFSET_Y="label.offset.y",Ca.LABEL_SIZE="label.size",Ca.LABEL_ALIGN_POSITION="label.align.position",Ca.LABEL_BORDER="label.border",Ca.LABEL_BORDER_STYLE="label.border.style",Ca.LABEL_BACKGROUND_COLOR="label.background.color",Ca.LABEL_BACKGROUND_GRADIENT="label.background.gradient",Ca.LABEL_ROTATABLE="label.rotatable",Ca.LABEL_SHADOW_BLUR="label.shadow.blur",Ca.LABEL_SHADOW_COLOR="label.shadow.color",Ca.LABEL_SHADOW_OFFSET_X="label.shadow.offset.x",Ca.LABEL_SHADOW_OFFSET_Y="label.shadow.offset.y",Ca.LABEL_Z_INDEX="label.z.index",Ca.LABEL_ON_TOP="label.on.top",Ca.GROUP_BACKGROUND_COLOR="group.background.color",Ca.GROUP_BACKGROUND_GRADIENT="group.background.gradient",Ca.GROUP_STROKE="group.stroke",Ca.GROUP_STROKE_STYLE="group.stroke.color",Ca.GROUP_STROKE_LINE_DASH="group.stroke.line.dash",Ca.GROUP_STROKE_LINE_DASH_OFFSET="group.stroke.line.dash.offset",Ca.EDGE_BUNDLE_LABEL_ROTATE="edge.bundle.label.rotate",Ca.EDGE_BUNDLE_LABEL_POSITION="edge.bundle.label.position",Ca.EDGE_BUNDLE_LABEL_ANCHOR_POSITION="edge.bundle.label.anchor.position",Ca.EDGE_BUNDLE_LABEL_COLOR="edge.bundle.label.color",Ca.EDGE_BUNDLE_LABEL_FONT_SIZE="edge.bundle.label.font.size",Ca.EDGE_BUNDLE_LABEL_FONT_FAMILY="edge.bundle.label.font.family",Ca.EDGE_BUNDLE_LABEL_FONT_STYLE="edge.bundle.label.font.style",Ca.EDGE_BUNDLE_LABEL_PADDING="edge.bundle.label.padding",Ca.EDGE_BUNDLE_LABEL_POINTER_WIDTH="edge.bundle.label.pointer.width",Ca.EDGE_BUNDLE_LABEL_POINTER="edge.bundle.label.pointer",Ca.EDGE_BUNDLE_LABEL_RADIUS="edge.bundle.label.radius",Ca.EDGE_BUNDLE_LABEL_OFFSET_X="edge.bundle.label.offset.x",Ca.EDGE_BUNDLE_LABEL_OFFSET_Y="edge.bundle.label.offset.y",Ca.EDGE_BUNDLE_LABEL_BORDER="edge.bundle.label.border",Ca.EDGE_BUNDLE_LABEL_BORDER_STYLE="edge.bundle.label.border.color",Ca.EDGE_BUNDLE_LABEL_BACKGROUND_COLOR="edge.bundle.label.background.color",Ca.EDGE_BUNDLE_LABEL_BACKGROUND_GRADIENT="edge.bundle.label.background.gradient",Ca.EDGE_BUNDLE_LABEL_ROTATABLE="edge.bundle.label.rotatable",Ca.EDGE_WIDTH="edge.width",Ca.EDGE_COLOR="edge.color",Ca.EDGE_OUTLINE="edge.outline",Ca.EDGE_OUTLINE_STYLE="edge.outline.style",Ca.EDGE_LINE_DASH="edge.line.dash",Ca.EDGE_LINE_DASH_OFFSET="edge.line.dash.offset",Ca.EDGE_FROM_OFFSET="edge.from.offset",Ca.EDGE_TO_OFFSET="edge.to.offset",Ca.EDGE_BUNDLE_GAP="edge.bundle.gap",Ca.EDGE_LOOPED_EXTAND="edge.looped.extand",Ca.EDGE_EXTEND="edge.extend",Ca.EDGE_CONTROL_POINT="edge.control.point",Ca.EDGE_SPLIT_BY_PERCENT="edge.split.by.percent",Ca.EDGE_SPLIT_PERCENT="edge.split.percent",Ca.EDGE_SPLIT_VALUE="edge.split.value",Ca.EDGE_CORNER="edge.corner",Ca.EDGE_CORNER_RADIUS="edge.corner.radius",Ca.EDGE_FROM_AT_EDGE="edge.from.at.edge",Ca.EDGE_TO_AT_EDGE="edge.to.at.edge",Ca.ARROW_FROM="arrow.from",Ca.ARROW_FROM_SIZE="arrow.from.size",Ca.ARROW_FROM_OFFSET="arrow.from.offset",Ca.ARROW_FROM_STROKE="arrow.from.stroke",Ca.ARROW_FROM_STROKE_STYLE="arrow.from.stroke.style",Ca.ARROW_FROM_OUTLINE="arrow.from.outline",Ca.ARROW_FROM_OUTLINE_STYLE="arrow.from.outline.style",Ca.ARROW_FROM_LINE_DASH="arrow.from.line.dash",Ca.ARROW_FROM_LINE_DASH_OFFSET="arrow.from.line.dash.offset",Ca.ARROW_FROM_FILL_COLOR="arrow.from.fill.color",Ca.ARROW_FROM_FILL_GRADIENT="arrow.from.fill.gradient",Ca.ARROW_FROM_LINE_CAP="arrow.from.line.cap",Ca.ARROW_FROM_LINE_JOIN="arrow.from.line.join",Ca.ARROW_TO="arrow.to",Ca.ARROW_TO_SIZE="arrow.to.size",Ca.ARROW_TO_OFFSET="arrow.to.offset",Ca.ARROW_TO_STROKE="arrow.to.stroke",Ca.ARROW_TO_STROKE_STYLE="arrow.to.stroke.style",Ca.ARROW_TO_OUTLINE="arrow.to.outline",Ca.ARROW_TO_OUTLINE_STYLE="arrow.to.outline.style",Ca.ARROW_TO_LINE_DASH="arrow.to.line.dash",Ca.ARROW_TO_LINE_DASH_OFFSET="arrow.to.line.dash.offset",Ca.ARROW_TO_FILL_COLOR="arrow.to.fill.color",Ca.ARROW_TO_FILL_GRADIENT="arrow.to.fill.gradient",Ca.ARROW_TO_LINE_CAP="arrow.to.line.cap",Ca.ARROW_TO_LINE_JOIN="arrow.to.line.join";var Ra=new Qn,Da=ah.PROPERTY_TYPE_ACCESSOR,Pa=ah.PROPERTY_TYPE_STYLE,Na=!1;Ra._2e(Pa,Ca.SELECTION_TYPE,null,"selectionType"),Ra._2e(Pa,Ca.SELECTION_BORDER,null,"selectionBorder"),Ra._2e(Pa,Ca.SELECTION_SHADOW_BLUR,null,"selectionShadowBlur"),Ra._2e(Pa,Ca.SELECTION_COLOR,null,"selectionColor"),Ra._2e(Pa,Ca.SELECTION_SHADOW_OFFSET_X,null,"selectionShadowOffsetX"),Ra._2e(Pa,Ca.SELECTION_SHADOW_OFFSET_Y,null,"selectionShadowOffsetY"),Ra._2e(Da,"name","label","data"),Ra._2e(Pa,Ca.LABEL_VISIBLE,"label","visible"),Ra._2e(Pa,Ca.LABEL_POSITION,"label","position"),Ra._2e(Pa,Ca.LABEL_ANCHOR_POSITION,"label","anchorPosition"),Ra._2e(Pa,Ca.LABEL_COLOR,"label","color"),Ra._2e(Pa,Ca.LABEL_FONT_SIZE,"label","fontSize"),Ra._2e(Pa,Ca.LABEL_BORDER,"label","border"),Ra._2e(Pa,Ca.LABEL_BORDER_STYLE,"label","borderColor"),Ra._2e(Pa,Ca.LABEL_BACKGROUND_COLOR,"label","backgroundColor"),Ra._2e(Pa,Ca.LABEL_ON_TOP,"label","showOnTop"),Na||(Ra._2e(Pa,Ca.SHADOW_BLUR,null,"shadowBlur"),Ra._2e(Pa,Ca.SHADOW_COLOR,null,"shadowColor"),Ra._2e(Pa,Ca.SHADOW_OFFSET_X,null,"shadowOffsetX"),Ra._2e(Pa,Ca.SHADOW_OFFSET_Y,null,"shadowOffsetY"),Ra._2e(Pa,Ca.LABEL_FONT_FAMILY,"label","fontFamily"),Ra._2e(Pa,Ca.LABEL_FONT_STYLE,"label","fontStyle"),Ra._2e(Pa,Ca.LABEL_ALIGN_POSITION,"label","alignPosition"),Ra._2e(Pa,Ca.LABEL_ROTATE,"label","rotate"),Ra._2e(Pa,Ca.LABEL_PADDING,"label","padding"),Ra._2e(Pa,Ca.LABEL_POINTER_WIDTH,"label","pointerWidth"),Ra._2e(Pa,Ca.LABEL_POINTER,"label","showPointer"),Ra._2e(Pa,Ca.LABEL_RADIUS,"label","borderRadius"),Ra._2e(Pa,Ca.LABEL_OFFSET_X,"label","offsetX"),Ra._2e(Pa,Ca.LABEL_OFFSET_Y,"label","offsetY"),Ra._2e(Pa,Ca.LABEL_ROTATABLE,"label","rotatable"),Ra._2e(Pa,Ca.LABEL_BACKGROUND_GRADIENT,"label","backgroundGradient"),Ra._2e(Pa,Ca.LABEL_SIZE,"label","size"),Ra._2e(Pa,Ca.LABEL_SHADOW_BLUR,"label","shadowBlur"),Ra._2e(Pa,Ca.LABEL_SHADOW_COLOR,"label","shadowColor"),Ra._2e(Pa,Ca.LABEL_SHADOW_OFFSET_X,"label","shadowOffsetX"),Ra._2e(Pa,Ca.LABEL_SHADOW_OFFSET_Y,"label","shadowOffsetY"),Ra._2e(Pa,Ca.LABEL_Z_INDEX,"label","zIndex"),Ra._2e(Pa,Ca.RENDER_COLOR,null,"renderColor"),Ra._2e(Pa,Ca.RENDER_COLOR_BLEND_MODE,null,"renderColorBlendMode"),Ra._2e(Pa,Ca.ALPHA,null,"alpha"));var Ma=new Qn;Ma._2e(Da,"location"),Ma._2e(Da,"anchorPosition",null,"_2m"),Ma._2e(Da,"rotate",null,"rotate"),Na||(Ma._2e(Pa,Ca.BACKGROUND_COLOR,null,"backgroundColor"),Ma._2e(Pa,Ca.BACKGROUND_GRADIENT,null,"backgroundGradient"),Ma._2e(Pa,Ca.PADDING,null,"padding"),Ma._2e(Pa,Ca.BORDER,null,"border"),Ma._2e(Pa,Ca.BORDER_RADIUS,null,"borderRadius"),Ma._2e(Pa,Ca.BORDER_COLOR,null,"borderColor"),Ma._2e(Pa,Ca.BORDER_LINE_DASH,null,"borderLineDash"),Ma._2e(Pa,Ca.BORDER_LINE_DASH_OFFSET,null,"borderLineDashOffset")),Ma._2e(Da,"image","image","data","_mod"),Ma._2e(Da,"size","image","size"),Ma._2e(Pa,Ca.SHAPE_STROKE,"image","lineWidth"),Ma._2e(Pa,Ca.SHAPE_STROKE_STYLE,"image","strokeStyle"),Ma._2e(Pa,Ca.SHAPE_FILL_COLOR,"image","fillColor"),Ma._2e(Pa,Ca.LAYOUT_BY_PATH,"image","layoutByPath"),Na||(Ma._2e(Pa,Ca.IMAGE_ADJUST,"image","adjustType"),Ma._2e(Pa,Ca.SHAPE_OUTLINE,"image","outline"),Ma._2e(Pa,Ca.SHAPE_OUTLINE_STYLE,"image","outlineStyle"),Ma._2e(Pa,Ca.SHAPE_FILL_GRADIENT,"image","fillGradient"),Ma._2e(Pa,Ca.SHAPE_LINE_DASH,"image","lineDash"),Ma._2e(Pa,Ca.SHAPE_LINE_DASH_OFFSET,"image","lineDashOffset"),Ma._2e(Pa,Ca.LINE_CAP,"image","lineCap"),Ma._2e(Pa,Ca.LINE_JOIN,"image","lineJoin"),Ma._2e(Pa,Ca.IMAGE_BACKGROUND_COLOR,"image","backgroundColor"),Ma._2e(Pa,Ca.IMAGE_BACKGROUND_GRADIENT,"image","backgroundGradient"),Ma._2e(Pa,Ca.IMAGE_PADDING,"image","padding"),Ma._2e(Pa,Ca.IMAGE_BORDER,"image","border"),Ma._2e(Pa,Ca.IMAGE_BORDER_RADIUS,"image","borderRadius"),Ma._2e(Pa,Ca.IMAGE_BORDER_COLOR,"image","borderColor"),Ma._2e(Pa,Ca.IMAGE_BORDER_LINE_DASH,"image","borderLineDash"),Ma._2e(Pa,Ca.IMAGE_BORDER_LINE_DASH_OFFSET,"image","borderLineDashOffset"),Ma._2e(Pa,Ca.IMAGE_Z_INDEX,"image","zIndex"),Ma._2e(Pa,Ca.IMAGE_ALPHA,"image","alpha")),Ma._2e(Da,"expanded",null,null,"checkBody"),Ma._2e(Da,"enableSubNetwork",null,null,"checkBody");var ka=new Qn;ka._2e(Da,"groupType",null,null,"_5x"),ka._2e(Da,"groupImage",null,null,"_5x"),ka._2e(Da,"minSize",null,null,"_5x"),ka._2e(Da,"padding",null,null,"_5x"),ka._2e(Pa,Ca.GROUP_BACKGROUND_COLOR,"shape","fillColor"),ka._2e(Pa,Ca.GROUP_BACKGROUND_GRADIENT,"shape","fillGradient"),ka._2e(Pa,Ca.GROUP_STROKE,"shape","lineWidth"),ka._2e(Pa,Ca.GROUP_STROKE_STYLE,"shape","strokeStyle"),ka._2e(Pa,Ca.GROUP_STROKE_LINE_DASH,"shape","lineDash"),ka._2e(Pa,Ca.GROUP_STROKE_LINE_DASH_OFFSET,"shape","lineDashOffset");var Ba=new Qn;Ba._2e(Da,"from","shape",null,"_4o"),Ba._2e(Da,"to","shape",null,"_4o"),Ba._2e(Da,"edgeType","shape",null,"_4o"),Ba._2e(Pa,Ca.EDGE_WIDTH,"shape","lineWidth"),Ba._2e(Pa,Ca.EDGE_COLOR,"shape","strokeStyle"),Ba._2e(Pa,Ca.ARROW_FROM,"shape","fromArrow"),Ba._2e(Pa,Ca.ARROW_TO,"shape","toArrow"),Na||(Ba._2e(Pa,Ca.EDGE_FROM_AT_EDGE,null,"fromAtEdge","_4o"),Ba._2e(Pa,Ca.EDGE_TO_AT_EDGE,null,"toAtEdge","_4o"),Ba._2e(Pa,Ca.EDGE_OUTLINE,"shape","outline"),Ba._2e(Pa,Ca.EDGE_OUTLINE_STYLE,"shape","outlineStyle"),Ba._2e(Pa,Ca.EDGE_LINE_DASH,"shape","lineDash"),Ba._2e(Pa,Ca.EDGE_LINE_DASH_OFFSET,"shape","lineDashOffset"),Ba._2e(Pa,Ca.EDGE_CONTROL_POINT,"shape",null,"_4o"),Ba._2e(Pa,Ca.EDGE_FROM_OFFSET,"shape",null,"_4o"),Ba._2e(Pa,Ca.EDGE_TO_OFFSET,"shape",null,"_4o"),Ba._2e(Pa,Ca.LINE_CAP,"shape","lineCap"),Ba._2e(Pa,Ca.LINE_JOIN,"shape","lineJoin"),Ba._2e(Da,"path.segment",null,null,"_4o",!0),Ba._2e(Da,"angle",null,null,"_4o",!0),Ba._2e(Pa,Ca.ARROW_FROM_SIZE,"shape","fromArrowSize"),Ba._2e(Pa,Ca.ARROW_FROM_OFFSET,"shape","fromArrowOffset"),Ba._2e(Pa,Ca.ARROW_FROM_STROKE,"shape","fromArrowStroke"),Ba._2e(Pa,Ca.ARROW_FROM_STROKE_STYLE,"shape","fromArrowStrokeStyle"),Ba._2e(Pa,Ca.ARROW_FROM_OUTLINE,"shape","fromArrowOutline"),Ba._2e(Pa,Ca.ARROW_FROM_OUTLINE_STYLE,"shape","fromArrowOutlineStyle"),Ba._2e(Pa,Ca.ARROW_FROM_FILL_COLOR,"shape","fromArrowFillColor"),Ba._2e(Pa,Ca.ARROW_FROM_FILL_GRADIENT,"shape","fromArrowFillGradient"),Ba._2e(Pa,Ca.ARROW_FROM_LINE_DASH,"shape","fromArrowLineDash"),Ba._2e(Pa,Ca.ARROW_FROM_LINE_DASH_OFFSET,"shape","fromArrowLineDashOffset"),Ba._2e(Pa,Ca.ARROW_FROM_LINE_JOIN,"shape","fromArrowLineJoin"),Ba._2e(Pa,Ca.ARROW_FROM_LINE_CAP,"shape","fromArrowLineCap"),Ba._2e(Pa,Ca.ARROW_TO_SIZE,"shape","toArrowSize"),Ba._2e(Pa,Ca.ARROW_TO_OFFSET,"shape","toArrowOffset"),Ba._2e(Pa,Ca.ARROW_TO_STROKE,"shape","toArrowStroke"),Ba._2e(Pa,Ca.ARROW_TO_STROKE_STYLE,"shape","toArrowStrokeStyle"),Ba._2e(Pa,Ca.ARROW_TO_OUTLINE,"shape","toArrowOutline"),Ba._2e(Pa,Ca.ARROW_TO_OUTLINE_STYLE,"shape","toArrowOutlineStyle"),Ba._2e(Pa,Ca.ARROW_TO_FILL_COLOR,"shape","toArrowFillColor"),Ba._2e(Pa,Ca.ARROW_TO_FILL_GRADIENT,"shape","toArrowFillGradient"),Ba._2e(Pa,Ca.ARROW_TO_LINE_DASH,"shape","toArrowLineDash"),Ba._2e(Pa,Ca.ARROW_TO_LINE_DASH_OFFSET,"shape","toArrowLineDashOffset"),Ba._2e(Pa,Ca.ARROW_TO_LINE_JOIN,"shape","toArrowLineJoin"),Ba._2e(Pa,Ca.ARROW_TO_LINE_CAP,"shape","toArrowLineCap"));var Ga=new Qn;Ga._2e(Pa,Ca.EDGE_BUNDLE_LABEL_COLOR,"bundleLabel","color"),Ga._2e(Pa,Ca.EDGE_BUNDLE_LABEL_POSITION,"bundleLabel","position"),Ga._2e(Pa,Ca.EDGE_BUNDLE_LABEL_ANCHOR_POSITION,"bundleLabel","anchorPosition"),Ga._2e(Pa,Ca.EDGE_BUNDLE_LABEL_FONT_SIZE,"bundleLabel","fontSize"),Ga._2e(Pa,Ca.EDGE_BUNDLE_LABEL_ROTATABLE,"bundleLabel","rotatable"),Na||(Ga._2e(Pa,Ca.EDGE_BUNDLE_LABEL_ROTATE,"bundleLabel","rotate"),Ga._2e(Pa,Ca.EDGE_BUNDLE_LABEL_FONT_FAMILY,"bundleLabel","fontFamily"),Ga._2e(Pa,Ca.EDGE_BUNDLE_LABEL_FONT_STYLE,"bundleLabel","fontStyle"),Ga._2e(Pa,Ca.EDGE_BUNDLE_LABEL_PADDING,"bundleLabel","padding"),Ga._2e(Pa,Ca.EDGE_BUNDLE_LABEL_POINTER_WIDTH,"bundleLabel","pointerWidth"),Ga._2e(Pa,Ca.EDGE_BUNDLE_LABEL_POINTER,"bundleLabel","showPointer"),Ga._2e(Pa,Ca.EDGE_BUNDLE_LABEL_RADIUS,"bundleLabel","borderRadius"),Ga._2e(Pa,Ca.EDGE_BUNDLE_LABEL_OFFSET_X,"bundleLabel","offsetX"),Ga._2e(Pa,Ca.EDGE_BUNDLE_LABEL_OFFSET_Y,"bundleLabel","offsetY"),Ga._2e(Pa,Ca.EDGE_BUNDLE_LABEL_BORDER,"bundleLabel","border"),Ga._2e(Pa,Ca.EDGE_BUNDLE_LABEL_BORDER_STYLE,"bundleLabel","borderColor"),Ga._2e(Pa,Ca.EDGE_BUNDLE_LABEL_BACKGROUND_COLOR,"bundleLabel","backgroundColor"),Ga._2e(Pa,Ca.EDGE_BUNDLE_LABEL_BACKGROUND_GRADIENT,"bundleLabel","backgroundGradient"));var za=new Qn;za._2e(Da,"location"),za._2e(Pa,Ca.BACKGROUND_COLOR,null,"backgroundColor"),za._2e(Pa,Ca.BACKGROUND_GRADIENT,null,"backgroundGradient"),za._2e(Pa,Ca.PADDING,null,"padding"),za._2e(Pa,Ca.BORDER,null,"border"),za._2e(Pa,Ca.BORDER_RADIUS,null,"borderRadius"),za._2e(Pa,Ca.BORDER_COLOR,null,"borderColor"),za._2e(Pa,Ca.BORDER_LINE_DASH,null,"borderLineDash"),za._2e(Pa,Ca.BORDER_LINE_DASH_OFFSET,null,"borderLineDashOffset"),za._2e(Da,"rotate",null,"rotate"),za._2e(Da,"path.segment",null,null,"invalidateShape"),za._2e(Da,"path","image","data"),za._2e(Da,"size","image","size"),za._2e(Pa,Ca.SHAPE_STROKE,"image","lineWidth"),za._2e(Pa,Ca.SHAPE_STROKE_STYLE,"image","strokeStyle"),za._2e(Pa,Ca.SHAPE_FILL_COLOR,"image","fillColor"),za._2e(Pa,Ca.SHAPE_FILL_GRADIENT,"image","fillGradient"),Na||(za._2e(Pa,Ca.SHAPE_OUTLINE,"image","outline"),za._2e(Pa,Ca.SHAPE_OUTLINE_STYLE,"image","outlineStyle"),za._2e(Pa,Ca.SHAPE_LINE_DASH,"image","lineDash"),za._2e(Pa,Ca.SHAPE_LINE_DASH_OFFSET,"image","lineDashOffset"),za._2e(Pa,Ca.LINE_CAP,"image","lineCap"),za._2e(Pa,Ca.LINE_JOIN,"image","lineJoin"),za._2e(Pa,Ca.LAYOUT_BY_PATH,"image","layoutByPath"),za._2e(Pa,Ca.IMAGE_BACKGROUND_COLOR,"image","backgroundColor"),za._2e(Pa,Ca.IMAGE_BACKGROUND_GRADIENT,"image","backgroundGradient"),za._2e(Pa,Ca.IMAGE_PADDING,"image","padding"),za._2e(Pa,Ca.IMAGE_BORDER,"image","border"),za._2e(Pa,Ca.IMAGE_BORDER_RADIUS,"image","borderRadius"),za._2e(Pa,Ca.IMAGE_BORDER_COLOR,"image","borderColor"),za._2e(Pa,Ca.IMAGE_BORDER_LINE_DASH,"image","borderLineDash"),za._2e(Pa,Ca.IMAGE_BORDER_LINE_DASH_OFFSET,"image","borderLineDashOffset"),za._2e(Pa,Ca.ARROW_FROM,"image","fromArrow"),za._2e(Pa,Ca.ARROW_FROM_SIZE,"image","fromArrowSize"),za._2e(Pa,Ca.ARROW_FROM_OFFSET,"image","fromArrowOffset"),za._2e(Pa,Ca.ARROW_FROM_STROKE,"image","fromArrowStroke"),za._2e(Pa,Ca.ARROW_FROM_STROKE_STYLE,"image","fromArrowStrokeStyle"),za._2e(Pa,Ca.ARROW_FROM_FILL_COLOR,"image","fromArrowFillColor"),za._2e(Pa,Ca.ARROW_FROM_FILL_GRADIENT,"image","fromArrowFillGradient"),za._2e(Pa,Ca.ARROW_FROM_LINE_DASH,"image","fromArrowLineDash"),za._2e(Pa,Ca.ARROW_FROM_LINE_DASH_OFFSET,"image","fromArrowLineDashOffset"),za._2e(Pa,Ca.ARROW_FROM_LINE_JOIN,"image","fromArrowLineJoin"),za._2e(Pa,Ca.ARROW_FROM_LINE_CAP,"image","fromArrowLineCap"),za._2e(Pa,Ca.ARROW_TO_SIZE,"image","toArrowSize"),za._2e(Pa,Ca.ARROW_TO_OFFSET,"image","toArrowOffset"),za._2e(Pa,Ca.ARROW_TO,"image","toArrow"),za._2e(Pa,Ca.ARROW_TO_STROKE,"image","toArrowStroke"),za._2e(Pa,Ca.ARROW_TO_STROKE_STYLE,"image","toArrowStrokeStyle"),za._2e(Pa,Ca.ARROW_TO_FILL_COLOR,"image","toArrowFillColor"),za._2e(Pa,Ca.ARROW_TO_FILL_GRADIENT,"image","toArrowFillGradient"),za._2e(Pa,Ca.ARROW_TO_LINE_DASH,"image","toArrowLineDash"),za._2e(Pa,Ca.ARROW_TO_LINE_DASH_OFFSET,"image","toArrowLineDashOffset"),za._2e(Pa,Ca.ARROW_TO_LINE_JOIN,"image","toArrowLineJoin"),za._2e(Pa,Ca.ARROW_TO_LINE_CAP,"image","toArrowLineCap"));var Fa=function(t,i){return t=t.zIndex,i=i.zIndex,t==i?0:(t=t||0,i=i||0,t>i?1:i>t?-1:void 0)},$a=function(t,i){this.uiBounds=new ts,O(this,$a,arguments),this.id=this.$data.id,this.graph=i,this._g0=[],this._moa=new Qn};$a.prototype={syncSelection:!1,graph:null,layoutByAnchorPoint:!1,_moa:null,_g0:null,addChild:function(t,i){t._jw=this,i!==e?m(this._g0,t,i):this._g0.push(t),t._dq&&this._mlg(t),this.invalidateChildrenIndex(),this.invalidateSize(),this.$invalidateChild=!0},removeChild:function(t){this._moa.removeBinding(t),t._jw=null,p(this._g0,t),this._jx&&this._jx.remove(t),this.invalidateSize(),this.$invalidateChild=!0},getProperty:function(t,i){return i==ah.PROPERTY_TYPE_STYLE?this.graph.getStyle(this.$data,t):i==ah.PROPERTY_TYPE_CLIENT?this.$data.get(t):this.$data[t]},getStyle:function(t){return this.graph.getStyle(this.$data,t)},_$w:function(t,i,e){var n=this._moa.onBindingPropertyChange(this,t,i,e);return Ra.onBindingPropertyChange(this,t,i,e)||n},onPropertyChange:function(t){if("zIndex"==t.kind)return this.invalidateRender(),!0;if("ui"==t.type){if("invalidate"==t.kind)return this.invalidate(),!0;var i=t.value;return i&&i.ui?("add"==t.kind?this._9w(i):"remove"==t.kind&&this.removeChild(i.ui),!0):!1}return this._$w(t.kind,t.propertyType||Da,t.value)},label:null,initLabel:function(){var t=new Ya;t.name="label",this.addChild(t),this.label=t},initialize:function(){this.initLabel(),this.$data._moh&&this.$data._moh.forEach(this._9w,this),Ra.initBindingProperties(this),this._moa.initBindingProperties(this,!1)},addBinding:function(t,i){return i.property?(i.target=t,void this._moa._1v(i.property,i)):!1},_fm:function(t,i){var e=this.$data;if(!e._moh)return!1;var n=e._moh.getById(t.id);if(!n||!n.bindingProperties)return!1;var r=n.bindingProperties;if(z(r)){var o=!1;return f(r,function(t){return"data"==t.bindingProperty?(o=tr(e,i,t.property,t.propertyType),!1):void 0},this),o}return"data"==r.bindingProperty?tr(e,i,r.property,r.propertyType):!1},_9w:function(t){var i=t.ui;if(i){var e=t.bindingProperties;e&&(Array.isArray(e)?e.forEach(function(t){this.addBinding(i,t)},this):this.addBinding(i,e)),this.addChild(i)}},validate:function(){return this._mlm||(this.initialize(),this._mlm=!0),this.doValidate()},_$c:!0,invalidateChildrenIndex:function(){this._$c=!0},doValidate:function(){if(this._1c&&(this._1c=!1,this.validateChildren()&&(this.measure(),this.$invalidateSize=!0),this._$c&&(this._$c=!1,Bo?this._g0=d(this._g0,Fa):this._g0.sort(Fa))),$e.call(this)&&(this.$invalidateRotate=!0),this.$invalidateRotate){Kh.call(this),this.uiBounds.setByRect(this._g6);var t=this.$selectionBorder||0,i=Math.max(this.$selectionBorder||0,this.$shadowOffsetX||0,this.$selectionShadowOffsetX||0),e=Math.max(this.$shadowOffsetY||0,this.$selectionShadowOffsetY||0),n=Math.max(2*t,this.$shadowBlur,this.$selectionShadowBlur);n+=Wo.UI_BOUNDS_GROW||0;var r=n-i,o=n+i,s=n-e,h=n+e;return 0>r&&(r=0),0>o&&(o=0),0>s&&(s=0),0>h&&(h=0),this.uiBounds.grow(s,r,h,o),this.onBoundsChanged&&this.onBoundsChanged(),this.$invalidateBounds=!0,!0}},validateChildren:function(){var t=this.$invalidateChild;this.$invalidateChild=!1;var i=this._mnody,e=this.bodyChanged;i&&(i.$renderColor=this.$renderColor,i.$renderColorBlendMode=this.$renderColorBlendMode,i.$shadowColor=this.$shadowColor,i.$shadowBlur=this.$shadowBlur,i.$shadowOffsetX=this.$shadowOffsetX,i.$shadowOffsetY=this.$shadowOffsetY),this.bodyChanged=!1,i&&i._1c&&(e=i.validate()||e,i.$x=0,i.$y=0,i.$invalidateRotate&&Kh.call(i),t=!0);for(var n=0,r=this._g0.length;r>n;n++){var o=this._g0[n];if(o!=i){var s=o._1c&&o.validate();(s||e)&&o._hw&&Ue(o,i,this),!t&&s&&(t=!0)}}return t},measure:function(){this._jo.clear();for(var t,i,e=0,n=this._g0.length;n>e;e++)t=this._g0[e],t._hw&&(i=t._g6,i.width<=0||i.height<=0||this._jo.addRect(t.$x+i.x,t.$y+i.y,i.width,i.height))},_jx:null,_mlg:function(t){if(!this._jx){if(!t.showOnTop)return;return this._jx=new qo,this._jx.add(t)}return t.showOnTop?this._jx.add(t):this._jx.remove(t)},draw:function(t,i,e){for(var n,r=0,o=this._g0.length;o>r;r++)n=this._g0[r],n._hw&&!n.showOnTop&&n._jg(t,i,e,this)},_ml7:function(t,i){if(!this._hw||!this._jx||!this._jx.length)return!1;t.save(),t.translate(this.$x,this.$y),this.$rotatable&&this.$_hostRotate&&t.rotate(this.$_hostRotate),(this.offsetX||this.offsetY)&&t.translate(this.offsetX,this.offsetY),this.$rotate&&t.rotate(this.$rotate),this.$layoutByAnchorPoint&&this._mlj&&t.translate(-this._mlj.x,-this._mlj.y),this.shadowColor&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur*i,t.shadowOffsetX=this.shadowOffsetX*i,t.shadowOffsetY=this.shadowOffsetY*i),t.beginPath();for(var e,n=0,r=this._g0.length;r>n;n++)e=this._g0[n],e._hw&&e.showOnTop&&e._jg(t,i,this.selected,this);t.restore()},doHitTest:function(t,i,e){if(e){if(!this._jo.intersectsRect(t-e,i-e,2*e,2*e))return!1}else if(!this._jo.intersectsPoint(t,i))return!1;return this.hitTestChildren(t,i,e)},hitTestChildren:function(t,i,e){for(var n,r=this._g0.length-1;r>=0;r--)if(n=this._g0[r],n._hw&&n.hitTest(t,i,e))return n;return!1},destroy:function(){this._iced=!0;for(var t,i=this._g0.length-1;i>=0;i--)t=this._g0[i],t.destroy()}},w($a,Sa),Z($a.prototype,{renderColorBlendMode:{get:function(){return this.$renderColorBlendMode},set:function(t){this.$renderColorBlendMode=t,this._1c=!0,this.body&&(this.body.renderColorBlendMode=this.$renderColorBlendMode)}},renderColor:{get:function(){return this.$renderColor},set:function(t){this.$renderColor=t,this._1c=!0,this.body&&(this.body.renderColor=this.$renderColor)}},bodyBounds:{get:function(){if(this.$invalidateBounds){this.$invalidateBounds=!1;var t,i=this.body;t=i&&i._hw&&!this._$u()?i._g6.clone():this._g6.clone(),this.rotate&&Si(t,this.rotate,t),t.x+=this.$x,t.y+=this.$y,this._mou=t}return this._mou}},bounds:{get:function(){return new ts((this.$x||0)+this.uiBounds.x,(this.$y||0)+this.uiBounds.y,this.uiBounds.width,this.uiBounds.height)}},body:{get:function(){return this._mnody},set:function(t){t&&this._mnody!=t&&(this._mnody=t,this.bodyChanged=!0,this.invalidateSize())}}}),Wo.UI_BOUNDS_GROW=1;var ja=function(){O(this,ja,arguments)};ja.prototype={strokeStyle:"#000",lineWidth:0,fillColor:null,fillGradient:null,_ju:1,_jv:1,outline:0,onDataChanged:function(t){A(this,ja,"onDataChanged",arguments),this._l3&&this._8r&&this._l3._6d(this._8r,this),t&&this._mod(t)},_mod:function(t){this._l3=Ee(t),this._l3.validate(),(this._l3._lr==Th||this._l3._6y())&&(this._8r||(this._8r=function(){this.invalidateData(),this._jw&&this._jw.graph&&(this._jw.invalidateSize(),this._jw.graph.invalidate())
}),this._l3._mn6(this._8r,this))},_l3:null,initialize:function(){this._mod(this.$data)},_4y:function(){return this._l3&&this._l3.draw},_9y:function(t){if(!t||t.width<=0||t.height<=0||!this.$size||!(this.size instanceof Object))return this._ju=1,void(this._jv=1);var i=this.size.width,n=this.size.height;if((i===e||null===i)&&(i=-1),(n===e||null===n)&&(n=-1),0>i&&0>n)return this._ju=1,void(this._jv=1);var r,o,s=t.width,h=t.height;i>=0&&(r=i/s),n>=0&&(o=n/h),0>i?r=o:0>n&&(o=r),this._ju=r,this._jv=o},validateSize:function(){if(this.$invalidateScale){this.$invalidateScale=!1;{var t=this._originalBounds;this._ju,this._jv}this._9y(t),this.setMeasuredBounds(t.width*this._ju,t.height*this._jv,t.x*this._ju,t.y*this._jv)}},measure:function(){var t=this._l3.getBounds(this.lineWidth+this.outline);return t?(this.$invalidateScale=!0,void(this._originalBounds=t.clone())):void this._jo.set(0,0,0,0)},onBoundsChanged:function(){this.$invalidateFillGradient=!0},_1d:function(){this.$invalidateFillGradient=!1,this._fillGradient=this.fillGradient?Sh.prototype.generatorGradient.call(this.$fillGradient,this._7y):null},_k1:function(t){var i,e;if("flip"==this.$adjustType)i=1,e=-1;else{if("mirror"!=this.$adjustType)return;i=-1,e=1}var n=this._jo.cx,r=this._jo.cy;t.translate(n,r),t.scale(i,e),t.translate(-n,-r)},draw:function(t,i,e,n){if(this._ju&&this._jv){if(this.$invalidateFillGradient&&this._1d(),t.save(),this.$adjustType&&this._k1(t),this._l3._lr==Oh)return t.scale(this._ju,this._jv),this._l3._lf.draw(t,i,this,e,n||this),void t.restore();e&&this._7t(t,i,n),this._l3.draw(t,i,this,this._ju,this._jv),t.restore()}},doHitTest:function(t,i,e){if(this._l3.hitTest){if("flip"==this.$adjustType){var n=this._jo.cy;i=2*n-i}else if("mirror"==this.$adjustType){var r=this._jo.cx;t=2*r-t}t/=this._ju,i/=this._jv;var o=(this._ju+this._jv)/2;return o>1&&(e/=o,e=0|e),this._l3._lf instanceof Uh?this._l3._lf.hitTest(t,i,e,!0,this.$lineWidth,this.$fillColor||this.$fillGradient):this._l3.hitTest(t,i,e)}return!0},$invalidateScale:!0,$invalidateFillGradient:!0},w(ja,Sa),Zn(ja.prototype,{adjustType:{},fillColor:{},size:{validateFlags:["Size","Scale"]},fillGradient:{validateFlags:["FillGradient"]}}),Z(ja.prototype,{originalBounds:{get:function(){return this._originalBounds}}}),Wo.ALIGN_POSITION=es.CENTER_MIDDLE;var Ya=function(){O(this,Ya,arguments),this.color=Wo.LABEL_COLOR};Ya.prototype={color:Wo.LABEL_COLOR,showPointer:!0,fontSize:null,fontFamily:null,fontStyle:null,_hv:null,alignPosition:null,measure:function(){this.font;var t=ki(this.$data,this.$fontSize,this.$fontFamily,this.$fontStyle,Wo.LINE_HEIGHT,this.$font);if(this._hv=t,this.$size){var i=this.$size.width||0,e=this.$size.height||0;return this.setMeasuredBounds(i>t.width?i:t.width,e>t.height?e:t.height)}return this.setMeasuredBounds(t.width,t.height)},doHitTest:function(t,i,e){return this.$data?Se(t,i,e,this):!1},draw:function(t,i,e,n){e&&this._7t(t,i,n);this.$fontSize||Wo.FONT_SIZE;if(this.$rotatable&&this.$_hostRotate){var r=le(this.$_hostRotate);r>Xo&&3*Xo>r&&(t.translate(this._jo.width/2,this._jo.height/2),t.rotate(Math.PI),t.translate(-this._jo.width/2,-this._jo.height/2))}var o=this.alignPosition||Wo.ALIGN_POSITION,s=o.horizontalPosition,h=o.verticalPosition,a=0;s==rs?(s="center",a+=this._jo.width/2):s==os?(s="right",a+=this._jo.width):s="left";var l=0;h==hs?l=(this._jo.height-this._hv.height)/2:h==as&&(l=this._jo.height-this._hv.height),t.fillStyle=this.color,Mi(t,this.$data,a,l,s,this.$fontFamily,this.$fontSize,this.$fontStyle,Wo.LINE_HEIGHT,this.$font)},_4y:function(){return null!=this.$data||this.$size},$invalidateFont:!0},w(Ya,Sa),Zn(Ya.prototype,{size:{validateFlags:["Data"]},fontStyle:{validateFlags:["Data","Font"]},fontSize:{validateFlags:["Data","Font"]},fontFamily:{validateFlags:["Data","Font"]}}),Z(Ya.prototype,{font:{get:function(){return this.$invalidateFont&&(this.$invalidateFont=!1,this.$font=(this.$fontStyle||Wo.FONT_STYLE)+" "+(this.$fontSize||Wo.FONT_SIZE)+"px "+(this.$fontFamily||Wo.FONT_FAMILY)),this.$font}}});var Ha=function(t){t=t||new Uh,this.pathBounds=new ts,O(this,Ha,[t])};Ha.prototype={layoutByPath:!0,layoutByAnchorPoint:!1,measure:function(){this.$invalidateFromArrow=!0,this.$invalidateToArrow=!0,this.$data.getBounds(this.$lineWidth+this.$outline,this.pathBounds),this.setMeasuredBounds(this.pathBounds)},validateSize:function(){if(this.$invalidateFromArrow||this.$invalidateToArrow){var t=this.pathBounds.clone();if(this.$invalidateFromArrow){this.$invalidateFromArrow=!1;var i=this.validateFromArrow();i&&t.add(i)}if(this.$invalidateToArrow){this.$invalidateToArrow=!1;var i=this.validateToArrow();i&&t.add(i)}this.setMeasuredBounds(t)}},validateFromArrow:function(){if(!this.$data._ja||!this.$fromArrow)return void(this.$fromArrowShape=null);var t=this.$data,i=0,e=0,n=this.$fromArrowOffset;n&&(isNaN(n)&&(n.x||n.y)?(i+=n.x||0,e+=n.y||0):i+=n||0,i>0&&1>i&&(i*=t._ja)),this.fromArrowLocation=t.getLocation(i,e),this.fromArrowLocation.rotate=Math.PI+this.fromArrowLocation.rotate||0,this.$fromArrowShape=Lr(this.$fromArrow,this.$fromArrowSize);var r=this.$fromArrowShape.getBounds(this.fromArrowStyles.lineWidth+this.fromArrowStyles.outline);return this.fromArrowFillGradient instanceof hh.Gradient?this.fromArrowStyles._fillGradient=Sh.prototype.generatorGradient.call(this.fromArrowFillGradient,r):this.fromArrowStyles&&(this.fromArrowStyles._fillGradient=null),r.offset(this.fromArrowLocation.x,this.fromArrowLocation.y),Ii(r,this.fromArrowLocation.rotate,r,this.fromArrowLocation.x,this.fromArrowLocation.y),r},validateToArrow:function(){if(!this.$data._ja||!this.$toArrow)return void(this.$toArrowShape=null);var t=this.$data,i=0,e=0,n=this.$toArrowOffset;n&&(isNaN(n)&&(n.x||n.y)?(i+=n.x||0,e+=n.y||0):i+=n||0),0>i&&i>-1&&(i*=t._ja),i+=t._ja,this.toArrowLocation=t.getLocation(i,e),this.$toArrowShape=Lr(this.$toArrow,this.$toArrowSize);var r=this.$toArrowShape.getBounds(this.toArrowStyles.lineWidth+this.toArrowStyles.outline);return this.toArrowFillGradient instanceof hh.Gradient?this.toArrowStyles._fillGradient=Sh.prototype.generatorGradient.call(this.toArrowFillGradient,r):this.toArrowStyles&&(this.toArrowStyles._fillGradient=null),r.offset(this.toArrowLocation.x,this.toArrowLocation.y),Ii(r,this.toArrowLocation.rotate,r,this.toArrowLocation.x,this.toArrowLocation.y),r},_1z:function(t){var i=t?"from":"to",n=this[i+"ArrowStroke"];n===e&&(n=this.$lineWidth);var r=this[i+"ArrowStrokeStyle"];r===e&&(r=this.strokeStyle);var o=this[i+"ArrowStyles"];o||(this[i+"ArrowStyles"]=o={}),o.lineWidth=n,o.strokeStyle=r,o.lineDash=this[i+"ArrowLineDash"],o.lineDashOffset=this[i+"ArrowLineDashOffset"],o.fillColor=this[i+"ArrowFillColor"],o.fillGradient=this[i+"ArrowFillGradient"],o.lineCap=this[i+"ArrowLineCap"],o.lineJoin=this[i+"ArrowLineJoin"],o.outline=this[i+"ArrowOutline"]||0,o.outlineStyle=this[i+"ArrowOutlineStyle"]},doValidate:function(){return this.$fromArrow&&this._1z(!0),this.$toArrow&&this._1z(!1),A(this,Ha,"doValidate")},drawArrow:function(t,i,e,n){if(this.$fromArrow&&this.$fromArrowShape){t.save();var r=this.fromArrowLocation,o=r.x,s=r.y,h=r.rotate;t.translate(o,s),h&&t.rotate(h),this.$fromArrowShape.draw(t,i,this.fromArrowStyles,e,n),t.restore()}if(this.$toArrow&&this.$toArrowShape){t.save();var r=this.toArrowLocation,o=r.x,s=r.y,h=r.rotate;t.translate(o,s),h&&t.rotate(h),this.$toArrowShape.draw(t,i,this.toArrowStyles,e,n),t.restore()}},outlineStyle:null,outline:0,onBoundsChanged:function(){this.$invalidateFillGradient=!0},_1d:function(){this.$invalidateFillGradient=!1,this._fillGradient=this.$fillGradient?Sh.prototype.generatorGradient.call(this.$fillGradient,this._7y):null},draw:function(t,i,e,n){this.$invalidateFillGradient&&this._1d(),this.$data.draw(t,i,this,e,n),this.drawArrow(t,i,e,n)},doHitTest:function(t,i,e){if(this.$data.hitTest(t,i,e,!0,this.$lineWidth+this.$outline,this.$fillColor||this.$fillGradient))return!0;if(this.$toArrow&&this.$toArrowShape){var n=t-this.toArrowLocation.x,r=i-this.toArrowLocation.y;if(this.toArrowLocation.rotate){var o=bi(n,r,-this.toArrowLocation.rotate);n=o.x,r=o.y}var s=this.toArrowStyles.fillColor||this.toArrowStyles.fillGradient;if(this.$toArrowShape.hitTest(n,r,e,!0,this.toArrowStyles.lineWidth,s))return!0}if(this.$fromArrow&&this.$fromArrowShape){var n=t-this.fromArrowLocation.x,r=i-this.fromArrowLocation.y;if(this.fromArrowLocation.rotate){var o=bi(n,r,-this.fromArrowLocation.rotate);n=o.x,r=o.y}var s=this.fromArrowStyles.fillColor||this.fromArrowStyles.fillGradient;if(this.$fromArrowShape.hitTest(n,r,e,!0,this.fromArrowStyles.lineWidth,s))return!0}return!1},$fromArrowOutline:0,$toArrowOutline:0,$invalidateFillGradient:!0,$invalidateFromArrow:!0,$invalidateToArrow:!0},w(Ha,Sa),Zn(Ha.prototype,{fillColor:{},fillGradient:{validateFlags:["FillGradient"]},fromArrowOffset:{validateFlags:["FromArrow","Size"]},fromArrowSize:{validateFlags:["FromArrow","Size"]},fromArrow:{validateFlags:["FromArrow","Size"]},fromArrowOutline:{validateFlags:["FromArrow","Size"]},fromArrowStroke:{validateFlags:["FromArrow","Size"]},toArrowOffset:{validateFlags:["ToArrow","Size"]},toArrowSize:{validateFlags:["ToArrow","Size"]},toArrow:{validateFlags:["ToArrow","Size"]},toArrowOutline:{validateFlags:["ToArrow","Size"]},toArrowStroke:{validateFlags:["ToArrow","Size"]},outline:{value:0,validateFlags:["Data"]}}),Z(Ha.prototype,{length:{get:function(){return this.data.length}}}),ir.prototype={shape:null,path:null,initialize:function(){A(this,ir,"initialize"),this.path=new Uh,this.path._eb=!1,this.shape=new Ha(this.path),this.addChild(this.shape,0),this._mnody=this.shape,Ba.initBindingProperties(this)},_1i:!0,_5a:null,_$u:function(){return!1},_41:function(){return!1},validatePoints:function(){this.shape.invalidateData();var t=this.$data,i=this.path;i.clear();var e=t.fromAgent,n=t.toAgent;e&&n&&Dr(this,t,i,e,n)},drawLoopedEdge:function(t,i,e,n){kr(this,n,t)},drawEdge:function(t,i,e,n,r,o){var s=r.center,h=o.center;if(n==ah.EDGE_TYPE_ZIGZAG){var a=(s.x+h.x)/2,l=(s.y+h.y)/2,_=s.x-h.x,u=s.y-h.y,c=Math.sqrt(_*_+u*u),d=Math.atan2(u,_);d+=Math.PI/6,c*=.04,c>30&&(c=30);var f=Math.cos(d)*c,v=Math.sin(d)*c;return t.lineTo(a-v,l+f),void t.lineTo(a+v,l-f)}var g=Mr(this,this.data,r,o,i,e,s,h);g&&(t._gz=g)},_1x:function(){if(!this.$data.isBundleEnabled())return null;var t=this.graph._8h._8d(this.$data);if(!t||!t.canBind(this.graph)||!t._gh)return null;var i=t.getYOffset(this);return t.isPositiveOrder(this.$data)||(i=-i),i},checkBundleLabel:function(){var t=this.getBundleLabel();return t?(this.bundleLabel||this.createBundleLabel(),this.bundleLabel._hw=!0,void(this.bundleLabel.data=t)):void(this.bundleLabel&&(this.bundleLabel._hw=!1,this.bundleLabel.data=null))},createBundleLabel:function(){var t=new Ya;t.editable=!1,this.bundleLabel=t,this.addChild(this.bundleLabel),Ga.initBindingProperties(this)},getBundleLabel:function(){return this.graph.getBundleLabel(this.data)},doValidate:function(){return this._1i&&(this._1i=!1,this.validatePoints()),this.checkBundleLabel(),A(this,ir,"doValidate")},_4o:function(){this._1i=!0,this.invalidateSize()},_$w:function(t,i,e){var n=this._moa.onBindingPropertyChange(this,t,i,e);return n=Ra.onBindingPropertyChange(this,t,i,e)||n,this.bundleLabel&&this.bundleLabel.$data&&(n=Ga.onBindingPropertyChange(this,t,i,e)||n),Ba.onBindingPropertyChange(this,t,i,e)||n}},w(ir,$a),ir.drawReferenceLine=function(t,i,e,n){if(t.moveTo(i.x,i.y),!n||n==ah.EDGE_TYPE_DEFAULT)return void t.lineTo(e.x,e.y);if(n==ah.EDGE_TYPE_VERTICAL_HORIZONTAL)t.lineTo(i.x,e.y);else if(n==ah.EDGE_TYPE_HORIZONTAL_VERTICAL)t.lineTo(e.x,i.y);else if(0==n.indexOf(ah.EDGE_TYPE_ORTHOGONAL)){var r;r=n==ah.EDGE_TYPE_ORTHOGONAL_HORIZONTAL?!0:n==ah.EDGE_TYPE_ORTHOGONAL_VERTICAL?!1:Math.abs(i.x-e.x)>Math.abs(i.y-e.y);var o=(i.x+e.x)/2,s=(i.y+e.y)/2;r?(t.lineTo(o,i.y),t.lineTo(o,e.y)):(t.lineTo(i.x,s),t.lineTo(e.x,s))}else if(0==n.indexOf(ah.EDGE_TYPE_ELBOW)){var r,h=Ua[Ca.EDGE_EXTEND]||0;r=n==ah.EDGE_TYPE_ELBOW_HORIZONTAL?!0:n==ah.EDGE_TYPE_ELBOW_VERTICAL?!1:Math.abs(i.x-e.x)>Math.abs(i.y-e.y),r?(t.lineTo(i.x+h,i.y),t.lineTo(e.x-h,e.y)):(t.lineTo(i.x,i.y+h),t.lineTo(e.x,e.y-h))}else if(0==n.indexOf("extend.")){var h=Ua[Ca.EDGE_EXTEND]||0;if(n==ah.EDGE_TYPE_EXTEND_TOP){var a=Math.min(i.y,e.y)-h;t.lineTo(i.x,a),t.lineTo(e.x,a)}else if(n==ah.EDGE_TYPE_EXTEND_BOTTOM){var a=Math.max(i.y,e.y)+h;t.lineTo(i.x,a),t.lineTo(e.x,a)}else if(n==ah.EDGE_TYPE_EXTEND_LEFT){var l=Math.min(i.x,e.x)-h;t.lineTo(l,i.y),t.lineTo(l,e.y)}else if(n==ah.EDGE_TYPE_EXTEND_RIGHT){var l=Math.max(i.x,e.x)+h;t.lineTo(l,i.y),t.lineTo(l,e.y)}}else if(n==ah.EDGE_TYPE_ZIGZAG){var o=(i.x+e.x)/2,s=(i.y+e.y)/2,_=i.x-e.x,u=i.y-e.y,c=Math.sqrt(_*_+u*u),d=Math.atan2(u,_);d+=Math.PI/6,c*=.04,c>30&&(c=30);var f=Math.cos(d)*c,v=Math.sin(d)*c;t.lineTo(o-v,s+f),t.lineTo(o+v,s-f)}t.lineTo(e.x,e.y)},Z(ir.prototype,{length:{get:function(){return this.path?this.path.length:0}}}),ir.prototype.addPoint=function(t,i,e){var n=Te(this.path,t,i,e);if(n&&n.length>2){var r=this.data,o=n[n.length-1];r.pathSegments=o.type==Gh?n.splice(1,n.length-2):n.splice(1,n.length-1)}},er.prototype={_2m:null,image:null,initialize:function(){A(this,er,"initialize"),this._mlz(),Ma.initBindingProperties(this)},_mod:function(){this.data.image?this.image&&(this.body=this.image):this.label&&(this.body=this.label)},_mlz:function(){this.image=new ja,this.addChild(this.image,0),this._mod()},doValidate:function(){this.body&&(this instanceof Hr&&!this.$data.groupImage&&this._5v()?this.body.$layoutByAnchorPoint=!1:(this.body.$layoutByAnchorPoint=null!=this._2m,this.body.anchorPosition=this._2m));var t=this.$data.$location,i=0,e=0;t&&(i=t.x,e=t.y);var n=this.$x!=i||this.$y!=e;return n&&(this.$invalidateBounds=!0),this.$x=i,this.$y=e,$a.prototype.doValidate.call(this)||n},_$w:function(t,i,e){var n=this._moa.onBindingPropertyChange(this,t,i,e);return n=Ra.onBindingPropertyChange(this,t,i,e)||n,Ma.onBindingPropertyChange(this,t,i,e)||n}},w(er,$a);var Ua={};Ua[Ca.SELECTION_COLOR]=Wo.SELECTION_COLOR,Ua[Ca.SELECTION_BORDER]=Wo.SELECTION_BORDER,Ua[Ca.SELECTION_SHADOW_BLUR]=Wo.SELECTION_SHADOW_BLUR,Ua[Ca.SELECTION_TYPE]=ah.SELECTION_TYPE_SHADOW,Ua[Ca.SELECTION_SHADOW_OFFSET_X]=2,Ua[Ca.SELECTION_SHADOW_OFFSET_Y]=2,Ua[Ca.LABEL_COLOR]=Wo.LABEL_COLOR,Ua[Ca.LABEL_POSITION]=es.CENTER_BOTTOM,Ua[Ca.LABEL_ANCHOR_POSITION]=es.CENTER_TOP,Ua[Ca.LABEL_PADDING]=new is(0,2),Ua[Ca.LABEL_POINTER_WIDTH]=8,Ua[Ca.LABEL_RADIUS]=8,Ua[Ca.LABEL_POINTER]=!0,Ua[Ca.LABEL_BORDER]=0,Ua[Ca.LABEL_BORDER_STYLE]="#000",Ua[Ca.LABEL_ROTATABLE]=!0,Ua[Ca.LABEL_BACKGROUND_COLOR]=null,Ua[Ca.LABEL_BACKGROUND_GRADIENT]=null,Ua[Ca.EDGE_COLOR]="#555555",Ua[Ca.EDGE_WIDTH]=1.5,Ua[Ca.EDGE_FROM_AT_EDGE]=!0,Ua[Ca.EDGE_TO_AT_EDGE]=!0,Ua[Ca.GROUP_BACKGROUND_COLOR]=V(3438210798),Ua[Ca.GROUP_STROKE]=1,Ua[Ca.GROUP_STROKE_STYLE]="#000",Ua[Ca.ARROW_TO]=!0,Ua[Ca.ARROW_FROM_SIZE]=Wo.ARROW_SIZE,Ua[Ca.ARROW_TO_SIZE]=Wo.ARROW_SIZE,Ua[Ca.EDGE_LOOPED_EXTAND]=10,Ua[Ca.EDGE_CORNER_RADIUS]=8,Ua[Ca.EDGE_CORNER]=ah.EDGE_CORNER_ROUND,Ua[Ca.EDGE_SPLIT_BY_PERCENT]=!0,Ua[Ca.EDGE_EXTEND]=20,Ua[Ca.EDGE_SPLIT_PERCENT]=.5,Ua[Ca.EDGE_SPLIT_VALUE]=20,Ua[Ca.EDGE_BUNDLE_GAP]=20,Ua[Ca.EDGE_BUNDLE_LABEL_ANCHOR_POSITION]=es.CENTER_BOTTOM,Ua[Ca.EDGE_BUNDLE_LABEL_POSITION]=es.CENTER_TOP,Ua[Ca.EDGE_BUNDLE_LABEL_COLOR]="#075bc5",Ua[Ca.SHAPE_STROKE]=1,Ua[Ca.SHAPE_STROKE_STYLE]="#2898E0",Ua[Ca.RENDER_COLOR_BLEND_MODE]=Wo.BLEND_MODE,Ua[Ca.ALPHA]=1,Wo.LOOKING_EDGE_ENDPOINT_TOLERANCE=2;var Wa=function(i,e){this._$v=new ms,this._$v.on(function(t){"currentSubNetwork"==t.kind&&this.invalidateVisibility()},this),this._1f=new ms,this._1f.addListener(function(t){!this.currentSubNetwork||t.kind!=Ts.KIND_CLEAR&&t.kind!=Ts.KIND_REMOVE||this.graphModel.contains(this.currentSubNetwork)||(this.currentSubNetwork=null)},this),this._8=new ms,this._11=new ms,this._$m=new ms,this._$q=new ms,this.graphModel=e||new qn,this._8h=new fa(this,i),this._2l=new To(this),this._1a=new ms,this._onresize=Cs(t,"resize",function(){this.updateViewport()},!1,this),this._8h._mnp.ondrop=function(t){this.ondrop(t)}.bind(this),this._8h._mnp.ondragover=function(t){this.ondragover(t)}.bind(this)};Wa.prototype={originAtCenter:!0,editable:!1,ondragover:function(t){hh.stopEvent(t)},getDropInfo:function(t,i){var e=null;if(i)try{e=JSON.parse(i)}catch(n){}return e},ondrop:function(t){var i=t.dataTransfer;if(i){var e=i.getData("text"),n=this.getDropInfo(t,e);n||(n={},n.image=i.getData("image"),n.type=i.getData("type"),n.label=i.getData("label"),n.groupImage=i.getData("groupImage"));var r=this.globalToLocal(t);if(r=this.toLogical(r.x,r.y),!(this.dropAction instanceof Function&&this.dropAction.call(this,t,r,n)===!1)&&(n.image||n.label||n.type)){var o=n.image,s=n.type,h=n.label,a=n.groupImage;hh.stopEvent(t);var l;if(s&&"Node"!=s?"Text"==s?l=this.createText(h,r.x,r.y):"ShapeNode"==s?l=this.createShapeNode(h,r.x,r.y):"Group"==s?(l=this.createGroup(h,r.x,r.y),a&&(a=jr(a),a&&(l.groupImage=a))):(s=J(s),s instanceof Function&&s.prototype instanceof Aa&&(l=new s,l.name=h,l.location=new Ko(r.x,r.y),this._kmModel.add(l))):l=this.createNode(h,r.x,r.y),l){if(o&&(o=jr(o),o&&(l.image=o)),t.shiftKey){var _=this.getElementByMouseEvent(t);_&&this._mo5(_)&&(l.parent=_)}if(n.properties)for(var u in n.properties)l[u]=n.properties[u];if(n.clientProperties)for(var u in n.clientProperties)l.set(u,n.clientProperties[u]);if(n.styles&&l.putStyles(n.styles),this.onElementCreated(l,t,n)===!1)return!1;var c=new yo(this,yo.ELEMENT_CREATED,t,l);return this.onInteractionEvent(c),l}}}},_mo5:function(t){return t.enableSubNetwork||t instanceof xa||t.droppable},enableDoubleClickToOverview:!0,_8h:null,_$v:null,_1f:null,_8:null,_$q:null,_11:null,_$m:null,_1n:function(t){return this._$v.beforeEvent(t)},_4k:function(t){this._$v.onEvent(t),"viewport"==t.kind&&this.checkLimitedBounds()},isVisible:function(t){return this._8h._dz(t)},isMovable:function(t){return(t instanceof Aa||t instanceof Oa&&t.hasPathSegments())&&t.movable!==!1},isSelectable:function(t){return t.selectable!==!1},isEditable:function(t){return t.editable!==!1},isRotatable:function(t){return t.rotatable!==!1},isResizable:function(t){return t.resizable!==!1},canLinkFrom:function(t){return t.linkable!==!1&&t.canLinkFrom!==!1},canLinkTo:function(t){return t.linkable!==!1&&t.canLinkTo!==!1},createNode:function(t,i,e){var n=new Aa(t,i,e);return this._kmModel.add(n),n},createText:function(t,i,e){var n=new Vn(t,i,e);return this._kmModel.add(n),n},createShapeNode:function(t,i,e,n){k(i)&&(n=e,e=i,i=null);var r=new ba(t,i);return r.$location=new Ko(e,n),this._kmModel.add(r),r},createGroup:function(t,i,e){var n=new xa(t,i,e);return this._kmModel.add(n),n},createEdge:function(t,i,e){if(t instanceof Aa){var n=e;e=i,i=t,t=n}var r=new Oa(i,e);return t&&(r.$name=t),this._kmModel.add(r),r},addElement:function(t,i){this._kmModel.add(t),i&&t.hasChildren()&&t.forEachChild(function(t){this.addElement(t,i)},this)},removeElement:function(t){this._kmModel.remove(t)},clear:function(){this._kmModel.clear()},getStyle:function(t,i){var n=t._jf[i];return n!==e?n:this.getDefaultStyle(i)},getDefaultStyle:function(t){if(this._jf){var i=this._jf[t];if(i!==e)return i}return Ua[t]},_2o:function(t,i){if(!this.limitedBounds||this.limitedBounds.contains(this.viewportBounds))return i&&i(),!1;t=this._23(),this.stopAnimation();var e,n,r,o=this.viewportBounds,s=this.limitedBounds,h=o.width/this.limitedBounds.width,a=o.height/this.limitedBounds.height;if(1>=h&&1>=a)return e=s.left>o.left?s.left:s.right<o.right?o.left-(o.right-s.right):o.left,n=s.top>o.top?s.top:s.bottom<o.bottom?o.top-(o.bottom-s.bottom):o.top,void this.translateTo(-e*this.scale,-n*this.scale,this.scale,!1,i);var l=h>a;r=Math.max(h,a),l?(e=s.x,n=s.y+(o.top-s.top)*(1-r)/r,n>s.y?n=s.y:n<s.bottom-o.height/r&&(n=s.bottom-o.height/r)):(n=s.y,e=s.x+(o.left-s.left)*(1-r)/r,e>s.x?e=s.x:e<s.right-o.width/r&&(e=s.right-o.width/r)),r*=this.scale,e*=r,n*=r,this.translateTo(-e,-n,r,t,i)},checkLimitedBounds:function(t){return this._moheckingBounds||!this.limitedBounds||this.limitedBounds.contains(this.viewportBounds)?!1:(this._moheckingBounds=!0,void this.callLater(function(){this._2o(t,function(){this._moheckingBounds=!1}.bind(this))},this))},zoomByMouseEvent:function(t,i,e,n){var r=this.globalToLocal(t);return k(i)?this.zoomAt(Math.pow(this.scaleStep,i),r.x,r.y,e,n):i?this.zoomIn(r.x,r.y,e,n):this.zoomOut(r.x,r.y,e,n)},resetScale:1,translate:function(t,i,e){return this.translateTo(this.tx+t,this.ty+i,this.scale,e)},translateTo:function(t,i,e,n,r){if(e&&(e=Math.min(this.maxScale,Math.max(this.minScale,e))),n){var o=this._5f();return void o._l5(t,i,e,n,r)}var s=this._8h._mnr(t,i,e);return r&&r(),s},centerTo:function(t,i,n,r,o){return(!n||0>=n)&&(n=this.scale),r===e&&(r=this._23()),this.translateTo(this.width/2-t*n,this.height/2-i*n,n,r,o)},moveToCenter:function(t,i){if(arguments[2]===!1||!this._8h.isInvalidate()){var e=this.bounds;return void this.centerTo(e.cx,e.cy,t,i)}return this._8h._mlm||(i=!1),this.callLater(this.moveToCenter.bind(this,t,i,!1))},zoomToOverview:function(t,i){if(arguments[2]===!1||!this._8h.isInvalidate()){var e=this._8h._1m();return void(e&&(i&&(e.scale=Math.min(e.scale,i)),this.centerTo(e.cx,e.cy,e.scale,t)))}return this._8h._mlm||(t=!1),this.callLater(this.zoomToOverview.bind(this,t,i,!1))},_23:function(){return this._8h._mlm?this.zoomAnimation===e||null===this.zoomAnimation?Wo.ZOOM_ANIMATE:this.zoomAnimation:!1},zoomAt:function(t,i,n,r,o){r===e&&(r=this._23()),i===e&&(i=this.width/2),i=i||0,n===e&&(n=this.height/2),n=n||0;var s=this.scale;return t=Math.min(this.maxScale,Math.max(this.minScale,s*t)),i=t*(this.tx-i)/s+i,n=t*(this.ty-n)/s+n,this.translateTo(i,n,t,r,o)},zoomOut:function(t,i,e,n){return this.zoomAt(1/this.scaleStep,t,i,e,n)},zoomIn:function(t,i,e,n){return this.zoomAt(this.scaleStep,t,i,e,n)},_5f:function(){return this._panAnimation||(this._panAnimation=new Ja(this)),this._panAnimation},onAnimationStart:function(){},onAnimationEnd:function(){},isAnimating:function(){return this._panAnimation&&this._panAnimation._em()},enableInertia:!0,_mle:function(t,i){var e=this._5f();return e._hk(t||0,i||0)},stopAnimation:function(){this._panAnimation&&this._panAnimation._lp()},getUI:function(t){return Q(t)?this._8h._3h(t):this._8h._ld(t)},getUIByMouseEvent:function(t){return this._8h._3h(t)},hitTest:function(t){return this._8h.hitTest(t)},globalToLocal:function(t){return this._8h._86(t)},toCanvas:function(t,i){return this._8h._ge(t,i)},toLogical:function(t,i){return Q(t)?this._8h._$h(t):this._8h._e3(t,i)},getElementByMouseEvent:function(t){var i=this._8h._3h(t);return i?i.$data:void 0},getElement:function(t){if(Q(t)){var i=this._8h._3h(t);return i?i.$data:null}return this._kmModel.getById(t)},invalidate:function(){this._8h._mot()},invalidateUI:function(t){t.invalidate(),this.invalidate()},invalidateElement:function(t){this._8h._33(t)},getUIBounds:function(t){return this._8h._2p(t)},forEachVisibleUI:function(t,i){return this._8h._4p(t,i)},forEachReverseVisibleUI:function(t,i){return this._8h._$x(t,i)},forEachUI:function(t,i){return this._8h._ds(t,i)},forEachReverseUI:function(t,i){return this._8h._4t(t,i)},forEach:function(t,i){return this._kmModel.forEach(t,i)},getElementByName:function(t){var i;return this._kmModel.forEach(function(e){return e.name==t?(i=e,!1):void 0}),i},focus:function(i){if(i){var e=t.scrollX||t.pageXOffset,n=t.scrollY||t.pageYOffset;return this.canvasPanel.focus(),void t.scrollTo(e,n)}this.canvasPanel.focus()},callLater:function(t,i,e){this._8h._du(t,i,e)},exportImage:function(t,i){return Jr(this,t,i)},setSelection:function(t){return this._kmModel._selectionModel.set(t)},select:function(t){return this._kmModel._selectionModel.select(t)},unselect:function(t){return this._kmModel._selectionModel.unselect(t)},reverseSelect:function(t){return this._kmModel._selectionModel.reverseSelect(t)},selectAll:function(){Zr(this)},unSelectAll:function(){this.selectionModel.clear()},unselectAll:function(){this.unSelectAll()},isSelected:function(t){return this._kmModel._selectionModel.contains(t)},sendToTop:function(t){fn(this._kmModel,t)},sendToBottom:function(t){vn(this._kmModel,t)},moveElements:function(t,i,e){var n=[],r=new qo;return f(t,function(t){t instanceof Aa?n.push(t):t instanceof Oa&&r.add(t)}),this._e6(n,i,e,r)},_e6:function(t,i,e,n){if(0==i&&0==e||0==t.length&&0==n.length)return!1;if(0!=t.length){var r=this._49(t);n=this._4b(r,n),f(r,function(t){var n=t.$location;n?t.setLocation(n.x+i,n.y+e):t.setLocation(i,e)})}return n&&n.length&&this._e8(n,i,e),!0},_e8:function(t,i,e){t.forEach(function(t){t.move(i,e)})},_4b:function(t,i){return this.graphModel.forEach(function(e){e instanceof Oa&&this.isMovable(e)&&t.contains(e.fromAgent)&&t.contains(e.toAgent)&&i.add(e)},this),i},_49:function(t){var i=new qo;return f(t,function(t){!this.isMovable(t),i.add(t),cn(t,i,this._movableFilter)},this),i},reverseExpanded:function(t){if(!t.isBundleEnabled())return!1;var i=t.getEdgeBundle(!0);return i?i.reverseExpanded()!==!1?(this.invalidate(),!0):void 0:!1},_2l:null,_1a:null,beforeInteractionEvent:function(t){return this._1a.beforeEvent(t)},onInteractionEvent:function(t){this._1a.onEvent(t)},addCustomInteraction:function(t){this._2l.addCustomInteraction(t)},removeCustomInteraction:function(t){this._2l.removeCustomInteraction(t)},enableWheelZoom:!0,enableTooltip:!0,getTooltip:function(t){return t.tooltip||t.name},updateViewport:function(){this._8h._6c()},destroy:function(){this._4k(new cs(this,"destroy",!0,this._iced)),this._iced=!0,Rs(t,"resize",this._onresize),this._2l.destroy(),this.graphModel=new qn;var i=this.html;this._8h._ic(),i&&(i.innerHTML="")},onPropertyChange:function(t,i,e){this._$v.addListener(function(n){n.kind==t&&i.call(e,n)})},removeSelection:function(){var t=this.selectionModel._jl;return t&&0!=t.length?(t=t.slice(),this._kmModel.remove(t),t):!1},removeSelectionByInteraction:function(t){var i=this.selectionModel.datas;return i&&0!=i.length?void hh.confirm("Delete Elements - "+i.length,function(){var i=this.removeSelection();if(i){var e=new yo(this,yo.ELEMENT_REMOVED,t,i);this.onInteractionEvent(e)}},this):!1},createShapeByInteraction:function(t,i,e,n){var r=new Uh(i);i.length>2&&r.closePath();var o=this.createShapeNode("Shape",r,e,n);this.onElementCreated(o,t);var s=new yo(this,yo.ELEMENT_CREATED,t,o);return this.onInteractionEvent(s),o},createLineByInteraction:function(t,i,e,n){var r=new Uh(i),o=this.createShapeNode("Line",r,e,n);o.setStyle(hh.Styles.SHAPE_FILL_COLOR,null),o.setStyle(hh.Styles.SHAPE_FILL_GRADIENT,null),o.setStyle(hh.Styles.LAYOUT_BY_PATH,!0),this.onElementCreated(o,t);var s=new yo(this,yo.ELEMENT_CREATED,t,o);return this.onInteractionEvent(s),o},createEdgeByInteraction:function(t,i,e,n){var r=this.createEdge("Edge",t,i);if(n)r._9t=n;else{var o=this.edgeUIClass,s=this.edgeType;this.interactionProperties&&(o=this.interactionProperties.uiClass||o,s=this.interactionProperties.edgeType||s),o&&(r.uiClass=o),s&&(r.edgeType=s)}this.onElementCreated(r,e);var h=new yo(this,yo.ELEMENT_CREATED,e,r);return this.onInteractionEvent(h),r},onElementCreated:function(t){!t.parent&&this.currentSubNetwork&&(t.parent=this.currentSubNetwork)},allowEmptyLabel:!1,startLabelEdit:function(t,i,e,n){var r=this;e.startEdit(n.x,n.y,i.data,this.getStyle(t,Ca.LABEL_FONT_SIZE),function(e){return r.onLabelEdit(t,i,e,i.parent)})},onLabelEdit:function(t,i,e,n){return e||this.allowEmptyLabel?void("label"==i.name?t.name=e:n._fm(i,e)===!1&&(i.data=e,this.invalidateElement(t))):(hh.alert("Label Can't Empty"),!1)},setInteractionMode:function(t,i){this.interactionMode=t,this.interactionProperties=i},upSubNetwork:function(){return this._3q?this.currentSubNetwork=Yr(this._3q):!1},_$r:!1,invalidateVisibility:function(){this._$r=!0,this.invalidate()},getBundleLabel:function(t){var i=t.getEdgeBundle(!0);return i&&i.agentEdge==t?"+"+i.bindableEdges.length:null},zoomAnimation:null,pauseRendering:function(t,i){(this.delayedRendering||i)&&this._8h._6b(t)},_42:e,enableRectangleSelectionByRightButton:!0},Z(Wa.prototype,{center:{get:function(){return this.toLogical(this.html.clientWidth/2,this.html.clientHeight/2)}},visibleFilter:{get:function(){return this._hwFilter},set:function(t){this._hwFilter=t,this.invalidateVisibility()}},topCanvas:{get:function(){return this._8h._topCanvas}},propertyChangeDispatcher:{get:function(){return this._$v}},listChangeDispatcher:{get:function(){return this._1f}},dataPropertyChangeDispatcher:{get:function(){return this._8}},selectionChangeDispatcher:{get:function(){return this._$q}},parentChangeDispatcher:{get:function(){return this._11}},childIndexChangeDispatcher:{get:function(){return this._$m}},interactionDispatcher:{get:function(){return this._1a}},cursor:{set:function(t){this.canvasPanel.style.cursor=t||this._2l.defaultCursor},get:function(){return this.canvasPanel.style.cursor}},interactionMode:{get:function(){return this._2l._mourrentMode},set:function(t){var i=this.interactionMode;i!=t&&(this._2l.currentMode=t,this._4k(new cs(this,"interactionMode",t,i)))}},scaleStep:{get:function(){return this._8h._ek},set:function(t){this._8h._ek=t}},maxScale:{get:function(){return this._8h._hm},set:function(t){this._8h._hm=t}},minScale:{get:function(){return this._8h._h9},set:function(t){this._8h._h9=t}},scale:{get:function(){return this._8h._scale},set:function(t){return this._8h._scale=t}},tx:{get:function(){return this._8h._tx}},ty:{get:function(){return this._8h._ty}},styles:{get:function(){return this._jf},set:function(t){this._jf=t}},selectionModel:{get:function(){return this._kmModel._selectionModel}},graphModel:{get:function(){return this._kmModel},set:function(t){if(this._kmModel==t)return!1;var i=this._kmModel,e=new cs(this,"graphModel",i,t);return this._1n(e)===!1?!1:(null!=i&&(i.propertyChangeDispatcher.removeListener(this._$v,this),i.listChangeDispatcher.removeListener(this._1f,this),i.dataChangeDispatcher.removeListener(this._8,this),i.parentChangeDispatcher.removeListener(this._11,this),i.childIndexChangeDispatcher.removeListener(this._$m,this),i.selectionChangeDispatcher.removeListener(this._$q,this)),this._kmModel=t,this._kmModel&&(this._kmModel.propertyChangeDispatcher.addListener(this._$v,this),this._kmModel.listChangeDispatcher.addListener(this._1f,this),this._kmModel.dataChangeDispatcher.addListener(this._8,this),this._kmModel.parentChangeDispatcher.addListener(this._11,this),this._kmModel.childIndexChangeDispatcher.addListener(this._$m,this),this._kmModel.selectionChangeDispatcher.addListener(this._$q,this)),this._8h&&this._8h._lc(),void this._4k(e))}},count:{get:function(){return this._kmModel.length}},width:{get:function(){return this.html.clientWidth}},height:{get:function(){return this.html.clientHeight}},viewportBounds:{get:function(){return this._8h._viewportBounds}},bounds:{get:function(){return this._8h._3t()}},canvasPanel:{get:function(){return this._8h._mnp}},html:{get:function(){return this._8h._mnp.parentNode}},navigationType:{get:function(){return this._8h._63},set:function(t){this._8h._3e(t)}},_3q:{get:function(){return this._kmModel._3q}},currentSubNetwork:{get:function(){return this._kmModel.currentSubNetwork},set:function(t){this._kmModel.currentSubNetwork=t}},limitedBounds:{get:function(){return this._limitedBounds},set:function(t){return ts.equals(t,this._limitedBounds)?!1:t?void(this._limitedBounds=new ts(t)):void(this._limitedBounds=null)}},ratio:{get:function(){return this._8h.ratio}},delayedRendering:{get:function(){return this._42===e?Wo.DELAYED_RENDERING:this._42},set:function(t){t!=this.delayedRendering&&(this._42=t,this.pauseRendering(!1,!0))}},fullRefresh:{get:function(){return this._8h.fullRefresh},set:function(t){this._8h.fullRefresh=t}}}),Wo.DELAYED_RENDERING=!0,Wo.GROUP_MIN_WIDTH=60,Wo.GROUP_MIN_HEIGHT=60,Hr.prototype={initialize:function(){A(this,Hr,"initialize"),this.checkBody()},_mn8:function(){this._lw=new Uh,this.shape=new ja(this._lw),this.shape.layoutByPath=!1,this.addChild(this.shape,0),this.body=this.shape},checkBody:function(){return this._5v()?(this._21=!0,this.shape?(this.shape.visible=!0,this.body=this.shape):(this._mn8(),ka.initBindingProperties(this)),void(this.image&&(this.image.visible=!1))):(this.image?(this.image.visible=!0,this.body=this.image):this._mlz(),void(this.shape&&(this.shape.visible=!1)))
},_5v:function(){return this.$data._ie()&&this.$data.expanded},_lw:null,_21:!0,_5x:function(){this._1c=!0,this._21=!0},doValidate:function(){if(this._21&&this._5v()){if(this._21=!1,this.shape.invalidateData(),this.$data.groupImage){this.shape.data=this.$data.groupImage;var t=this._20();return this.shape.offsetX=t.x+t.width/2,this.shape.offsetY=t.y+t.height/2,this.shape.size={width:t.width,height:t.height},er.prototype.doValidate.call(this)}this.shape.offsetX=0,this.shape.offsetY=0;var i=this._8x(this.$data.groupType);this._lw.clear(),i instanceof ts?bn(this._lw,i.x,i.y,i.width,i.height,i.rx,i.ry):i instanceof Qi?Ln(this._lw,i):i instanceof te&&xn(this._lw,i),this._lw._6i=!0,this.shape.invalidateData()}return er.prototype.doValidate.call(this)},_73:function(t,i,e,n,r){switch("number"!=typeof n&&(n=-i/2),"number"!=typeof r&&(r=-e/2),t){case ah.GROUP_TYPE_CIRCLE:var o=Math.max(i,e)/2;return new Qi(n+i/2,r+e/2,o);case ah.GROUP_TYPE_ELLIPSE:return new te(n+i/2,r+e/2,i,e);default:return new ts(n,r,i,e)}},_20:function(){return this._8x(null)},_8x:function(t){var i,n,r=this.data,o=r.padding,s=r.minSize,h=Wo.GROUP_MIN_WIDTH,a=Wo.GROUP_MIN_HEIGHT;if(s&&("number"==typeof s.width&&(h=s.width),"number"==typeof s.height&&(a=s.height),i=s.x,n=s.y),!r.hasChildren())return this._73(t,h,a,i,n);var l,_=this.$data._g0._jl;(t==ah.GROUP_TYPE_CIRCLE||t==ah.GROUP_TYPE_ELLIPSE)&&(l=[]);for(var u,c,d,f,v=new ts,g=0,E=_.length;E>g;g++){var m=_[g];if(this.graph.isVisible(m)){var p=this.graph.getUI(m);p&&(u=p.$x+p._g6.x,c=p.$y+p._g6.y,d=p._g6.width,f=p._g6.height,v.addRect(u,c,d,f),l&&(l.push({x:u,y:c}),l.push({x:u+d,y:c}),l.push({x:u+d,y:c+f}),l.push({x:u,y:c+f})))}}if(v.isEmpty())return this._73(t,h,a,i,n);var y=this.$data.$location;y?y.invalidateFlag&&(y.invalidateFlag=!1,i===e&&(y.x=v.cx),n===e&&(y.y=v.cy)):y=this.$data.$location={x:v.cx,y:v.cy},o&&v.grow(o),"number"==typeof i&&i+y.x<v.x&&(v.width+=v.x-(i+y.x),v.x=i+y.x,l&&l.push({x:v.x,y:v.cy})),"number"==typeof n&&n+y.y<v.y&&(v.height+=v.y-(v.y,n+y.y),v.y=n+y.y,l&&l.push({x:v.cx,y:v.y}));var T,i=y.x,n=y.y;if(t==ah.GROUP_TYPE_CIRCLE){T=ie(l),T.cx-=i,T.cy-=n;var w=Math.max(h,a)/2;return T.r<w&&(T.cx+=w-T.r,T.cy+=w-T.r,T.r=w),T}return t==ah.GROUP_TYPE_ELLIPSE?(T=ee(l,v),T.cx-=i,T.cy-=n,T.width<h&&(T.cx+=(h-T.width)/2,T.width=h),T.height<a&&(T.cy+=(a-T.height)/2,T.height=a),T):(T=v,v.width<h&&(v.width=h),v.height<a&&(v.height=a),v.offset(-i,-n),T)},_$w:function(t,i,e){if(!this._5v())return A(this,Hr,"_$w",arguments);var n=this._moa.onBindingPropertyChange(this,t,i,e);return n=Ra.onBindingPropertyChange(this,t,i,e)||n,n=Ma.onBindingPropertyChange(this,t,i,e)||n,ka.onBindingPropertyChange(this,t,i,e)||n}},w(Hr,er),hh.GroupUI=Hr;var qa={draw:function(){}};Wo.NAVIGATION_IMAGE_LEFT=null,Wo.NAVIGATION_IMAGE_TOP=null;var Xa={position:"absolute","text-align":"center"},Va={padding:"10px",transition:"opacity 0.2s ease-in"},Ka={position:"relative",display:"block"};Ei(".Q-Graph-Nav img","opacity:0.7;vertical-align:middle;"),Ei(".Q-Graph-Nav img:hover,img.hover","opacity:1;background-color: rgba(0, 0, 0, 0.5)"),Yo||(Ei(".Q-Graph-Nav","opacity:0;"+Ss("transition")+":opacity 3s cubic-bezier(0.8, 0, 0.8, 1)"),Ei(".Q-Graph-Nav:hover","opacity:1;"+Ss("transition")+":opacity 0.3s linear")),qr.prototype={_df:function(t,i){return t._hw==i?!1:(t._hw=i,void(t.style.visibility=i?"visible":"hidden"))},_37:function(t,i){var e=i/2-this._left._img.clientHeight/2+"px";this._left._img.style.top=e,this._right._img.style.top=e,this._navPane.style.width=t+"px",this._navPane.style.height=i+"px"},_9o:function(t,i,e,n){this._df(this._top,t),this._df(this._left,i),this._df(this._mnottom,e),this._df(this._right,n)},_ic:function(){var t=this._navPane.parentNode;t&&t.removeChild(this._navPane)},_jk:function(){var t=this._mnaseCanvas._km;if(t){var i=t.bounds;if(i.isEmpty())return void this._9o(!1,!1,!1,!1);var e=t.viewportBounds,n=e.y>i.y+1,r=e.x>i.x+1,o=e.bottom<i.bottom-1,s=e.right<i.right-1;this._9o(n,r,o,s)}}};var Za=10;Ei(".Q-Graph-ScrollBar","margin: 2px; position: absolute;box-sizing: border-box;box-shadow: #FFF 0px 0px 1px; background-color: rgba(120,120,120,0.3);border-radius: 4px;margin: 1px;"),Ei(".Q-Graph-ScrollBar.hover, .Q-Graph-ScrollBar:hover","background-color: #7E7E7E;"+Ss("transition")+": background-color 0.2s linear;"),Ei(".Q-Graph-ScrollBar--V","width: 8px;right: 0px;"),Ei(".Q-Graph-ScrollBar--H","height: 8px;bottom: 0px;"),Ei(".Q-Graph-ScrollBar--V.Both","margin-bottom: 8px;"),Ei(".Q-Graph-ScrollBar--H.Both","margin-right: 8px;"),Yo||(Ei(".Q-Graph-ScrollPane","opacity:0;"+Ss("transition")+":opacity 3s cubic-bezier(0.8, 0, 0.8, 1);"),Ei(".Q-Graph:hover .Q-Graph-ScrollPane","opacity:1;"+Ss("transition")+":opacity 0.3s linear;")),Xr.prototype={_ic:function(){this._verticalDragSupport._ic(),this._horizontalDragSupport._ic(),delete this._verticalDragSupport,delete this._horizontalDragSupport,this._lq.parentNode&&this._lq.parentNode.removeChild(this._lq)},_lq:null,_mni:null,_8p:null,init:function(t){var e=i.createElement("div");e.className="Q-Graph-ScrollPane",fi(e,{width:"100%",height:"100%",position:"relative"});var n=i.createElement("div");n.className="Q-Graph-ScrollBar Q-Graph-ScrollBar--V";var r=i.createElement("div");r.className="Q-Graph-ScrollBar Q-Graph-ScrollBar--H",e.appendChild(n),e.appendChild(r),t.appendChild(e),this._lq=e,this._8p=r,this._mni=n,r.isH=!0;var o=this,s={onstart:function(t,i){i.classList.add("hover")},onrelease:function(t,i){i.classList.remove("hover")},ondrag:function(t,i){var e=o._mnaseCanvas._km;if(e){var n=i.isH,r=n?t.dx:t.dy;if(r&&i.scale){var s=e.scale/i.scale;n?e.translate(-s*r,0):e.translate(0,-s*r),hh.stopEvent(t)}}},enddrag:function(t,i){var e=o._mnaseCanvas._km;if(e&&e.enableInertia){var n=i.isH,r=n?t.vx:t.vy;if(Math.abs(r)>.1){var s=e.scale/i.scale;r*=s,n?e._mle(-r,0):e._mle(0,-r)}}}};this._verticalDragSupport=new pi(n,s),this._horizontalDragSupport=new pi(r,s)},_37:function(){var t=this._mnaseCanvas._km;t&&t.callLater(this._jk.bind(this))},_jk:function(){var t=this._mnaseCanvas._km;if(t){var i=t.bounds;if(i.isEmpty())return this._4h(!1),void this._45(!1);var e=t.viewportBounds,n=t.width,r=t.height,o=t.scale,s=1/o,h=e.x>i.x+s||e.right<i.right-s,a=e.y>i.y+s||e.bottom<i.bottom-s,l=h&&a;l?(N(this._mni,"Both"),N(this._8p,"Both")):(M(this._mni,"Both"),M(this._8p,"Both")),this._4h(h,e,i,l?n-Za:n),this._45(a,e,i,l?r-Za:r)}},_4h:function(t,i,e,n){if(!t)return this._8p.style.display="none",void(this._8p.scale=0);var r=Math.min(i.x,e.x),o=Math.max(i.right,e.right),s=o-r,h=n/s;this._8p.scale=h,this._8p.style.left=parseInt((i.x-r)*h)+"px",this._8p.style.right=parseInt((o-i.right)*h)+"px",this._8p.style.display=""},_45:function(t,i,e,n){if(!t)return this._mni.style.display="none",void(this._mni.scale=0);var r=Math.min(i.y,e.y),o=Math.max(i.bottom,e.bottom),s=o-r,h=n/s;this._mni.scale=h,this._mni.style.top=parseInt((i.y-r)*h)+"px",this._mni.style.bottom=parseInt((o-i.bottom)*h)+"px",this._mni.style.display=""}},Vr.prototype={shape:null,initialize:function(){A(this,Vr,"initialize"),this._mlz(),za.initBindingProperties(this)},_mlz:function(){this.image=new Ha(this.$data.path),this.addChild(this.image,0),this.body=this.image},invalidateShape:function(){this.image.invalidateData(),this.invalidateRender()},_$w:function(t,i,e){var n=this._moa.onBindingPropertyChange(this,t,i,e);return n=Ra.onBindingPropertyChange(this,t,i,e)||n,za.onBindingPropertyChange(this,t,i,e)||n},doValidate:function(){this.body&&(this.image.data=this.data.path,this.body.$layoutByAnchorPoint=null!=this._2m,this.body.anchorPosition=this._2m);var t=this.$data.$location,i=0,e=0;t&&(i=t.x,e=t.y);var n=this.$x!=i||this.$y!=e;return n&&(this.$invalidateBounds=!0),this.$x=i,this.$y=e,$a.prototype.doValidate.call(this)||n}},w(Vr,$a),Z(Vr.prototype,{path:{get:function(){return this.data.path}},length:{get:function(){return this.data.length}}}),Vr.prototype.addPoint=function(t,i,e){var n=this._i3(t,i),r=this.data,o=Te(r.path,n.x,n.y,e);o&&(r.pathSegments=o)},Kr.prototype={_m0:function(){this._jb.style.visibility="visible"},_jm:function(){this._jb.style.visibility="hidden"},clear:function(){this._9z.clear(),this._mot()},contains:function(t){return t instanceof Object&&t.id&&(t=t.id),this._9z.containsById(t)},_4z:function(t){ya.setStyle(this._jb,"transform",t?"matrix("+t.join(",")+")":"")},addDrawable:function(t,i){if(i){var e={id:++So,drawable:t,scope:i};return this._9z.add(e),e}return t.id||(t.id=++So),this._9z.add(t),t},removeDrawable:function(t){return t.id?void this._9z.remove(t):this._9z.removeById(t)},_9z:null,invalidate:function(){this._mot()},_mot:function(){this._mnaseCanvas._6i||this._jg()},_ik:function(t,i){this._jb.setSize(t,i)},_jg:function(){var t=this._mnaseCanvas._scale,i=this.g;i._kx(),i.save(),this._mnaseCanvas._96(i);for(var e=this._9z._jl,n=0,r=e.length;r>n;n++)i.save(),i.beginPath(),this._gw(i,e[n],t),i.restore();i.restore()},_gw:function(t,i,e){return i instanceof Function?void i(t,e):void(i.drawable instanceof Function&&i.scope&&i.drawable.call(i.scope,t,e))}},Wo.ZOOM_ANIMATE=!0;var Ja=function(t){this._km=t};Wo.ANIMATION_MAXTIME=600,Wo.ANIMATION_TYPE=nh.easeOut,Ja.prototype={_km:null,_ml:.001,_ej:null,_da:function(t){return t>1?1:-1>t?-1:t},_hk:function(t,i,e){this._lp(),t*=.6,i*=.6,t=this._da(t),i=this._da(i);var n=Math.sqrt(t*t+i*i);if(.01>n)return!1;var r=Math.min(Wo.ANIMATION_MAXTIME,n/this._ml);this._speedX=t,this._speedY=i,this._mlX=t/r,this._mlY=i/r,this._7a(this._5i,r,nh.easeOutStrong,e)},_7a:function(t,i,e,n,r){this._ej&&this._ej._lp(),r&&(this.__delayRender=!0,this._km.pauseRendering(!0)),this._3y(),this._ej=new oh(t,this,i,e),this._ej._79=this._79.bind(this),this._ej._kz(n)},_3y:function(){this._km.onAnimationStart()},_79:function(){this.__delayRender&&(this._km.pauseRendering(!1),delete this.__delayRender),this._km.onAnimationEnd()},_em:function(){return this._ej&&this._ej._em()},_5i:function(t,i){if(0!=t){var e=this._speedX*i-.5*this._mlX*i*i,n=this._speedY*i-.5*this._mlY*i*i;this._speedX-=this._mlX*i,this._speedY-=this._mlY*i,this._km.translate(e,n)}},_lp:function(){this._ej&&this._ej._lp()},_i8:function(t){var i=this._fromTX+(this._toTX-this._fromTX)*t,e=this._fromTY+(this._toTY-this._fromTY)*t,n=this._fromScale+(this._toScale-this._fromScale)*t;this._km.translateTo(i,e,n,this.toInt)},_l5:function(t,i,e,n,r){this._lp();var o=this._km,s=o.scale;if(0>=e&&(e=s),t!=o.tx||i!=o.ty||e!=s){var h,a,l;n instanceof Object&&(h=n.duration,a=n.maxTime,l=n.animationType);var _=o.tx,u=o.ty;if(!h)if(e!=s){var c=e>s?e/s:s/e;c=Math.log(c)/Math.log(1.3),h=60*c}else{var d=Zo(t,i,_,u);h=d/2}a=a||Wo.ANIMATION_MAXTIME,l=l||Wo.ANIMATION_TYPE,h=Math.min(a,h),this._fromTX=_,this._fromTY=u,this._fromScale=s,this._toTX=t,this._toTY=i,this._toScale=e,this._7a(this._i8,h,l,r,e!=s)}}},Wo.INTERACTION_HANDLER_SIZE_TOUCH=8,Wo.INTERACTION_HANDLER_SIZE_DESKTOP=4,Wo.INTERACTION_ROTATE_HANDLER_SIZE_TOUCH=30,Wo.INTERACTION_ROTATE_HANDLER_SIZE_DESKTOP=20;var Qa=Math.PI/4;Qr.prototype={onElementRemoved:function(t,i){this.element&&(t==this.element||z(t)&&y(t,this.element))&&this.destroy(i)},onClear:function(t){this.element&&this.destroy(t)},destroy:function(){delete this.element,this.removeDrawable()},invalidate:function(){this.topCanvas.invalidate()},removeDrawable:function(){this._hfId&&(this.topCanvas.removeDrawable(this._hfId),delete this._hfId,this.invalidate())},addDrawable:function(){this._hfId||(this._hfId=this.topCanvas.addDrawable(this.doDraw,this).id,this.invalidate())},doDraw:function(){},escapable:!0,onkeydown:function(t,i){this.escapable&&27==t.keyCode&&(j(t),this.destroy(i))}},hh.DrawableInteraction=Qr,to.prototype={defaultCursor:"default",getInteractionInstances:function(t){if(!this.interactions)return null;for(var i=[],e=0,n=this.interactions.length;n>e;e++){var r=this.interactions[e];r instanceof Function?i.push(new r(t)):r instanceof Object&&i.push(r)}return i}},io.prototype={_et:null,_k3:null,destroy:function(){A(this,io,"destroy",arguments),delete this._k3,delete this._9n,delete this._et},doDraw:function(t){var i=this.points;i&&(i.forEach(function(i){this.drawPoint(t,i)},this),this.isClosePath&&t.closePath(),this.styleDraw(t))},styleDraw:function(t){var i=eo(this.graph.interactionProperties,this.getDefaultDrawStyles(this.graph));i.lineWidth&&(t.lineWidth=i.lineWidth,i.lineCap&&(t.lineCap=i.lineCap),i.lineJoin&&(t.lineJoin=i.lineJoin),i.lineDash&&(t.lineDash=i.lineDash,t.lineDashOffset=i.lineDashOffset||0),t.strokeStyle=i.strokeStyle,t.stroke()),i.fillStyle&&(t.fillStyle=i.fillStyle,t.fill())},drawPoint:function(t,i,e){if(e)return void t.moveTo(i.x,i.y);if(hh.isArray(i)){var n=i[0],r=i[1];t.quadraticCurveTo(n.x,n.y,r.x,r.y)}else t.lineTo(i.x,i.y)},setCurrentPoint:function(t){this.currentPoint=t},addPoint:function(t){this._k3||(this._k3=[],this.addDrawable()),this._k3.push(t),this.invalidate()}},w(io,Qr),Z(io.prototype,{currentPoint:{get:function(){return this._9n},set:function(t){this._9n=t,this.invalidate()}},prevPoint:{get:function(){return this._k3&&this._k3.length?this._k3[this._k3.length-1]:null}},points:{get:function(){return this._9n&&this._k3&&this._k3.length?this._k3.concat(this._9n):void 0}}}),hh.DrawPathInteraction=io,no.prototype={destroy:function(){A(this,no,"destroy",arguments),delete this.start,this._l8&&(clearTimeout(this._l8),delete this._l8)},doDraw:function(t,i){return this._k3?this._k3.length<=1?so.prototype.doDraw.call(this,t,i):void A(this,no,"doDraw",arguments):void 0},ondblclick:function(t,i){this.destroy(i)},finish:function(t,i,e){var n;this._k3&&this._k3.length>=2&&(this._k3.shift(),n=new qo,f(this._k3,function(t){if(hh.isArray(t)){var i=t[0],e=t[1];n.add(new Yh(ah.SEGMENT_QUAD_TO,[i.x,i.y,e.x,e.y]))}else n.add(new Yh(ah.SEGMENT_LINE_TO,[t.x,t.y]))},this)),i.createEdgeByInteraction(this.start,e,t,n),this.destroy(i)},_mnn:function(t,i){return t instanceof Aa&&i.canLinkFrom(t)},_f1:function(t,i){return t instanceof Aa&&i.canLinkTo(t,this.start)},_98:function(t,i){var e=i.getUI(t);return e&&e.bodyBounds?e.bodyBounds.center:t.location},onstart:function(t,i){if(this.start){var e=t.getData();return this._f1(e,i)?void this.finish(t,i,e):void this.addPoint(this.toLogicalPoint(t))}},startdrag:function(t,i){if(!this.start&&!t.responded){var e=t.getData();e&&this._mnn(e,i)&&(t.responded=!0,this.start=e,this.addPoint(this._98(e,i)))}},_mox:function(t){this._l8&&(clearTimeout(this._l8),delete this._l8),this._l8=setTimeout(function(t){if(delete this._l8,this.start&&this.currentPoint){var i=t.x-this.currentPoint.x,e=t.y-this.currentPoint.y;Math.sqrt(i*i+e*e)*this.graph.scale<=2&&this.addPoint(this.currentPoint)}}.bind(this,this.toLogicalPoint(t)),Wo.LONG_PRESS_INTERVAL)},ondrag:function(t,i){this.onmousemove(t,i)},enddrag:function(t,i){if(this.start){var e=t.getData();this._f1(e,i)&&this.finish(t,i,e)}},onrelease:function(t,i){Bs(t)&&this.destroy(i)},onmousemove:function(t,i){this.start&&(this.currentPoint=this.toLogicalPoint(t),Bs(t)&&this._mox(t,i))},toLogicalPoint:function(t){return this.graph.toLogical(t)},getDefaultDrawStyles:function(){return{lineWidth:this.graph.getDefaultStyle(Ca.EDGE_WIDTH),strokeStyle:this.graph.getDefaultStyle(Ca.EDGE_COLOR),lineDash:this.graph.getDefaultStyle(Ca.EDGE_LINE_DASH),lineDashOffset:this.graph.getDefaultStyle(Ca.EDGE_LINE_DASH_OFFSET),lineCap:this.graph.getDefaultStyle(Ca.LINE_CAP),lineJoin:this.graph.getDefaultStyle(Ca.LINE_JOIN)}}},w(no,io),hh.CreateEdgeInteraction=no,ro.prototype={getDefaultDrawStyles:function(){return{lineWidth:this.graph.getDefaultStyle(Ca.SHAPE_STROKE),strokeStyle:this.graph.getDefaultStyle(Ca.SHAPE_STROKE_STYLE),fillStyle:this.graph.getDefaultStyle(Ca.SHAPE_FILL_COLOR)}},finish:function(t,i){if(this._k3&&this._k3.length){var e=this._k3,n=0,r=0,o=0;e.forEach(function(t){return hh.isArray(t)?void t.forEach(function(){n+=t.x,r+=t.y,o++}):(n+=t.x,r+=t.y,void o++)}),n/=o,r/=o;var s=[];e.forEach(function(t,i){if(0==i)return void s.push(new Yh(ah.SEGMENT_MOVE_TO,[t.x-n,t.y-r]));if(hh.isArray(t)){var e=t[0],o=t[1];s.push(new Yh(ah.SEGMENT_QUAD_TO,[e.x-n,e.y-r,o.x-n,o.y-r]))}else s.push(new Yh(ah.SEGMENT_LINE_TO,[t.x-n,t.y-r]))}),this.createElement(t,s,n,r),this.destroy(i)}},startdrag:function(t){t.responded=!0},createElement:function(t,i,e,n){return this.graph.createShapeByInteraction(t,i,e,n)},onstart:function(t,i){var e=i.toLogical(t);this._et=e,this.addPoint(e)},onmousemove:function(t,i){this._et&&(this.currentPoint=i.toLogical(t))},ondblclick:function(t,i){if(this._et){if(this._k3.length<3)return void this.destroy(i);delete this._k3[this._k3.length-1],this.finish(t,i)}},isClosePath:!0},w(ro,io),hh.CreateShapeInteraction=ro,oo.prototype={isClosePath:!1,createElement:function(t,i,e,n){return this.graph.createLineByInteraction(t,i,e,n)},getDefaultDrawStyles:function(){return{lineWidth:Ua[Ca.SHAPE_STROKE],strokeStyle:Ua[Ca.SHAPE_STROKE_STYLE],lineDash:this.graph.getDefaultStyle(Ca.SHAPE_LINE_DASH),lineDashOffset:this.graph.getDefaultStyle(Ca.SHAPE_LINE_DASH_OFFSET),lineCap:this.graph.getDefaultStyle(Ca.LINE_CAP),lineJoin:this.graph.getDefaultStyle(Ca.LINE_JOIN)}}},w(oo,ro),hh.CreateLineInteraction=oo,so.prototype={destroy:function(t){A(this,so,"destroy",arguments),t.cursor="",this.start=null},doDraw:function(t){if(this.start&&this.currentPoint){var i,e;this.graph.interactionProperties&&(i=this.graph.interactionProperties.uiClass,e=this.graph.interactionProperties.edgeType),i=i||this.graph.edgeUIClass||hh.EdgeUI,e=e||this.graph.edgeType;var n=i.drawReferenceLine||hh.EdgeUI.drawReferenceLine,r=this.graph.getUI(this.start);r&&r.bodyBounds&&(r=r.bodyBounds.center,n(t,r,this.currentPoint,e),this.styleDraw(t))}},canLinkFrom:function(t,i){return t instanceof Aa&&i.canLinkFrom(t)},canLinkTo:function(t,i){return t instanceof Aa&&i.canLinkTo(t,this.start)},startdrag:function(t,i){var e=t.getData();this.canLinkFrom(e,i)&&(t.responded=!0,this.start=e,i.cursor="crosshair",this.addDrawable())},ondrag:function(t,i){this.start&&(hh.stopEvent(t),this.currentPoint=i.toLogical(t),this.invalidate())},enddrag:function(t,i){if(this.start){this.invalidate();var e=t.getData();this.canLinkTo(e,i)&&i.createEdgeByInteraction(this.start,e,t),this.destroy(i)}},getDefaultDrawStyles:function(){return{lineWidth:this.graph.getDefaultStyle(Ca.EDGE_WIDTH),strokeStyle:this.graph.getDefaultStyle(Ca.EDGE_COLOR),lineDash:this.graph.getDefaultStyle(Ca.EDGE_LINE_DASH),lineDashOffset:this.graph.getDefaultStyle(Ca.EDGE_LINE_DASH_OFFSET),lineCap:this.graph.getDefaultStyle(Ca.LINE_CAP),lineJoin:this.graph.getDefaultStyle(Ca.LINE_JOIN)}}},w(so,io),hh.CreateSimpleEdgeInteraction=so,Wo.LABEL_EDITOR_SUBMIT_WHEN_LOST_FOCUS=!1,co.prototype={html:null,createHTML:function(){var t=i.createElement("textarea");t.className="Q-LabelEditor",t.style.position="absolute",t.style.textAlign="center",t.style.border="solid #08E 1px",t.style.padding="5px",t.style.boxShadow="0px 0px 10px rgba(40, 85, 184, 0.75)",t.style.display="none",t.style.overflow="hidden";var e=this;return t.oninput=function(t){e.onValueChange(t)},t.onkeydown=function(t){return 27==t.keyCode?void e.cancelEdit():void 0},t.onkeypress=function(i){if(13==i.keyCode||10==i.keyCode){if(i.preventDefault(),i.altKey||i.ctrlKey||i.shiftKey)return _o(t,"\n"),void e.onValueChange(i);e.stopEdit()}},i.body.appendChild(t),t},setText:function(t,i){this.html.value=t||"",i&&(this.html.style.fontSize=i),uo(this.html),this.onSizeChange(this.html)},onSizeChange:function(t){var i=(t.offsetWidth,t.offsetHeight,lo(t));return t.style.width=i.width+30+"px",t.style.height=i.height+10+"px",i},onValueChange:function(t){{var i=t.target;this.onSizeChange(i)}i.style.left=i.x-i.offsetWidth/2+"px"},onClickOnWindow:function(t){t.target!=this.html&&(Wo.LABEL_EDITOR_SUBMIT_WHEN_LOST_FOCUS?this.stopEdit():this.cancelEdit())},startEdit:function(i,e,n,r,o){this.html||(this.html=this.createHTML()),this.stopEditWhenClickOnWindow||(this.stopEditWhenClickOnWindow=function(t){this.onClickOnWindow(t)}.bind(this)),t.addEventListener("mousedown",this.stopEditWhenClickOnWindow,!0),this.callback=o,this.html.x=i,this.html.y=e,this.html.style.display="block",ao(this.html,i,e),this.setText(n,r||10),ao(this.html,i,e)},isEditing:function(){return"none"!=this.html.style.display},cancelEdit:function(){this.stopEdit(!0)},stopEdit:function(i){if(this.isEditing()){t.removeEventListener("mousedown",this.stopEditWhenClickOnWindow);var e=this.html.value;if(!i&&this.callback&&this.callback(e)===!1)return!1;this.html.style.display="none",this.html.value=null,this.callback=null}},destroy:function(){this.html&&i.body.removeChild(this.html)}},hh.LabelEditor=co;var tl=function(t){this.graph=t};tl.prototype={destroy:function(t){t.labelEditor&&(t.labelEditor.destroy(),delete t.labelEditor)},ondblclick:function(t,i){var e=t.getData();if(e){if(e.dblclickable!==!1){if(i.editable&&i.isEditable(e)){var n=i.hitTest(t);if(n instanceof Ya&&n.editable!==!1){var r=i.labelEditor;r||(i.labelEditor=r=new co);var o=n.getBounds();return o=i.toCanvas(o.x+o.width/2,o.y+o.height/2),o=ho(o.x,o.y,i.html),void i.startLabelEdit(e,n,r,o)}}var s=e instanceof xa,h=e instanceof Oa&&e.hasEdgeBundle();return e._47&&(yi(t)||!s&&!h)?void(i.currentSubNetwork=e):s?(e.expanded=!e.expanded,void this.graph.onInteractionEvent(new yo(this.graph,yo.GROUP_EXPANDED,t,e))):void(h&&this.graph.reverseExpanded(e)&&this.graph.onInteractionEvent(new yo(this.graph,yo.EDGE_BUNDLE,t,e)))}}else{if(i.currentSubNetwork)return void i.upSubNetwork();if(i.enableDoubleClickToOverview){var a=i.resetScale||1;Math.abs(i.scale-a)<1e-4?i.zoomToOverview():i.moveToCenter(a)}}}};var il=function(t){this.graph=t};il.prototype={onkeydown:function(t,i){if(i.editable){var e=t.keyCode;if(8==e||46==e||127==e)return i.removeSelectionByInteraction(t),void F(t);if(yi(t)){if(67==e);else if(86==e);else if(90==e);else if(89!=e)return;F(t)}}}},hh.EditInteraction=il;var el=function(t){this.graph=t};el.prototype={onkeydown:function(i,e){if(i.metaKey&&83==i.keyCode){var n=e.exportImage(e.scale,e.viewportBounds),r=t.open(),o=r.document;o.title="export image - "+n.width+" x "+n.height;var s=o.createElement("img");s.src=n.data,o.body.appendChild(s),F(i)}}};var nl=function(t){this.graph=t};nl.prototype={destroy:function(){delete this.draggingElements,delete this.currentDraggingElement},_28:function(t){var i=new qo;return t.selectionModel.forEach(function(e){t.isMovable(e)&&t.isVisible(e)&&i.add(e)},this),i},onstart:function(t,i){this.currentDraggingElement&&this.destroy(i)},startdrag:function(t,i){if(!(t.responded||t.touches&&1!=t.touches.length)){var e=t.getData();if(!e||!i.isSelected(e)||!i.isMovable(e))return void this.destroy(i);t.responded=!0,this.currentDraggingElement=e,this.draggingElements=this._28(i);var n=new yo(i,yo.ELEMENT_MOVE_START,t,this.currentDraggingElement,this.draggingElements.datas);return i.beforeInteractionEvent(n)===!1?void this.destroy(i):void i.onInteractionEvent(n)}},ondrag:function(t,i){if(this.currentDraggingElement){if(t.touches&&1!=t.touches.length)return void this.enddrag(t,i);j(t);var e=t.dx,n=t.dy,r=i.scale;e/=r,n/=r;var o=new yo(i,yo.ELEMENT_MOVING,t,this.currentDraggingElement,this.draggingElements.datas);i.moveElements(this.draggingElements.datas,e,n),i.onInteractionEvent(o)}},enddrag:function(t,i){if(this.currentDraggingElement){if(this.draggingElements&&this.draggingElements.length){if(t.shiftKey){var e,n=i.toLogical(t),r=n.x,o=n.y;i.forEachReverseVisibleUI(function(t){var i=t.data;if(!this.draggingElements.contains(i)&&t.uiBounds.intersectsPoint(r-t.x,o-t.y)&&t.hitTest(r,o,1)){if(i instanceof hh.Edge){if(!i.enableSubNetwork)return;for(var n=this.draggingElements.length;n-->0;){var s=this.draggingElements.get(n);if(s instanceof hh.Node&&s.linkedWith(i))return}return e=i,!1}return(i.enableSubNetwork||i._ie()&&i.expanded)&&(e=i),!1}},this),e&&this.draggingElements.forEach(function(t){for(var i=t.parent;i;){if(this.draggingElements.contains(i))return;i=i.parent}t.parent=e},this)}var s=new yo(i,yo.ELEMENT_MOVE_END,t,this.currentDraggingElement,this.draggingElements.datas);i.onInteractionEvent(s)}this.destroy(i)}},onpinch:function(t,i){this.currentDraggingElement&&this.enddrag(t,i)},step:1,onkeydown:function(t,i){if(yi(t)){var e,n;if(37==t.keyCode?e=-1:39==t.keyCode?e=1:38==t.keyCode?n=-1:40==t.keyCode&&(n=1),e||n){var r=this._28(i).datas;if(0!=r.length){F(t),e=e||0,n=n||0;var o=this.step/i.scale,s=new yo(i,yo.ELEMENT_MOVE_END,t,null,r);i.moveElements(r,e*o,n*o),i.onInteractionEvent(s)}}}}};var rl=function(t){this.graph=t};rl.prototype={onkeydown:function(t,i){yi(t)||(37==t.keyCode?(this._5k(i,1,0),F(t)):39==t.keyCode?(this._5k(i,-1,0),F(t)):38==t.keyCode?(this._5k(i,0,1),F(t)):40==t.keyCode&&(this._5k(i,0,-1),F(t)))},_5k:function(t,i,e){t._mle(i,e)},onstart:function(t,i){this._kz&&this.destroy(i)},_kz:!1,startdrag:function(t,i){if(!t.responded){t.responded=!0,this._kz=!0,i.cursor=Zs;var e=new yo(i,yo.PAN_START,t);i.onInteractionEvent(e)}},ondrag:function(t,i){this._kz&&i.translate(t.dx||0,t.dy||0)},enddrag:function(t,i){if(this._kz){if(i.enableInertia!==!1){var e=t.vx,n=t.vy;(Math.abs(e)>.1||Math.abs(n)>.1)&&i._mle(e,n)}this.destroy(i);var r=new yo(i,yo.PAN_END,t);i.onInteractionEvent(r)}},startpinch:function(t,i){i.pauseRendering(!0)},onpinch:function(t,i){this._kz=!0;var e=t.dScale;if(e){var n=i.globalToLocal(t.center);i.zoomAt(e,n.x,n.y,!1)}},endpinch:function(t,i){i.pauseRendering(!1)},destroy:function(t){this._kz=!1,t.cursor=null}},fo.prototype={_1e:function(t){this.element&&t.source==this.element&&this.graph.callLater(function(){this._jk()},this)},_6:function(){this._lfPropertyChangeListing||(this._lfPropertyChangeListing=!0,this.graph.dataPropertyChangeDispatcher.addListener(this._1e,this))},_5:function(){this._lfPropertyChangeListing=!1,this.graph.dataPropertyChangeDispatcher.removeListener(this._1e,this)},onElementRemoved:function(t,i){this.element&&(t==this.element||Array.isArray(t)&&y(t,this.element))&&this.destroy(i)},onClear:function(t){this.element&&this.destroy(t)},destroy:function(){this.graph.cursor=null,this.element&&delete this.element._editting,this._mousePressed=!1,delete this.element,delete this._9t,delete this._9n,delete this._moanEdit,this._6g(),this._5()},_6g:function(){this.drawLineId&&(this.topCanvas.removeDrawable(this.drawLineId),delete this.drawLineId,this.topCanvas.invalidate())},_mnm:function(){this.drawLineId&&this.topCanvas.contains(this.drawLineId)||(this.drawLineId=this.topCanvas.addDrawable(this.drawLine,this).id,this.topCanvas.invalidate())},_9t:null,_5l:function(t){this._9t=t,this.invalidate()},_ew:function(t,i,e){t.beginPath(),i.isControlPoint?t.rect(i.x-this.handlerSize/e,i.y-this.handlerSize/e,this.handlerSize/e*2,this.handlerSize/e*2):t.arc(i.x,i.y,this.handlerSize/e,0,2*Math.PI,!1),t.lineWidth=1/e,t.lineDash=[],t.strokeStyle="#888",t.fillStyle="rgba(255, 255, 0, 0.8)",t.stroke(),t.fill()},_hf:function(t,i,e,n){n?t.moveTo(i,e):t.lineTo(i,e)},drawLine:function(t,i){if(this._9t&&this._9t.length){t.save();var e=this.element instanceof ba;e&&(t.translate(this.element.x,this.element.y),this.element.rotate&&t.rotate(this.element.rotate));var n,r=[];t.beginPath();{this._9t.length}this._9t.forEach(function(i){if(i.type!=ah.SEGMENT_CLOSE)for(var e=0,o=i.points;e+1<o.length;){var s=o[e],h=o[e+1],a={x:s,y:h,isControlPoint:this._7o(i,e)};r.push(a),this._hf(t,a.x,a.y,null==n),n=a,e+=2}},this),t.lineWidth=1/i,t.lineDash=[2/i,3/i],t.strokeStyle="#555",t.stroke(),r.forEach(function(e){this._ew(t,e,i)},this),t.restore()}},invalidate:function(){this.topCanvas.invalidate()},_3k:function(t){if(this.element!=t&&(this.element&&this.destroy(),t&&this.isEditable(t))){var i=this._5m(t,this.graph);i&&(this.element=t,t._editting=!0,this._moanEdit=!0,this._5l(i),this._6(),this._mnm())}},_jk:function(){if(this.drawLineId&&this.element){var t=this._5m(this.element,this.graph);return t?void this._5l(t):void this.destroy(this.graph)}},_5m:function(t,i){if(i.isEditable(t)){var e=t.pathSegments||[];e instanceof qo&&(e=e.toDatas());var n=i.getUI(t);if(n instanceof hh.EdgeUI){var r=t.fromAgent,o=t.toAgent,s=i.getUI(r),h=i.getUI(o),a=s.bodyBounds.clone(),l=h.bodyBounds.clone(),_=a.center,u=l.center,c=n.getStyle(hh.Styles.EDGE_FROM_OFFSET),d=n.getStyle(hh.Styles.EDGE_TO_OFFSET);c&&(_.x+=c.x||0,_.y+=c.y||0),d&&(u.x+=d.x||0,u.y+=d.y||0),e.splice(0,0,new hh.PathSegment(ah.SEGMENT_MOVE_TO,[_.x,_.y])),e.push(new hh.PathSegment(ah.SEGMENT_MOVE_TO,[u.x,u.y]))}return e}},_i3:function(t,i){t-=this.element.x,i-=this.element.y;var e={x:t,y:i};return this.element.rotate&&xr(e,-this.element.rotate),e},onclick:function(t,i){if(i.editable&&t.altKey&&this.element){var e=this._h8(t,i);if(e&&e.isControlPoint)return void this.element.removePathSegmentByIndex(e.index);if(this.element==t.getData()){var n=i.toLogical(t),r=i.getUI(this.element);r.addPoint(n.x,n.y,this.handlerSize||2)}}},isEditable:function(t){return this.graph.isEditable(t)&&(t instanceof ba||t instanceof Oa&&(!t.isLooped()||t.hasPathSegments()))},ondblclick:function(t,i){if(!i.editable)return void(this.element&&this.destroy(i));var e=t.getData();return!e||e==this.element||e._editting?void this.destroy(i):void this._3k(e)},onstart:function(t,i){if(this._mousePressed=!0,!i.editable)return void(this.element&&this.destroy(i));if(!t.responded){if(this.element&&this._h8(t,i))return void(t.responded=!0);var e=t.getData();return e&&i.isResizable(e)&&e instanceof ba?void(this.element&&e!=this.element&&this.destroy()):void this._3k(e)}},onrelease:function(){this._mousePressed=!1,this.element&&(this._moanEdit=!0)},_9n:null,_h8:function(t,i){var e=i.toLogical(t);this.element instanceof ba&&(e=this._i3(e.x,e.y));var n,r=i.scale,o=this.handlerSize/r,s=this._9t,h=s.length,a=this.element instanceof hh.Edge;return s.forEach(function(t,r){for(var l=0,_=t.points;l+1<_.length;){var u=_[l],c=_[l+1],d=Zo(e.x,e.y,u,c);if(o>d){if(n={oldPoints:_.slice(0),segment:t,index:r,pointIndex:l},a&&(n.index-=1),a&&!vo(t)&&(0==r||r==s.length-1)){n.isEndPoint=!0;var f=0==r;n.isFrom=f;var v=f?hh.Styles.EDGE_FROM_OFFSET:hh.Styles.EDGE_TO_OFFSET,g=i.getStyle(this.element,v)||{};n.oldPoints=[g.x||0,g.y||0]}return this._7o(t,l)&&(n.isControlPoint=!0,r>0&&(n.prevSegment=s instanceof qo?s.getByIndex(r-1):s[r-1]),h>r+1&&(n.nextSegment=s instanceof qo?s.getByIndex(r+1):s[r+1],n.nextSegment.points&&(n.oldNextPoints=n.nextSegment.points.slice(0)))),!1}l+=2}},this),n},_7o:function(t,i){return i==t.points.length-2},startdrag:function(t,i){if(this.element&&this._moanEdit&&(this._9n=this._h8(t,i),this._9n)){this._6g(),t.responded=!0;var e=new yo(i,yo.POINT_MOVE_START,t,this.element);e.point=this._9n,i.onInteractionEvent(e)}},onkeyup:function(t,i){this._mousePressed&&16!=!t.keyCode&&this.element&&this._9n&&this._9n.delta&&this._moy(this._9n.delta.x,this._9n.delta.y,i,t,!1)},onkeydown:function(t,i){this._mousePressed&&this.element&&this._9n&&t.shiftKey&&this._9n.delta&&this._moy(this._9n.delta.x,this._9n.delta.y,i,t,!0)},_moy:function(t,i,e,n,r){var o=this._9n,s=this.element,h=o.oldPoints,a=o.segment;if(o.isEndPoint){var l=o.isFrom?hh.Styles.EDGE_FROM_OFFSET:hh.Styles.EDGE_TO_OFFSET,_={x:h[0]+t,y:h[1]+i};return void s.setStyle(l,_)}if(r&&o.isControlPoint){var u={x:h[h.length-2]+t,y:h[h.length-1]+i},c=o.prevSegment,d=o.nextSegment,f=20/e.scale,v=Number.MAX_VALUE,g=v,E=v,m=v;c&&(c=c.lastPoint,v=Math.abs(u.x-c.x),E=Math.abs(u.y-c.y)),d&&(d=d.lastPoint,g=Math.abs(u.x-d.x),m=Math.abs(u.y-d.y)),f>v&&g>v?t+=c.x-u.x:f>g&&v>g&&(t+=d.x-u.x),f>E&&m>E?i+=c.y-u.y:f>m&&E>m&&(i+=d.y-u.y)}if(o.isControlPoint&&vo(a)){for(var p=a.points.length-4;p<a.points.length;){var y=h[p]+t,T=h[p+1]+i;a.points[p]=y,a.points[p+1]=T,p+=2}if(o.nextSegment&&vo(o.nextSegment)){var w=o.oldNextPoints,y=w[0]+t,T=w[1]+i;o.nextSegment.points[0]=y,o.nextSegment.points[1]=T}}else{var p=o.pointIndex,y=h[p]+t,T=h[p+1]+i;a.points[p]=y,a.points[p+1]=T}s.firePathChange();var O=new yo(e,yo.POINT_MOVING,n,s);O.point=o,e.onInteractionEvent(O)},ondrag:function(t,i){if(this.element&&this._9n){var e=this._9n,n=this.element,r=t.totalDeltaX,o=t.totalDeltaY,s=i.scale;if(r/=s,o/=s,n.rotate){var h={x:r,y:o};
xr(h,-n.rotate),r=h.x,o=h.y}e.delta={x:r,y:o},this._moy(r,o,i,t,t.shiftKey)}},enddrag:function(t,i){if(this.element&&this._9n){this._mnm(),this._jk();var e=new yo(i,yo.POINT_MOVE_END,t,this.element);e.point=this._9n,i.onInteractionEvent(e)}},onmousemove:function(t,i){this.element&&(i.cursor=t.altKey&&(this._h8(t,i)||this.element==t.getData())?"crosshair":null)}},Wo.SELECTION_RECTANGLE_STROKE=1,Wo.SELECTION_RECTANGLE_STROKE_COLOR=V(3724541951),Wo.SELECTION_RECTANGLE_FILL_COLOR=V(1430753245);var ol=function(t){this.graph=t,this.topCanvas=t._8h._topCanvas};ol.prototype={onstart:function(t,i){this._kz&&this.destroy(i)},startdrag:function(t,i){t.responded||(t.responded=!0,this._kz=i.toLogical(t),i.cursor="crosshair",this._14Id=this.topCanvas.addDrawable(this._14,this).id)},ondrag:function(t,i){if(this._kz){j(t),this._end=i.toLogical(t),this.invalidate();var e=new yo(i,yo.SELECT_START,t,i.selectionModel);i.onInteractionEvent(e)}},enddrag:function(t,i){if(this._kz){this._fpTimer&&(clearTimeout(this._fpTimer),this._fpTimer=null),this._fp(!0),this.destroy(i);var e=new yo(i,yo.SELECT_END,t,i.selectionModel);i.onInteractionEvent(e)}},onpinch:function(t,i){this._kz&&this.enddrag(t,i)},_14:function(t,i){t.strokeStyle=Wo.SELECTION_RECTANGLE_STROKE_COLOR,t.fillStyle=Wo.SELECTION_RECTANGLE_FILL_COLOR,t.lineWidth=Wo.SELECTION_RECTANGLE_STROKE/i;var e=this._kz.x,n=this._kz.y;t.rect(e,n,this._end.x-e,this._end.y-n),t.fill(),t.stroke()},invalidate:function(){return this.invalidateFlag?void this.topCanvas.invalidate():(this.invalidateFlag=!0,void(this._fpTimer=setTimeout(this._fp.bind(this),100)))},_fp:function(t){if(this.invalidateFlag=!1,this._fpTimer=null,!this._kz||Po&&!t)return void this.topCanvas.invalidate();var i=Math.min(this._kz.x,this._end.x),e=Math.min(this._kz.y,this._end.y),n=Math.abs(this._kz.x-this._end.x),r=Math.abs(this._kz.y-this._end.y);if(!n||!r)return void this.graph.selectionModel.clear();var o,s=[],h=this.graph.scale;if(this.graph.forEachVisibleUI(function(t){t._hw&&this.graph.isSelectable(t.$data)&&(o=t._g6,(hi(i,e,n,r,o.x+t._x,o.y+t._y,o.width,o.height)||Ce(i,e,n,r,t,h))&&s.push(t.$data))},this),this.graph.selectionModel.set(s),this.topCanvas.invalidate(),!t){var a=new yo(this.graph,yo.SELECT_BETWEEN,null,this.graph.selectionModel);this.graph.onInteractionEvent(a)}},destroy:function(t){this._kz=null,t.cursor=null,this._14Id&&(this.topCanvas.removeDrawable(this._14Id),delete this._14Id,this.topCanvas.invalidate())}};var sl=S({"super":ol,onstart:null,startdrag:null,ondrag:null,enddrag:null,accept:function(t,i,e){return e.enableRectangleSelectionByRightButton!==!1},oncontextmenu:function(t,i){i.popupmenu||j(t)},onstart2:function(){ol.prototype.onstart.apply(this,arguments)},startdrag2:function(t,i){t.responded||(i.popupmenu&&i.popupmenu.hide instanceof Function&&i.popupmenu.hide(),ol.prototype.startdrag.apply(this,arguments))},ondrag2:function(){ol.prototype.ondrag.apply(this,arguments)},enddrag2:function(){ol.prototype.enddrag.apply(this,arguments)}}),Qa=Math.PI/4;go.prototype={_f3:!1,_f4:!1,_1e:function(t){this.element&&t.source==this.element&&this.graph.callLater(function(){this._mld()},this)},_6:function(){this._lfPropertyChangeListing||(this._lfPropertyChangeListing=!0,this.graph.dataPropertyChangeDispatcher.addListener(this._1e,this))},_5:function(){this._lfPropertyChangeListing=!1,this.graph.dataPropertyChangeDispatcher.removeListener(this._1e,this)},onElementRemoved:function(t,i){this.element&&(t==this.element||z(t)&&y(t,this.element))&&this.destroy(i)},onClear:function(t){this.element&&this.destroy(t)},ondblclick:function(t,i){this.element&&this.destroy(i)},destroy:function(t){t.cursor=null,delete this.element,delete this._mou,delete this._mnody,delete this._9n,delete this._moanEdit,delete this._k3,delete this._rotatePoint,delete this._f4,delete this._f3,delete this._insets,this._6g(),this._5()},_6g:function(){this._hfId&&(this.topCanvas.removeDrawable(this._hfId),delete this._hfId,this.topCanvas.invalidate())},_mnm:function(){this._hfId&&this.topCanvas.contains(this._hfId)||(this._hfId=this.topCanvas.addDrawable(this._hf,this).id,this.topCanvas.invalidate())},_mou:null,_k3:null,_8o:function(t){this._mou=t;{var i=this._mou.x,e=this._mou.y,n=this._mou.width,r=this._mou.height;this.element instanceof xa&&this.element.expanded}if(this._f4){var o=[];o.push({x:i,y:e,p:es.LEFT_TOP,cursor:"nwse-resize",rotate:5*Qa}),o.push({x:i+n/2,y:e,p:es.CENTER_TOP,cursor:"ns-resize",rotate:6*Qa}),o.push({x:i+n,y:e,p:es.RIGHT_TOP,cursor:"nesw-resize",rotate:7*Qa}),o.push({x:i,y:e+r/2,p:es.LEFT_MIDDLE,cursor:"ew-resize",rotate:4*Qa}),o.push({x:i,y:e+r,p:es.LEFT_BOTTOM,cursor:"nesw-resize",rotate:3*Qa}),o.push({x:i+n,y:e+r/2,p:es.RIGHT_MIDDLE,cursor:"ew-resize",rotate:0}),o.push({x:i+n/2,y:e+r,p:es.CENTER_BOTTOM,cursor:"ns-resize",rotate:2*Qa}),o.push({x:i+n,y:e+r,p:es.RIGHT_BOTTOM,cursor:"nwse-resize",rotate:Qa}),this._k3=o}this._rotatePoint=this._f3?{x:i+n/2,y:e,cursor:Js}:null,this._mot()},_ew:function(t,i,e,n){t.beginPath();var r=(this.handlerSize-1)/n;t.rect(i-r,e-r,2*r,2*r),t.lineWidth=1/n,t.lineDash=[],t.strokeStyle="#888",t.fillStyle="rgba(255, 255, 255, 0.8)",t.stroke(),t.fill()},_5n:function(t,i,e,n,r,o){r=r||this.handlerSize,o=o||"rgba(0, 255, 0, 1)",t.beginPath(),r/=n,t.arc(i,e,r,0,2*Math.PI,!1),t.lineWidth=1/n,t.lineDash=[],t.strokeStyle="#888",t.fillStyle=o,t.stroke(),t.fill()},_i3:function(t,i){t-=this.element.x,i-=this.element.y;var e={x:t,y:i};return this.element.rotate&&xr(e,-this.element.rotate),e},_hf:function(t,i){if(this._mou){if(t.save(),t.translate(this.element.x,this.element.y),this.element.rotate&&t.rotate(this.element.rotate),this._rotatePoint){this._5n(t,0,0,i,3,"#FF0");var e=this._rotatePoint.x,n=this._rotatePoint.y-this._rotateHandleLength/i;t.beginPath(),t.moveTo(e,this._rotatePoint.y),t.lineTo(e,n),t.lineWidth=1/i,t.strokeStyle="#555",t.stroke(),this._5n(t,e,n,i)}if(this._k3){var r=this._mou.x,o=this._mou.y,s=this._mou.width,h=this._mou.height;t.beginPath(),t.rect(r,o,s,h),t.lineWidth=1/i,t.lineDash=[2/i,3/i],t.strokeStyle="#555",t.stroke(),f(this._k3,function(e){this._ew(t,e.x,e.y,i)},this)}t.restore()}},_mot:function(){this.topCanvas.invalidate()},_3k:function(t,i,e,n){this.element=t,this._mnm();var r=i.getUI(t);this._mnody=r.body,this._f4=e,this._f3=n,this._mld(),this._6()},_mld:function(){if(this._hfId){var t=Eo(this._mnody,this._mnody._jo),i=Eo(this._mnody,this._mnody._7y);this._insets=new is(t.y-i.y,t.x-i.x,i.bottom-t.bottom,i.right-t.right),this._8o(i)}},_mnk:function(t,i){return i.isResizable(t)},_mnj:function(t,i){return(!t._ie()||!t.expanded)&&i.isRotatable(t)},_mop:function(t,i){return t instanceof Aa&&i.isEditable(t)},onstart:function(t,i){if(!i.editable)return void(this.element&&this.destroy(i));if(!t.responded){var e=i.getUI(t),n=t.getData();if(n!=this.element){if(this.element){if(this._h8(t,i))return void(t.responded=!0);this.destroy(i)}if(n&&!n._editting&&this._mop(n,i)){var r=this._mnk(n,i,e),o=this._mnj(n,i,e);(r||o)&&this._3k(n,i,r,o)}}}},onrelease:function(t,i){this.element&&(this._moanEdit=!0,this._mnm(),i.callLater(function(){this._mld()},this))},_9n:null,_h8:function(t,i){var e=i.toLogical(t);e=this._i3(e.x,e.y);var n=i.scale,r=this.handlerSize/n;if(this._rotatePoint){var o=this._rotatePoint.x,s=this._rotatePoint.y-this._rotateHandleLength/n;if(Zo(e.x,e.y,o,s)<r)return this._rotatePoint}if(this._k3&&this._k3.length){var h;return f(this._k3,function(t){return Zo(e.x,e.y,t.x,t.y)<r?(h=t,!1):void 0},this),h}},onmousemove:function(t,i){if(this.element){var e=this._h8(t,i);if(!e)return void(i.cursor=null);if(e!=this._rotatePoint&&this.element.rotate){var n=e.rotate+this.element.rotate;return void(i.cursor=mo(n))}i.cursor=e.cursor}},startdrag:function(t,i){if(this.element&&(this._6g(),this._moanEdit&&(this._9n=this._h8(t,i),this._9n))){if(t.responded=!0,this._9n==this._rotatePoint)return this._9n.start=i.toLogical(t),void(this._9n.rotate=this.element.rotate||0);var e=new yo(i,yo.RESIZE_START,t,this.element);e.point=this._9n,i.onInteractionEvent(e)}},_7l:function(t,i,e,n,r,o){var s=this._mou,h=s.x,a=s.y,l=s.width,_=s.height;if(o){var u=n!=l;u?r=n*_/l:n=r*l/_}var c=t.path._gz,d=n/l,f=r/_,v=-h*d+i,g=-a*f+e;c.forEach(function(t){if(t.type!=ah.SEGMENT_CLOSE){var n=t.points;if(n&&n.length)for(var r=0,o=n.length;o>r;r+=2){var s=n[r],l=n[r+1];n[r]=(s-h)*d+i-v,n[r+1]=(l-a)*f+e-g}}}),this._mou.set(i-v,e-g,n,r),t.setLocation(t.x+v,t.y+g),t.firePathChange()},_mlb:function(t,i,e,n,r){this._mou.set(i,e,n,r),t.minSize={x:i,y:e,width:n,height:r}},_3w:function(t,i,e,n,r){if(this.element instanceof xa)return this._mlb(this.element,t,i,e,n,r);if(this.element instanceof ba)return this._7l(this.element,t,i,e,n,r);var o=this._mnody instanceof Ya;if(!o&&r){var s=this._mou,h=this._mnody.originalBounds,a=e!=s.width;a?n=e*h.height/h.width:e=n*h.width/h.height}var l=this.element.anchorPosition,_=new Qo(e-this._insets.left-this._insets.right,n-this._insets.top-this._insets.bottom);if(_.width<1&&(e=this._insets.left+this._insets.right+1,_.width=1),_.height<1&&(n=this._insets.top+this._insets.bottom+1,_.height=1),o?this.element.setStyle(Ca.LABEL_SIZE,_):this.element.size=_,l){var u=li(l,e,n),c=u.x+t-(this._mnody.offsetX||0),d=u.y+i-(this._mnody.offsetY||0);if(this._mou.set(t-c,i-d,e,n),this.element.rotate){var u=xr({x:c,y:d},this.element.rotate);c=u.x,d=u.y}this.element.x+=c,this.element.y+=d}else{var c=this._mou.x*e/this._mou.width-t,d=this._mou.y*n/this._mou.height-i;if(this._mou.set(t+c,i+d,e,n),this.element.rotate){var u=xr({x:c,y:d},this.element.rotate);c=u.x,d=u.y}this.element.x-=c,this.element.y-=d}},ondrag:function(t,i){if(this.element&&this._9n)if(this._9n!=this._rotatePoint){var e=t.dx,n=t.dy,r=i.scale;if(e/=r,n/=r,this.element.rotate){var o={x:e,y:n};xr(o,-this.element.rotate),e=o.x,n=o.y}var s=this._9n.p,h=this._mou,a=h.x,l=h.y,_=h.width,u=h.height;s.horizontalPosition==ns?e>=_?(a+=_,_=e-_||1):(a+=e,_-=e):s.horizontalPosition==os&&(-e>=_?(_=-e-_||1,a-=_):_+=e),s.verticalPosition==ss?n>=u?(l+=u,u=n-u||1):(l+=n,u-=n):s.verticalPosition==as&&(-n>=u?(u=-n-u||1,l-=u):u+=n),this._3w(a,l,_,u,t.shiftKey);var c=new yo(i,yo.RESIZING,t,this.element);c.point=this._9n,i.onInteractionEvent(c)}else{var o=i.toLogical(t),d=ue(o.x,o.y,this.element.x,this.element.y,this._9n.start.x,this._9n.start.y,!0);d+=this._9n.rotate||0,t.shiftKey&&(d=Math.round(d/Math.PI*4)*Math.PI/4),this.element.rotate=d%(2*Math.PI);var c=new yo(i,yo.ROTATING,t,this.element)}},enddrag:function(t,i){if(this.element&&this._9n&&this._9n!=this._rotatePoint){var e=new yo(i,yo.RESIZE_END,t,this.element);e.point=this._9n,i.onInteractionEvent(e)}}},hh.ResizeInteraction=go;var hl=function(t){this.graph=t};hl.prototype={onmousedown:function(t,i){Yo||i.focus(!Ro)},onstart2:function(t,i){this.onstart(t,i)},onstart:function(t,i){if(!t.responded){var e=t.getData();if(e&&!i.isSelectable(e)&&(e=null),e&&yi(t)){i.reverseSelect(e);var n=new yo(i,yo.SELECT,t,i.selectionModel);return void i.onInteractionEvent(n)}if(!e||!i.selectionModel.isSelected(e)){e?(i.setSelection(e),i.sendToTop(e)):i.setSelection(null);var n=new yo(i,yo.SELECT,t,i.selectionModel);i.onInteractionEvent(n)}}},onkeydown:function(t,i){return 27==t.keyCode?void i.unSelectAll():void(yi(t)&&65==t.keyCode&&(i.selectAll(),F(t)))}};var al=0,ll=15;Wo.TOOLTIP_DURATION=3e3,Wo.TOOLTIP_DELAY=1e3;var _l="Q-Tooltip";Ei("."+_l,{"background-color":"#FFFFCA",overflow:"hidden","box-shadow":"0 5px 10px rgba(136, 136, 136, 0.5)",color:"#000","pointer-events":"none",border:"1px solid #D9D9D9",padding:"2px 4px",display:"block",position:"absolute"});var ul=function(t){this.graph=t,this._mnx={}};ul.prototype={_mnx:null,_mnw:null,_mnu:function(){delete this._initTimer,this._mnx.data&&(this._mnw||(this._mnw=i.createElement("div"),this._mnw.className=_l),this._mnw.parentNode||i.body.appendChild(this._mnw),this._d6(this.graph,this._mnx.data))},_d6:function(t,i){var e=t.getTooltip(i),n="text"==i.tooltipType;e&&!n&&(e=e.replace(/\n/g,"<br>")),n?this._mnw.textContent=e||"":this._mnw.innerHTML=e||"";var r=this._mnx.evt.pageX+al,o=this._mnx.evt.pageY+ll;po(this._mnw,r,o),this._deleteTimer&&(clearTimeout(this._deleteTimer),delete this._deleteTimer),this._deleteTimer=setTimeout(this._8n.bind(this),t.tooltipDuration||Wo.TOOLTIP_DURATION)},_8n:function(){delete this._deleteTimer,this._mnw&&this._mnw.parentNode&&this._mnw.parentNode.removeChild(this._mnw),delete this._mnw,this._mnx={}},_es:function(t,i,e,n){if(!this._mnw){var r=n.tooltipDelay;return isNaN(r)&&(r=Wo.TOOLTIP_DELAY),void(this._initTimer=setTimeout(this._mnu.bind(this),r))}this._d6(n,t)},onstart:function(t,i){this.destroy(i)},onmousemove:function(t,i){if(i.enableTooltip){var e=t.getData();if(this._mnx.evt=t,this._mnx.data!=e&&(this._mnx.data=e,this._initTimer&&(clearTimeout(this._initTimer),delete this._initTimer),e)){var n=i.getTooltip(e);n&&this._es(e,n,t,i)}}},destroy:function(){this._initTimer&&(clearTimeout(this._initTimer),delete this._initTimer),this._deleteTimer&&(clearTimeout(this._deleteTimer),delete this._deleteTimer),this._mnw&&this._8n(),this._mnx={}}};var cl=function(t){this.graph=t};cl.prototype={_fp:function(){delete this._l8},destroy:function(t){this._l8&&this._fp(t)},onmousewheel:function(t,i){if(i.enableWheelZoom!==!1&&t.delta){var e=t.delta>0,n=i.scale;if(!(e&&i.maxScale-n<1e-4||!e&&n-i.minScale<1e-4)){j(t);var r=Math.sqrt(Math.abs(t.delta));e||(r=-r),this._l8&&clearTimeout(this._l8),this._l8=setTimeout(this._fp.bind(this,i),100),i.zoomByMouseEvent(t,r)}}}};var dl=function(t){this.graph=t};dl.prototype={onclick:function(t,i){i.zoomByMouseEvent(t,!yi(t))}};var fl=function(t){this.graph=t};fl.prototype={onclick:function(t,i){i.zoomByMouseEvent(t,yi(t))}},w(yo,us),yo.ELEMENT_MOVE_START="element.move.start",yo.ELEMENT_MOVING="element.moving",yo.ELEMENT_MOVE_END="element.move.end",yo.ELEMENT_CREATED="element.created",yo.ELEMENT_REMOVED="element.removed",yo.POINT_MOVE_START="point.move.start",yo.POINT_MOVING="point.moving",yo.POINT_MOVE_END="point.move.end",yo.RESIZE_START="resize.start",yo.RESIZING="resizing",yo.RESIZE_END="resize.end",yo.ROTATING="rotating",yo.ROTATE_END="rotate.end",yo.PAN_START="pan.start",yo.PAN_END="pan.end",yo.GROUP_EXPANDED="group.expanded",yo.EDGE_BUNDLE="edge.bundle",yo.SELECT="select",yo.SELECT_START="select.start",yo.SELECT_BETWEEN="select.between",yo.SELECT_END="select.end",yo.LONG_CLICK="long.click",To.prototype={_9s:function(t){if(this._interactionSupport)switch(t.kind){case Ts.KIND_REMOVE:this._interactionSupport._onElementRemoved(t.data);break;case Ts.KIND_CLEAR:this._interactionSupport._onElementClear(t.data)}},destroy:function(){delete this._km,delete this._3v,this._interactionSupport&&(this._interactionSupport._ic(),delete this._interactionSupport)},_km:null,_3v:null,defaultMode:null,_gt:function(t,i,e){this._3v[t]=new to(i,e),t==this.currentMode&&this._interactionSupport._m9Interaction(i)},addCustomInteraction:function(t){this._interactionSupport._mdCustomInteractionListener(t)},removeCustomInteraction:function(t){this._interactionSupport._kdCustomInteractionListener(t)},_m5:function(t){var i=this._3v[t];return i?i:vl[t]}},Z(To.prototype,{defaultCursor:{get:function(){return this.currentInteractionMode?this.currentInteractionMode.defaultCursor:void 0}},currentMode:{get:function(){return this._mourrentMode},set:function(t){if(this._mourrentMode!=t){{this._mourrentMode}this._interactionSupport||(this._interactionSupport=new qs(this._km)),this._mourrentMode=t,this.currentInteractionMode=this._m5(this._mourrentMode),this._km.cursor=this.defaultCursor,this._interactionSupport._m9Interaction(this.currentInteractionMode?this.currentInteractionMode.getInteractionInstances(this._km):[])}}}});var vl={};Wo.registerInteractions=function(t,i,e){var n=new to(i,e);vl[t]=n},ah.INTERACTION_MODE_VIEW="view",ah.INTERACTION_MODE_DEFAULT="default",ah.INTERACTION_MODE_SELECTION="selection",ah.INTERACTION_MODE_ZOOMIN="zoomin",ah.INTERACTION_MODE_ZOOMOUT="zoomout",ah.INTERACTION_MODE_CREATE_SIMPLE_EDGE="create.simple.edge",ah.INTERACTION_MODE_CREATE_EDGE="create.edge",ah.INTERACTION_MODE_CREATE_SHAPE="create.shape",ah.INTERACTION_MODE_CREATE_LINE="create.line",Wo.registerInteractions(ah.INTERACTION_MODE_VIEW,[hl,rl,cl,el,tl,ul,sl]),Wo.registerInteractions(ah.INTERACTION_MODE_CREATE_SIMPLE_EDGE,[il,so,hl,rl,cl,el,ul]),Wo.registerInteractions(ah.INTERACTION_MODE_CREATE_EDGE,[il,fo,hl,no,rl,cl,el,ul]),Wo.registerInteractions(ah.INTERACTION_MODE_CREATE_SHAPE,[il,ro,hl,rl,cl,el,ul]),Wo.registerInteractions(ah.INTERACTION_MODE_CREATE_LINE,[oo,hl,rl,cl,el,ul]),Wo.registerInteractions(ah.INTERACTION_MODE_DEFAULT,[il,go,fo,hl,nl,rl,cl,el,tl,ul,sl]),Wo.registerInteractions(ah.INTERACTION_MODE_SELECTION,[il,go,fo,hl,nl,ol,rl,cl,el,tl,ul]),Wo.registerInteractions(ah.INTERACTION_MODE_ZOOMIN,[cl,el,dl],Xs),Wo.registerInteractions(ah.INTERACTION_MODE_ZOOMOUT,[cl,el,fl],Vs),hh.PanInteraction=rl,hh.SelectionInteraction=hl,hh.MoveInteraction=nl,hh.WheelZoomInteraction=cl,hh.DoubleClickInteraction=tl,hh.ExportInteraction=el,hh.TooltipInteraction=ul,hh.RectangleSelectionInteraction=ol,hh.RectangleSelectionInteractionByRightButton=sl,hh.PointsInteraction=fo;var gl=function(t){this.graph=t};hh.Layouter=gl,gl.prototype={getNodeBounds:function(t){return this.graph.getUIBounds(t)},isLayoutable:function(t){return this.graph.isVisible(t)&&t.layoutable!==!1},getLayoutResult:function(){},updateLocations:function(t,i,e,n,r){if(i===!0){if(this.animate||(this.animate=new Kl),e&&(this.animate.duration=e),n&&(this.animate.animationType=n),this.animate.locations=t,r){var o=r,s=this;r=function(){o.call(s,t)}}return void this.animate.start(r)}for(var h in t){var a=t[h],l=a.node;l.setLocation(a.x,a.y)}r&&r.call(this,t)},_fq:function(t){var i,e,n,r=null;t&&(i=t.byAnimate,r=t.callback,e=t.duration,n=t.animationType);var o=this.getLayoutResult(t);return o?(this.updateLocations(o,i,e,n,r),o):!1},doLayout:function(t,i){return this.graph&&i!==!0?void this.graph.callLater(function(){this._fq(t)},this):this._fq(t)}};var El=110,ml=120,pl=130,yl=210,Tl=220,wl=230,Ol=111,Al=112,bl=121,Ll=122,xl=211,Sl=212,Il=221,Cl=222;ah.DIRECTION_RIGHT=El,ah.DIRECTION_LEFT=ml,ah.DIRECTION_CENTER=pl,ah.DIRECTION_BOTTOM=yl,ah.DIRECTION_TOP=Tl,ah.DIRECTION_MIDDLE=wl,ah.DIRECTION_RIGHT_TOP=Ol,ah.DIRECTION_RIGHT_BOTTOM=Al,ah.DIRECTION_LEFT_TOP=bl,ah.DIRECTION_LEFT_BOTTOM=Ll,ah.DIRECTION_BOTTOM_LEFT=xl,ah.DIRECTION_BOTTOM_RIGHT=Sl,ah.DIRECTION_TOP_LEFT=Il,ah.DIRECTION_TOP_RIGHT=Cl;var Rl="even",Dl="two.side",Pl="even.h",Nl="even.v";ah.LAYOUT_TYPE_EVEN=Rl,ah.LAYOUT_TYPE_EVEN_HORIZONTAL=Pl,ah.LAYOUT_TYPE_EVEN_VERTICAL=Nl,ah.LAYOUT_TYPE_TWO_SIDE=Dl,hh.isHorizontalDirection=wo;var Ml=function(t){this.graph=t};Ml.prototype={hGap:50,vGap:50,parentChildrenDirection:yl,layoutType:Rl,defaultSize:{width:50,height:60},getNodeSize:function(t){if(this.graph._8h._mlm){var i=this.graph.getUI(t);if(i)return i._g6}return t.image&&t.image.bounds?{width:t.image.bounds.width,height:t.image.bounds.height}:this.defaultSize},_mo9:function(t,i){if(this.isLayoutable(t)){var e,n=this.getNodeSize(t);e=n instanceof ts?[-n.x,-n.y]:[n.width/2,n.height/2];var r=t.id,o=(t.parentChildrenDirection,i?this._9a[i.id]:this._mne);this._9a[r]=new kl(this.getHGap(t),this.getVGap(t),this.getLayoutType(t),t.parentChildrenDirection,o,t,n.width,n.height,e)}},getHGap:function(t){return t&&k(t.hGap)?t.hGap:this.hGap},getVGap:function(t){return t&&k(t.vGap)?t.vGap:this.vGap},getLayoutType:function(t){return t&&t.layoutType?t.layoutType:this.layoutType},_9a:null,_mne:null,_kx:function(){this._9a=null,this._mne=null},getLayoutResult:function(t){var i,e,n,r,o=this.graph;t instanceof Object&&(i=t.x,e=t.y,o=t.root||this.graph,n=t.bounds,r=t.undirected),this._9a={},this._mne=new kl,this._mne._m9(this.hGap,this.vGap,this.parentChildrenDirection,this.layoutType);var s={},h=Ql(o,this._mo9,this,!1,r);return h&&(this._mne._fq(i||0,e||0,s),n&&n.set(this._mne.x,this._mne.y,this._mne.width,this._mne.height)),this._kx(),s},doLayout:function(t,i){if(k(t)){var e=t,n=0;k(i)&&(n=i),t={x:e,y:n},i=!0}return A(this,Ml,"doLayout",[t,i])}},w(Ml,gl);var kl=function(t,i,e,n,r,o,s,h,a){this._lu=t||0,this._lx=i||0,this.layoutType=e,this.parentChildrenDirection=n,this.parentBounds=r,r&&r._g5(this),this.node=o,this._fj=s,this._moj=h,this._mlnchorLocation=a};kl.prototype={_m9:function(t,i,e,n){this._lu=t,this._lx=i,this.parentChildrenDirection=e,this.layoutType=n},_8s:function(){this._g0=[]},_lu:0,_lx:0,_g0:null,_fj:0,_moj:0,layoutType:null,parentChildrenDirection:null,_g5:function(t){this._g0||(this._g0=[]),this._g0.push(t)},_mog:function(t,i,e,n){var r=new ts;return e(this._g0,function(e){e._35(t,i),r.add(e),n?t+=e.width+this._lu:i+=e.height+this._lx},this),r},_8t:function(t,i,e,n,r){var o,s=n?this._lu:this._lx,h=n?this._lx:this._lu,a=n?"width":"height",l=n?"height":"width",_=n?"_fj":"_moj",u=n?"_moj":"_fj",c=n?"hostDX":"hostDY",d=n?"hostDY":"hostDX",v=new ts,g=0,E=0,m=[],p=0,y=0;e(this._g0,function(e){var r=y>=E;e._inheritedParentChildrenDirection=r?n?ml:Tl:n?El:yl,e._35(t,i),r?(m.push(e),g=Math.max(g,e[a]),E+=e[l]+h):(o||(o=[]),o.push(e),p=Math.max(p,e[a]),y+=e[l]+h)},this),E-=h,y-=h;var T=Math.max(E,y),w=s,O=0;this.node&&(r&&(w+=this[_]+s,T>this[u]?this[d]=(T-this[u])/2:O=(this[u]-T)/2),this[c]=g+w/2-this[_]/2);var A=0,b=O;return f(m,function(t){n?t.offset(g-t[a],b):t.offset(b,g-t[a]),b+=h+t[l],v.add(t)},this),o?(b=O,A=g+w,f(o,function(t){n?t.offset(A,b):t.offset(b,A),b+=h+t[l],v.add(t)},this),v):v},offset:function(t,i){this.x+=t,this.y+=i,this.nodeX+=t,this.nodeY+=i,this._75(t,i)},_mng:function(t,i){return 2*this.cx-t-i-t},_mnf:function(t,i){return 2*this.cy-t-i-t},_ly:function(t){if(this._g0&&0!=this._g0.length){if(t)return this.node&&(this.nodeX+=this._mng(this.nodeX,this._fj)),void f(this._g0,function(t){t.offset(this._mng(t.x,t.width),0)},this);this.node&&(this.nodeY+=this._mnf(this.nodeY,this._moj)),f(this._g0,function(t){t.offset(0,this._mnf(t.y,t.height))},this)}},_75:function(t,i){this._g0&&f(this._g0,function(e){e.offset(t,i)},this)},_35:function(t,i){return this.x=t||0,this.y=i||0,this._g0&&0!=this._g0.length?void this._1k(this.x,this.y,this.layoutType):void(this.node&&(this.width=this._fj,this.height=this._moj,this.nodeX=this.x,this.nodeY=this.y))},_71:function(t){if(this.node){var i=this._mlnchorLocation,e=i[0],n=i[1];t[this.node.id]={node:this.node,x:this.nodeX+e,y:this.nodeY+n,left:this.nodeX,top:this.nodeY,width:this._fj,height:this._moj}}this._g0&&f(this._g0,function(i){i._71(t)},this)},_fq:function(t,i,e){this._35(t,i),this._71(e)},_1k:function(t,i,n){var r,o=t,s=i;!this.parentChildrenDirection&&this.parentBounds&&(this.parentChildrenDirection=this._inheritedParentChildrenDirection||this.parentBounds.parentChildrenDirection);var h=this.parentChildrenDirection,a=wo(h);if(this.node){r=h==pl||h==wl;var l=Oo(h);r||(a?t+=this._fj+this._lu:i+=this._moj+this._lx)}var _,u=this.node&&this.node.layoutReverse?g:f;if(n==Dl)_=this._8t(t,i,u,!a,r);else{var c;c=n==Rl?!a:n==Pl,_=this._mog(t,i,u,c,r)}var d=0,v=0;if(_&&!_.isEmpty()&&(d=_.width,v=_.height,this.add(_)),this.node){if(this.nodeX=o,this.nodeY=s,this.hostDX!==e||this.hostDY!==e)this.nodeX+=this.hostDX||0,this.nodeY+=this.hostDY||0;else{var E;E=h==yl||h==Tl||h==ml||h==El?1:h==Sl||h==Cl||h==Ll||h==Al?0:2,a?1==E?this.nodeY+=v/2-this._moj/2:2==E&&(this.nodeY+=v-this._moj):1==E?this.nodeX+=d/2-this._fj/2:2==E&&(this.nodeX+=d-this._fj)}this.addRect(this.nodeX,this.nodeY,this._fj,this._moj),l&&this._ly(a)}},node:null,uiBounds:null},w(kl,ts),bo.prototype={layoutDatas:null,isMovable:function(t){return!this.currentMovingNodes[t.id]},_6z:!1,_3n:function(){this._6z=!0,this.graph._1f.addListener(this._9r,this),this.graph._1a.addListener(this._1t,this)},_1o:function(){this._6z=!1,this.graph._1f.removeListener(this._9r,this),this.graph._1a.removeListener(this._1t,this)},invalidateFlag:!0,invalidateLayoutDatas:function(){this.invalidateFlag=!0},resetLayoutDatas:function(){return this.invalidateFlag=!1,this.layoutDatas=Ao.call(this)},_1t:function(t){yo.ELEMENT_MOVE_START==t.kind?(this.currentMovingNodes={},t.datas.forEach(function(t){this.currentMovingNodes[t.id]=t},this)):yo.ELEMENT_MOVE_END==t.kind&&(this.currentMovingNodes={})},_9r:function(){this.invalidateLayoutDatas()},isRunning:function(){return this.timer&&this.timer._em()},getLayoutResult:function(){this.stop(),this.resetLayoutDatas();for(var t=this.getMaxIterations(this.layoutDatas.nodeCount||0,this.layoutDatas.edgeCount||0),i=0;t>i&&this.step(!1)!==!1;i++);var e=this.layoutDatas.nodes;return this.onstop(),e},_lk:function(){return!1},step:function(t){if(t===!1)return this._lk(this.timeStep);(this.invalidateFlag||!this.layoutDatas)&&this.resetLayoutDatas();var i=this._lk(t),e=this.layoutDatas.nodes;for(var n in e){var r=e[n],o=r.node;this.isMovable(o)?o.setLocation(r.x,r.y):(r.x=o.x,r.y=o.y,r.vx=0,r.vy=0)}return i},onstop:function(){delete this.layoutDatas},start:function(t){if(this.isRunning())return!1;this._6z||this._3n(),this._j9r||(this._j9r=function(t){return this.step(t)}.bind(this)),this.invalidateLayoutDatas(),this.timer=new rh(this._j9r);var i=this;return this.timer._kz(function(){i.onstop(),t&&t()}),!0},stop:function(){this.timer&&(this.timer._lp(),this.onstop())},getMaxIterations:function(t){return Math.min(1e3,3*t+10)},minEnergyFunction:function(t,i){return 10+Math.pow(t+i,1.4)},resetGraph:function(){this._6z||this._3n(),this.resetLayoutDatas()},destroy:function(){this.stop(),this._1o()}},w(bo,gl);var Bl=function(t,i,e,n){this.graph=t,k(i)&&(this.radius=i),k(e)&&(this.gap=e),k(n)&&(this.startAngle=n)};hh.BalloonLayouter=Bl;var Gl="proportional",zl="regular",Fl="uniform",$l="variable";ah.ANGLE_SPACING_PROPORTIONAL=Gl,ah.ANGLE_SPACING_REGULAR=zl,ah.RADIUS_MODE_UNIFORM=Fl,ah.RADIUS_MODE_VARIABLE=$l,Bl.prototype={angleSpacing:Gl,radiusMode:$l,gap:4,radius:50,startAngle:0,_9a:null,_mne:null,_kx:function(){this._9a=null,this._mne=null},getLayoutResult:function(t){var i,e=0,n=0,r=this.graph;t instanceof Object&&(e=t.cx||0,n=t.cy||0,r=t.root||this.graph,i=t.bounds),this._9a={},this._mne=new Hl(this);var o={},s=t_(r,this._mo9,this);return s&&(this._mne._g0&&1==this._mne._g0.length&&(this._mne=this._mne._g0[0]),this._mne._fh(!0),this._mne._5r(e,n,this.startAngle,o,i)),this._kx(),o},_mo9:function(t,i){if(this.isLayoutable(t)){var e=i?this._9a[i.id]:this._mne;this._9a[t.id]=new Hl(this,t,e)}},defaultSize:40,getRadius:function(){return this.radius},getNodeSize:function(t){if(this.graph._8h._mlm){var i=this.graph.getUI(t);if(i)return(i._g6.width+i._g6.height)/2}return this.defaultSize},getGap:function(){return this.gap},_2y:function(t,i,e){return this.getNodeSize(t,i,e)+this.getGap(t,i,e)}};var jl=function(t){var i,e=this._g0.length,n=0,r=0;if(f(this._g0,function(t){var e=t._fh();1>e&&(e=1),r+=e,e>n&&(n=e,i=t)},this),e>1){var o=0,s={},h=r/e/3;r=0,f(this._g0,function(t){var i=t._m2;h>i&&(i=h),s[t.id]=i,r+=i},this);var a=ga/r;f(this._g0,function(i,e){var n=s[i.id],r=n*a;0===e&&(o=t?-r/2:-r),i._kt=o+r/2,i._kv=r,o+=r},this)}return[n,i._kv]},Yl=function(t){var i=this._8v,e=2*Math.PI/i,n=0,r=t?0:i>1?-e/2:0;return f(this._g0,function(t){t._kt=r%ga,r+=e,t._kv=e;var i=t._fh();i>n&&(n=i)},this),[n,e]},Hl=function(t,i,e){this.layouter=t,i&&(this._m3=i,this.id=i.id),e&&(e._g5(this),e._lz=!1,this._kr=e._kr+1)},ga=2*Math.PI;Hl.prototype={_kv:0,_kt:0,_k5:0,_fl:0,_dn:0,_kr:0,_lz:!0,_m2:0,_g8:0,_g0:null,_m3:null,_g5:function(t){this._g0||(this._g0=[]),this._g0.push(t),t.parent=this},_gc:function(t){if(this._kt=(this._kt+t)%ga,this._g0){var i=this._g0.length;if(1==i)return void this._g0[0]._gc(this._kt);t=this._kt+Math.PI,f(this._g0,function(i){i._gc(t)},this)}},_8v:0,_6f:function(t){if(this._m3&&(this._g8=this.layouter._2y(this._m3,this._kr,this._lz)/2),!this._g0)return null;this._g8;return this._8v=this._g0.length,this._8v<=2||this.layouter.angleSpacing==zl?Yl.call(this,t):jl.call(this,t)},_fh:function(t){var i=this._6f(t);if(!i)return this._m2=this._g8;var e=i[0],n=i[1],r=this.layouter.getRadius(this._m3,this._kr);if(r<this._g8&&(r=this._g8),this._fl=r,this._g8+e>r&&(r=this._g8+e),e&&this._8v>1&&n<Math.PI){var o=e/Math.sin(n/2);o>r&&(r=o)}return this._k5=r,this._m2=r+e,this._m3&&this._g0&&this.layouter.radiusMode==$l&&f(this._g0,function(t){var i=t._m2;1==t._8v&&(i/=2);var e=this._g8+i,n=t._kv;if(n&&n<Math.PI){var r=Math.sin(n/2),o=i/r;o>i&&(i=o)}e>i&&(i=e),t._dn=i},this),(!this._m3||t)&&this._gc(0),this._m2},_5r:function(t,i,e,n,r){if(this._m3&&(n[this._m3.id]={x:t,y:i,node:this._m3},r&&r.addRect(t-this._g8/2,i-this._g8/2,this._g8,this._g8)),this._g0){if(!this._m3&&1==this._g0.length)return void this._g0[0]._5r(t,i,e,n,r);e=e||0;var o=this._k5,s=this._fl;f(this._g0,function(h){var a=o;h._dn&&(a=Math.max(s,h._dn));var l=h._kt+e,_=t+a*Math.cos(l),u=i+a*Math.sin(l);h._5r(_,u,e,n,r)},this)}}},w(Bl,gl);var Ul=function(){O(this,Ul,arguments)};w(Ul,Lo);var Wl=function(t,i){this.node1=t,this.node2=i,t==i?(this.isLooped=!0,this._kq=t._ko):this._kq=new qo,this._8w=[],this._gh=Wo.EDGE_BUNDLE_EXPANDED};Wo.EDGE_BUNDLE_EXPANDED=!0,Wl.prototype={node1:null,node2:null,_kq:null,_gh:Wo.EDGE_BUNDLE_EXPANDED,_8w:null,_gk:null,agentEdge:null,_mnb:function(t,i,e){this._kq.forEach(function(n){return e&&n.$from!=e&&n.fromAgent!=e?void 0:t.call(i,n)})},_5t:0,_5u:0,_iw:function(t,i){return this._kq.add(t)===!1?!1:(i==this.node1?this._5t++:this._5u++,this._mlm?void this._12(t):void(this._mlm=!0))},_d9:function(t,i){return this._kq.remove(t)===!1?!1:(i==this.node1?this._5t--:this._5u--,this._12(t),void this._kq.forEach(function(t){t._edgeBundleInvalidateFlag=!0,t.__4o=!0},this))},_12:function(t){this._motBindableFlag=!0,this._6i=!0,t._edgeBundleInvalidateFlag=!0,t.__4o=!0},_mot:function(){this._6i||(this._6i=!0,this._kq.forEach(function(t){t._edgeBundleInvalidateFlag=!0}))},isEmpty:function(){return this._kq.isEmpty()},isPositiveOrder:function(t){return this.node1==t.$from||this.node1==t.fromAgent},canBind:function(t){return t&&this._6i&&this._fp(t),this._kq.length>1&&this._8w.length>1},_iv:function(t){return this._8w.indexOf(t)},getYOffset:function(t){return this._gk[t.id]},_4j:function(t){if(!this.canBind())return void(this._gk={});var i={},e=this._8w.length;if(!(2>e)){var n=0,r=this._8w[0];i[r.id]=0;for(var o=1;e>o;o++){r=this._8w[o];var s=t.getStyle(r,Ca.EDGE_BUNDLE_GAP)||Ua[Ca.EDGE_BUNDLE_GAP];n+=s,i[r.id]=n}if(!this.isLooped)for(var h=n/2,o=0;e>o;o++)r=this._8w[o],i[r.id]-=h;this._gk=i}},_mna:function(t){return this._gh==t?!1:(this._gh=t,this._mot(),!0)},reverseExpanded:function(){return this._mna(!this._gh)},_18:function(){this._motBindableFlag=!1,this._8w.length=0;var t;this._kq.forEach(function(i){if(i.isBundleEnabled()){if(!this.isPositiveOrder(i))return t||(t=[]),void t.push(i);this._8w.push(i)}},this),t&&(this._8w=t.concat(this._8w))},_dz:function(t){return t==this.agentEdge||!this.canBind()||this._gh},_fp:function(t){this._6i=!1,this._kq.forEach(function(t){t._edgeBundleInvalidateFlag=!1}),this._motBindableFlag&&this._18();var i=this._gh,e=this.canBind(),n=!e||i;f(this._8w,function(t){t._$r=!0,t._hwInBundle=n,n&&(t.__4o=!0)},this),n?this._ml1(null,t):(this._ml1(this._8w[0],t),this.agentEdge._hwInBundle=!0,this.agentEdge.__4o=!0),n&&this._4j(t)},_ml1:function(t,i){if(t!=this.agentEdge){var e=this.agentEdge;return this.agentEdge=t,i&&i._4k(new cs(this,"agentEdge",t,e)),!0}}},Z(Wl.prototype,{bindableEdges:{get:function(){return this._8w}},edges:{get:function(){return this._kq._jl}},length:{get:function(){return this._kq?this._kq.length:1}},expanded:{get:function(){return this._gh},set:function(t){return this._gh==t?!1:(this._gh=t,void this._mot())}}});var ql=function(){function t(t,i){this.node=t,this.body=i}function i(){this.stack=[],this.popIdx=0}var e=-1e6,n=.8;i.prototype={isEmpty:function(){return 0===this.popIdx},push:function(i,e){var n=this.stack[this.popIdx];n?(n.node=i,n.body=e):this.stack[this.popIdx]=new t(i,e),++this.popIdx},pop:function(){return this.popIdx>0?this.stack[--this.popIdx]:void 0},reset:function(){this.popIdx=0}};var r=[],o=new i,s=function(){this.body=null,this.quads=[],this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0,this.isInternal=!1
},h=[],a=0,l=function(){var t;return h[a]?(t=h[a],t.quads[0]=null,t.quads[1]=null,t.quads[2]=null,t.quads[3]=null,t.body=null,t.mass=t.massX=t.massY=0,t.left=t.right=t.top=t.bottom=0,t.isInternal=!1):(t=new s,h[a]=t),++a,t},_=l(),u=function(t,i){var e=Math.abs(t.x-i.x),n=Math.abs(t.y-i.y);return 1e-8>e&&1e-8>n},c=function(t){for(o.reset(),o.push(_,t);!o.isEmpty();){var i=o.pop(),e=i.node,n=i.body;if(e.isInternal){var r=n.x,s=n.y;e.mass=e.mass+n.mass,e.massX=e.massX+n.mass*r,e.massY=e.massY+n.mass*s;var h=0,a=e.left,c=(e.right+a)/2,d=e.top,f=(e.bottom+d)/2;if(r>c){h+=1;var v=a;a=c,c+=c-v}if(s>f){h+=2;var g=d;d=f,f+=f-g}var E=e.quads[h];E||(E=l(),E.left=a,E.top=d,E.right=c,E.bottom=f,e.quads[h]=E),o.push(E,n)}else if(e.body){var m=e.body;if(e.body=null,e.isInternal=!0,u(m,n)){if(e.right-e.left<1e-8)return;do{var p=Math.random(),y=(e.right-e.left)*p,T=(e.bottom-e.top)*p;m.x=e.left+y,m.y=e.top+T}while(u(m,n))}o.push(e,m),o.push(e,n)}else e.body=n}},d=function(t){var i,o,s,h,a=r,l=1,u=0,c=1;for(a[0]=_;l;){var d=a[u],f=d.body;l-=1,u+=1,f&&f!==t?(o=f.x-t.x,s=f.y-t.y,h=Math.sqrt(o*o+s*s),0===h&&(o=(Math.random()-.5)/50,s=(Math.random()-.5)/50,h=Math.sqrt(o*o+s*s)),i=e*f.mass*t.mass/(h*h),-1e3>i&&(i=-1e3),i/=h,t.fx=t.fx+i*o,t.fy=t.fy+i*s):(o=d.massX/d.mass-t.x,s=d.massY/d.mass-t.y,h=Math.sqrt(o*o+s*s),0===h&&(o=(Math.random()-.5)/50,s=(Math.random()-.5)/50,h=Math.sqrt(o*o+s*s)),(d.right-d.left)/h<n?(i=e*d.mass*t.mass/(h*h),-1e3>i&&(i=-1e3),i/=h,t.fx=t.fx+i*o,t.fy=t.fy+i*s):(d.quads[0]&&(a[c]=d.quads[0],l+=1,c+=1),d.quads[1]&&(a[c]=d.quads[1],l+=1,c+=1),d.quads[2]&&(a[c]=d.quads[2],l+=1,c+=1),d.quads[3]&&(a[c]=d.quads[3],l+=1,c+=1)))}},f=function(t,i){e=i;var n,r=Number.MAX_VALUE,o=Number.MAX_VALUE,s=Number.MIN_VALUE,h=Number.MIN_VALUE,u=t,d=u.length;for(n=d;n--;){var f=u[n].x,v=u[n].y;r>f&&(r=f),f>s&&(s=f),o>v&&(o=v),v>h&&(h=v)}var g=s-r,E=h-o;for(g>E?h=o+g:s=r+E,a=0,_=l(),_.left=r,_.right=s,_.top=o,_.bottom=h,n=d;n--;)c(u[n],_)};return{init:f,update:d}},Xl=function(t){t.fx-=t.x*this.attractive,t.fy-=t.y*this.attractive},Vl=function(t){if(0!=t.k){var i=this._d7,e=t.from,n=t.to,r=n.x-e.x,o=n.y-e.y,s=r*r+o*o,h=Math.sqrt(s)||.1,a=(h-i)*t.k*this.elastic;a/=h;var l=a*r,_=a*o;n.fx-=l,n.fy-=_,e.fx+=l,e.fy+=_}};Lo.prototype={appendNodeInfo:function(t,i){i.mass=t.layoutMass||1,i.fx=0,i.fy=0,i.vx=0,i.vy=0},appendEdgeInfo:function(t,i){i.k=t.layoutElasticity||1},setMass:function(t,i){t.layoutMass=i,this.layoutDatas&&this.layoutDatas.nodes&&(t=this.layoutDatas.nodes[t.id],t&&(t.mass=i))},setElasticity:function(t,i){t.layoutElasticity=i,this.layoutDatas&&this.layoutDatas.edges&&(t=this.layoutDatas.edges[t.id],t&&(t.k=i))},_d7:50,_hz:.5,timeStep:.15,repulsion:50,attractive:.1,elastic:3,_lt:1e3,_kc:function(t){return this._lt+.3*(t-this._lt)},_lk:function(t,i){var e=(Date.now(),this.layoutDatas.nodes);for(var n in e){var r=e[n];i&&(r.x+=Math.random()-.5,r.y+=Math.random()-.5),Xl.call(this,r)}var o=this.layoutDatas.groups;if(o)for(var n in o){var s=o[n],h=s.children,a=0,l=0;h.forEach(function(t){a+=t.x,l+=t.y}),a/=h.length,l/=h.length;var _=10*this.attractive;h.forEach(function(t){t.fx-=(t.x-a)*_,t.fy-=(t.y-l)*_})}var u=this._nbodyForce;u||(u=this._nbodyForce=ql()),u.init(this.layoutDatas.nodesArray,-this.repulsion*this.repulsion*this.repulsion);for(var n in e)u.update(e[n]);if(this.elastic){var c=this.layoutDatas.edges;for(var n in c)Vl.call(this,c[n])}return this._lo(t)},_lo:function(t){var i=this.layoutDatas.minEnergy,e=(this.layoutDatas.currentEnergy,this.layoutDatas.nodes),t=this.timeStep,n=0,r=this._hz;for(var o in e){var s=e[o],h=s.fx/s.mass,a=s.fy/s.mass,l=s.vx+=h*t,_=s.vy+=a*t;s.x+=l*t,s.y+=_*t,i>n&&(n+=2*(l*l+_*_)),s.fx=0,s.fy=0,s.vx*=r,s.vy*=r}return this.layoutDatas.currentEnergy=n,n>=i}},w(Lo,bo),hh.SpringLayouter=Lo;var Kl=function(t){this.locations=t};Kl.prototype={oldLocations:null,_fd:null,duration:700,animationType:nh.easeOutStrong,_7j:function(t){if(this._fd=t,this.oldLocations={},t)for(var i in t){var e=t[i],n=e.node;this.oldLocations[i]={x:n.x,y:n.y}}},setLocation:function(t,i,e){t.setLocation(i,e)},forEach:function(t,i){for(var e in this.locations){var n=this.oldLocations[e],r=this.locations[e];t.call(i,n,r)}},_kb:function(t){this.forEach(function(i,e){var n=e.node,r=i.x+(e.x-i.x)*t,o=i.y+(e.y-i.y)*t;this.setLocation(n,r,o)},this)},stop:function(){this._mlnimate&&this._mlnimate._lp()},start:function(t){this._mlnimate?(this._mlnimate._lp(),this._mlnimate._i1=this.duration,this._mlnimate._ejType=this.animationType,this._mlnimate._onfinish=this._onfinish):this._mlnimate=new oh(this._kb,this,this.duration,this.animationType),this._mlnimate._kz(t)}},Z(Kl.prototype,{locations:{get:function(){return this._fd},set:function(t){this._fd!=t&&this._7j(t)}}});var Zl=function(t){var i,e=new qo;return t.forEach(function(t){t instanceof Aa&&(t.hasInEdge()?!i&&t.hasOutEdge()&&(i=t):e.add(t))}),e.isEmpty()&&i&&e.add(i),e},Jl=function(t,i,e,n,r,o){if(i instanceof ws)return t(i,e,n,r,o),i;if(i instanceof Wa){var s=new qo;i._kmModel.forEach(function(t){return i.isVisible(t)?t._ie()&&t._gh&&t.hasChildren()?void(t.$location&&(t.$location.invalidateFlag=!1)):void s.add(t):void 0}),i=s}var i=Zl(i,n);return f(i,function(i){t(i,e,n,r,o)}),i},Ql=function(t,i,e,n,r){return Jl(i_,t,i,e,n,r)},t_=function(t,i,e,n,r){return Jl(e_,t,i,e,n,r)};qn.prototype.forEachByTopoDepthFirstSearch=function(t,i,e,n){Ql(this,t,i,e,n)},qn.prototype.forEachByTopoBreadthFirstSearch=function(t,i,e,n){t instanceof Object&&1==arguments.length&&(i=t.scope),t_(this,t,i,e,n)};var i_=function(t,i,e,n,r){function o(t,i,e,n,r,s,h,a){t._marker=s,n||i.call(e,t,a,h),xo(t,function(a){o(a,i,e,n,r,s,h+1,t)},a,r,s,e),n&&i.call(e,t,a,h)}o(t,i,e,n,r,{},0)},e_=function(t,i,e,n,r){function o(t,i,e,n,r,s,h){var a,l=t.length;t.forEach(function(t,o){var _=t.v;_._marker=s,n||i.call(e,_,t._from,h,o,l),xo(_,function(t){a||(a=[]),t._marker=s,a.push({v:t,_from:_})},_,r,s,e)}),a&&o(a,i,e,n,r,s,h+1),n&&t.forEach(function(t,n){i.call(e,t.v,t._from,h,n,l)})}o([{v:t}],i,e,n,r,{},0)};hh.toColor=V,hh.log=ti,hh.error=ei,hh.trace=ii,hh.isIE=Ro,hh.isOpera=Co,hh.isWebkit=No,hh.isGecko=Mo,hh.isFirefox=ko,hh.isSafari=Go,hh.isChrome=Bo,hh.isMac=zo,hh.DefaultStyles=Ua,hh.Defaults=Wo,hh.Styles=Ca,hh.Consts=ah,hh.Graphs=Xh,hh.Graph=Wa,hh.BaseUI=Sa,hh.ElementUI=$a,hh.NodeUI=er,hh.EdgeUI=ir,hh.LabelUI=Ya,hh.ImageUI=ja,hh.Shapes=La,hh.Path=Uh,hh.Gradient=Sh,hh.InteractionEvent=yo,hh.Element=wa,hh.Node=Aa,hh.Edge=Oa,hh.GraphModel=qn,hh.EdgeBundle=Wl,hh.TreeLayouter=Ml,hh.name="Qunee for HTML5";hh.version="2.6.0.2",hh.about="Qunee - Diagramming Components for HTML5/Canvas",hh.copyright="Copyright © 2017 Qunee.com",hh.css=fi;return hh.IDrawable=qa,ti=function(){},hh.publishDate="17/1/2017",hh}(window,document);